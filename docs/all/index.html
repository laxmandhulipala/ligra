<!DOCTYPE html>
<html>

  <head>
  <meta charset='utf-8'>
  <meta http-equiv='X-UA-Compatible' content='IE=edge'>
  <meta name='viewport' content='width=device-width, initial-scale=1'>

  <title>All of the Latest Documentation</title>
  <meta name='description' content='Build cross platform desktop apps with web technologies'>

  <link rel='shortcut icon' href='/images/favicon.ico'/>
  <link rel='stylesheet' href='/css/normalize.css'>
  <link rel='stylesheet' href='/css/skeleton.css'>
  <link rel='stylesheet' href='/css/main.css'>
  <link rel='stylesheet' href='/css/octicons/octicons.css'>
  <link rel='stylesheet' href='/css/pygments.css'>
  <link href='http://fonts.googleapis.com/css?family=Source+Code+Pro:400,700' rel='stylesheet' type='text/css'>
  <link rel='canonical' href='/docs/all/'>
  <link rel='alternate' type='application/rss+xml' title='Electron' href='/feed.xml' />
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-3769691-57', 'auto');
    ga('send', 'pageview');
  </script>
</head>


  <body>

    <header>
  <div class='top-bar'>
    <div class='container'>
      <div class='row'>
        <div class='four columns'>
          <ul class='navigation inline-list'>
            <li><a href='/#built-on-electron'>Built on Electron</a></li>
            <li><a href='/#get-started'>Get Started</a></li>
          </ul>
        </div>
        <div class='eight columns text-right'>
          <ul class='navigation inline-list'>
            <li><a href='https://github.com/atom/electron'>Repository</a></li>
            <li><a href='/docs/v0.36.5'>Documentation</a></li>
            <li><a href='http://blog.atom.io'>Blog</a></li>
            <li><a href='https://discuss.atom.io/c/electron'>Discuss</a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>


    <div class='page-content'>
      <div class='wrapper'>
        <div class='page-template all-of-the-latest-documentation'>
  <section class='jump-to-release is-compact'>
  <div class='container'>
    <div class='row'>
      <div class='twelve columns'>
      <h1><img class="electron-icon" src='/images/electron-icon.svg'>Electron Documentation</h1>
      
      </div>
    </div>
  </div>
</section>

<section class='docs'>
  <div class='container'>
    <div class='row'>
      <div class='ten columns release offset-by-one'>
        

        <h1 id="all-of-the-electron-documentation">All of the Electron Documentation</h1>

<p>Below is the latest version of documentation. See all <a href="/docs/">available versions</a>.</p>

<hr>

<h1 id="accelerator">Accelerator</h1>

<p>An accelerator is a string that represents a keyboard shortcut. It can contain
multiple modifiers and key codes, combined by the <code>+</code> character.</p>

<p>Examples:</p>

<ul>
<li><code>Command+A</code></li>
<li><code>Ctrl+Shift+Z</code></li>
</ul>

<h2 id="platform-notice">Platform notice</h2>

<p>On Linux and Windows, the <code>Command</code> key does not have any effect so
use <code>CommandOrControl</code> which represents <code>Command</code> on OS X and <code>Control</code> on
Linux and Windows to define some accelerators.</p>

<p>The <code>Super</code> key is mapped to the <code>Windows</code> key on Windows and Linux and
<code>Cmd</code> on OS X.</p>

<h2 id="available-modifiers">Available modifiers</h2>

<ul>
<li><code>Command</code> (or <code>Cmd</code> for short)</li>
<li><code>Control</code> (or <code>Ctrl</code> for short)</li>
<li><code>CommandOrControl</code> (or <code>CmdOrCtrl</code> for short)</li>
<li><code>Alt</code></li>
<li><code>Shift</code></li>
<li><code>Super</code></li>
</ul>

<h2 id="available-key-codes">Available key codes</h2>

<ul>
<li><code>0</code> to <code>9</code></li>
<li><code>A</code> to <code>Z</code></li>
<li><code>F1</code> to <code>F24</code></li>
<li>Punctuations like <code>~</code>, <code>!</code>, <code>@</code>, <code>#</code>, <code>$</code>, etc.</li>
<li><code>Plus</code></li>
<li><code>Space</code></li>
<li><code>Backspace</code></li>
<li><code>Delete</code></li>
<li><code>Insert</code></li>
<li><code>Return</code> (or <code>Enter</code> as alias)</li>
<li><code>Up</code>, <code>Down</code>, <code>Left</code> and <code>Right</code></li>
<li><code>Home</code> and <code>End</code></li>
<li><code>PageUp</code> and <code>PageDown</code></li>
<li><code>Escape</code> (or <code>Esc</code> for short)</li>
<li><code>VolumeUp</code>, <code>VolumeDown</code> and <code>VolumeMute</code></li>
<li><code>MediaNextTrack</code>, <code>MediaPreviousTrack</code>, <code>MediaStop</code> and <code>MediaPlayPause</code></li>
</ul>

<h1 id="app">app</h1>

<p>The <code>app</code> module is responsible for controlling the application&#39;s lifecycle.</p>

<p>The following example shows how to quit the application when the last window is
closed:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="nx">app</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;electron&#39;</span><span class="p">).</span><span class="nx">app</span><span class="p">;</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;window-all-closed&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">app</span><span class="p">.</span><span class="nx">quit</span><span class="p">();</span>
<span class="p">});</span>
</code></pre></div>

<h2 id="events">Events</h2>

<p>The <code>app</code> object emits the following events:</p>

<h3 id="event:-&#39;will-finish-launching&#39;">Event: &#39;will-finish-launching&#39;</h3>

<p>Emitted when the application has finished basic startup. On Windows and Linux,
the <code>will-finish-launching</code> event is the same as the <code>ready</code> event; on OS X,
this event represents the <code>applicationWillFinishLaunching</code> notification of
<code>NSApplication</code>. You would usually set up listeners for the <code>open-file</code> and
<code>open-url</code> events here, and start the crash reporter and auto updater.</p>

<p>In most cases, you should just do everything in the <code>ready</code> event handler.</p>

<h3 id="event:-&#39;ready&#39;">Event: &#39;ready&#39;</h3>

<p>Emitted when Electron has finished initialization.</p>

<h3 id="event:-&#39;window-all-closed&#39;">Event: &#39;window-all-closed&#39;</h3>

<p>Emitted when all windows have been closed.</p>

<p>This event is only emitted when the application is not going to quit. If the
user pressed <code>Cmd + Q</code>, or the developer called <code>app.quit()</code>, Electron will
first try to close all the windows and then emit the <code>will-quit</code> event, and in
this case the <code>window-all-closed</code> event would not be emitted.</p>

<h3 id="event:-&#39;before-quit&#39;">Event: &#39;before-quit&#39;</h3>

<p>Returns:</p>

<ul>
<li><code>event</code> Event</li>
</ul>

<p>Emitted before the application starts closing its windows.
Calling <code>event.preventDefault()</code> will prevent the default behaviour, which is
terminating the application.</p>

<h3 id="event:-&#39;will-quit&#39;">Event: &#39;will-quit&#39;</h3>

<p>Returns:</p>

<ul>
<li><code>event</code> Event</li>
</ul>

<p>Emitted when all windows have been closed and the application will quit.
Calling <code>event.preventDefault()</code> will prevent the default behaviour, which is
terminating the application.</p>

<p>See the description of the <code>window-all-closed</code> event for the differences between
the <code>will-quit</code> and <code>window-all-closed</code> events.</p>

<h3 id="event:-&#39;quit&#39;">Event: &#39;quit&#39;</h3>

<p>Returns:</p>

<ul>
<li><code>event</code> Event</li>
<li><code>exitCode</code> Integer</li>
</ul>

<p>Emitted when the application is quitting.</p>

<h3 id="event:-&#39;open-file&#39;-os-x">Event: &#39;open-file&#39; <em>OS X</em></h3>

<p>Returns:</p>

<ul>
<li><code>event</code> Event</li>
<li><code>path</code> String</li>
</ul>

<p>Emitted when the user wants to open a file with the application. The <code>open-file</code>
event is usually emitted when the application is already open and the OS wants
to reuse the application to open the file. <code>open-file</code> is also emitted when a
file is dropped onto the dock and the application is not yet running. Make sure
to listen for the <code>open-file</code> event very early in your application startup to
handle this case (even before the <code>ready</code> event is emitted).</p>

<p>You should call <code>event.preventDefault()</code> if you want to handle this event.</p>

<p>On Windows, you have to parse <code>process.argv</code> to get the filepath.</p>

<h3 id="event:-&#39;open-url&#39;-os-x">Event: &#39;open-url&#39; <em>OS X</em></h3>

<p>Returns:</p>

<ul>
<li><code>event</code> Event</li>
<li><code>url</code> String</li>
</ul>

<p>Emitted when the user wants to open a URL with the application. The URL scheme
must be registered to be opened by your application.</p>

<p>You should call <code>event.preventDefault()</code> if you want to handle this event.</p>

<h3 id="event:-&#39;activate&#39;-os-x">Event: &#39;activate&#39; <em>OS X</em></h3>

<p>Returns:</p>

<ul>
<li><code>event</code> Event</li>
<li><code>hasVisibleWindows</code> Boolean</li>
</ul>

<p>Emitted when the application is activated, which usually happens when clicks on
the applications&#39;s dock icon.</p>

<h3 id="event:-&#39;browser-window-blur&#39;">Event: &#39;browser-window-blur&#39;</h3>

<p>Returns:</p>

<ul>
<li><code>event</code> Event</li>
<li><code>window</code> BrowserWindow</li>
</ul>

<p>Emitted when a <a href="http://electron.atom.io/docs/v0.36.5/api/browser-window">browserWindow</a> gets blurred.</p>

<h3 id="event:-&#39;browser-window-focus&#39;">Event: &#39;browser-window-focus&#39;</h3>

<p>Returns:</p>

<ul>
<li><code>event</code> Event</li>
<li><code>window</code> BrowserWindow</li>
</ul>

<p>Emitted when a <a href="http://electron.atom.io/docs/v0.36.5/api/browser-window">browserWindow</a> gets focused.</p>

<h3 id="event:-&#39;browser-window-created&#39;">Event: &#39;browser-window-created&#39;</h3>

<p>Returns:</p>

<ul>
<li><code>event</code> Event</li>
<li><code>window</code> BrowserWindow</li>
</ul>

<p>Emitted when a new <a href="http://electron.atom.io/docs/v0.36.5/api/browser-window">browserWindow</a> is created.</p>

<h3 id="event:-&#39;certificate-error&#39;">Event: &#39;certificate-error&#39;</h3>

<p>Returns:</p>

<ul>
<li><code>event</code> Event</li>
<li><code>webContents</code> <a href="http://electron.atom.io/docs/v0.36.5/api/web-contents">WebContents</a></li>
<li><code>url</code> URL</li>
<li><code>error</code> String - The error code</li>
<li><code>certificate</code> Object

<ul>
<li><code>data</code> Buffer - PEM encoded data</li>
<li><code>issuerName</code> String</li>
</ul></li>
<li><code>callback</code> Function</li>
</ul>

<p>Emitted when failed to verify the <code>certificate</code> for <code>url</code>, to trust the
certificate you should prevent the default behavior with
<code>event.preventDefault()</code> and call <code>callback(true)</code>.</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">session</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;certificate-error&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">webContents</span><span class="p">,</span> <span class="nx">url</span><span class="p">,</span> <span class="nx">error</span><span class="p">,</span> <span class="nx">certificate</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">url</span> <span class="o">==</span> <span class="s2">&quot;https://github.com&quot;</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Verification logic.</span>
    <span class="nx">event</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
    <span class="nx">callback</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">callback</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div>

<h3 id="event:-&#39;select-client-certificate&#39;">Event: &#39;select-client-certificate&#39;</h3>

<p>Returns:</p>

<ul>
<li><code>event</code> Event</li>
<li><code>webContents</code> <a href="http://electron.atom.io/docs/v0.36.5/api/web-contents">WebContents</a></li>
<li><code>url</code> URL</li>
<li><code>certificateList</code> [Objects]

<ul>
<li><code>data</code> Buffer - PEM encoded data</li>
<li><code>issuerName</code> String - Issuer&#39;s Common Name</li>
</ul></li>
<li><code>callback</code> Function</li>
</ul>

<p>Emitted when a client certificate is requested.</p>

<p>The <code>url</code> corresponds to the navigation entry requesting the client certificate
and <code>callback</code> needs to be called with an entry filtered from the list. Using
<code>event.preventDefault()</code> prevents the application from using the first
certificate from the store.</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">app</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;select-client-certificate&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">webContents</span><span class="p">,</span> <span class="nx">url</span><span class="p">,</span> <span class="nx">list</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">event</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
  <span class="nx">callback</span><span class="p">(</span><span class="nx">list</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
<span class="p">})</span>
</code></pre></div>

<h3 id="event:-&#39;login&#39;">Event: &#39;login&#39;</h3>

<p>Returns:</p>

<ul>
<li><code>event</code> Event</li>
<li><code>webContents</code> <a href="http://electron.atom.io/docs/v0.36.5/api/web-contents">WebContents</a></li>
<li><code>request</code> Object

<ul>
<li><code>method</code> String</li>
<li><code>url</code> URL</li>
<li><code>referrer</code> URL</li>
</ul></li>
<li><code>authInfo</code> Object

<ul>
<li><code>isProxy</code> Boolean</li>
<li><code>scheme</code> String</li>
<li><code>host</code> String</li>
<li><code>port</code> Integer</li>
<li><code>realm</code> String</li>
</ul></li>
<li><code>callback</code> Function</li>
</ul>

<p>Emitted when <code>webContents</code> wants to do basic auth.</p>

<p>The default behavior is to cancel all authentications, to override this you
should prevent the default behavior with <code>event.preventDefault()</code> and call
<code>callback(username, password)</code> with the credentials.</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">app</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;login&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">webContents</span><span class="p">,</span> <span class="nx">request</span><span class="p">,</span> <span class="nx">authInfo</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">event</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
  <span class="nx">callback</span><span class="p">(</span><span class="s1">&#39;username&#39;</span><span class="p">,</span> <span class="s1">&#39;secret&#39;</span><span class="p">);</span>
<span class="p">})</span>
</code></pre></div>

<h3 id="event:-&#39;gpu-process-crashed&#39;">Event: &#39;gpu-process-crashed&#39;</h3>

<p>Emitted when the gpu process crashes.</p>

<h2 id="methods">Methods</h2>

<p>The <code>app</code> object has the following methods:</p>

<p><strong>Note:</strong> Some methods are only available on specific operating systems and are labeled as such.</p>

<h3 id="app.quit()"><code>app.quit()</code></h3>

<p>Try to close all windows. The <code>before-quit</code> event will be emitted first. If all
windows are successfully closed, the <code>will-quit</code> event will be emitted and by
default the application will terminate.</p>

<p>This method guarantees that all <code>beforeunload</code> and <code>unload</code> event handlers are
correctly executed. It is possible that a window cancels the quitting by
returning <code>false</code> in the <code>beforeunload</code> event handler.</p>

<h3 id="app.exit(exitcode)"><code>app.exit(exitCode)</code></h3>

<ul>
<li><code>exitCode</code> Integer</li>
</ul>

<p>Exits immediately with <code>exitCode</code>.</p>

<p>All windows will be closed immediately without asking user and the <code>before-quit</code>
and <code>will-quit</code> events will not be emitted.</p>

<h3 id="app.getapppath()"><code>app.getAppPath()</code></h3>

<p>Returns the current application directory.</p>

<h3 id="app.getpath(name)"><code>app.getPath(name)</code></h3>

<ul>
<li><code>name</code> String</li>
</ul>

<p>Retrieves a path to a special directory or file associated with <code>name</code>. On
failure an <code>Error</code> is thrown.</p>

<p>You can request the following paths by the name:</p>

<ul>
<li><code>home</code> User&#39;s home directory.</li>
<li><code>appData</code> Per-user application data directory, which by default points to:

<ul>
<li><code>%APPDATA%</code> on Windows</li>
<li><code>$XDG_CONFIG_HOME</code> or <code>~/.config</code> on Linux</li>
<li><code>~/Library/Application Support</code> on OS X</li>
</ul></li>
<li><code>userData</code> The directory for storing your app&#39;s configuration files, which by
default it is the <code>appData</code> directory appended with your app&#39;s name.</li>
<li><code>temp</code> Temporary directory.</li>
<li><code>exe</code> The current executable file.</li>
<li><code>module</code> The <code>libchromiumcontent</code> library.</li>
<li><code>desktop</code> The current user&#39;s Desktop directory.</li>
<li><code>documents</code> Directory for a user&#39;s &quot;My Documents&quot;.</li>
<li><code>downloads</code> Directory for a user&#39;s downloads.</li>
<li><code>music</code> Directory for a user&#39;s music.</li>
<li><code>pictures</code> Directory for a user&#39;s pictures.</li>
<li><code>videos</code> Directory for a user&#39;s videos.</li>
</ul>

<h3 id="app.setpath(name,-path)"><code>app.setPath(name, path)</code></h3>

<ul>
<li><code>name</code> String</li>
<li><code>path</code> String</li>
</ul>

<p>Overrides the <code>path</code> to a special directory or file associated with <code>name</code>. If
the path specifies a directory that does not exist, the directory will be
created by this method. On failure an <code>Error</code> is thrown.</p>

<p>You can only override paths of a <code>name</code> defined in <code>app.getPath</code>.</p>

<p>By default, web pages&#39; cookies and caches will be stored under the <code>userData</code>
directory. If you want to change this location, you have to override the
<code>userData</code> path before the <code>ready</code> event of the <code>app</code> module is emitted.</p>

<h3 id="app.getversion()"><code>app.getVersion()</code></h3>

<p>Returns the version of the loaded application. If no version is found in the
application&#39;s <code>package.json</code> file, the version of the current bundle or
executable is returned.</p>

<h3 id="app.getname()"><code>app.getName()</code></h3>

<p>Returns the current application&#39;s name, which is the name in the application&#39;s
<code>package.json</code> file.</p>

<p>Usually the <code>name</code> field of <code>package.json</code> is a short lowercased name, according
to the npm modules spec. You should usually also specify a <code>productName</code>
field, which is your application&#39;s full capitalized name, and which will be
preferred over <code>name</code> by Electron.</p>

<h3 id="app.getlocale()"><code>app.getLocale()</code></h3>

<p>Returns the current application locale.</p>

<h3 id="app.addrecentdocument(path)-os-x-windows"><code>app.addRecentDocument(path)</code> <em>OS X</em> <em>Windows</em></h3>

<ul>
<li><code>path</code> String</li>
</ul>

<p>Adds <code>path</code> to the recent documents list.</p>

<p>This list is managed by the OS. On Windows you can visit the list from the task
bar, and on OS X you can visit it from dock menu.</p>

<h3 id="app.clearrecentdocuments()-os-x-windows"><code>app.clearRecentDocuments()</code> <em>OS X</em> <em>Windows</em></h3>

<p>Clears the recent documents list.</p>

<h3 id="app.setusertasks(tasks)-windows"><code>app.setUserTasks(tasks)</code> <em>Windows</em></h3>

<ul>
<li><code>tasks</code> Array - Array of <code>Task</code> objects</li>
</ul>

<p>Adds <code>tasks</code> to the <a href="http://msdn.microsoft.com/en-us/library/windows/desktop/dd378460(v=vs.85).aspx#tasks">Tasks</a> category of the JumpList on Windows.</p>

<p><code>tasks</code> is an array of <code>Task</code> objects in the following format:</p>

<p><code>Task</code> Object:</p>

<ul>
<li><code>program</code> String - Path of the program to execute, usually you should
specify <code>process.execPath</code> which opens the current program.</li>
<li><code>arguments</code> String - The command line arguments when <code>program</code> is
executed.</li>
<li><code>title</code> String - The string to be displayed in a JumpList.</li>
<li><code>description</code> String - Description of this task.</li>
<li><code>iconPath</code> String - The absolute path to an icon to be displayed in a
JumpList, which can be an arbitrary resource file that contains an icon. You
can usually specify <code>process.execPath</code> to show the icon of the program.</li>
<li><code>iconIndex</code> Integer - The icon index in the icon file. If an icon file
consists of two or more icons, set this value to identify the icon. If an
icon file consists of one icon, this value is 0.</li>
</ul>

<h3 id="app.allowntlmcredentialsforalldomains(allow)"><code>app.allowNTLMCredentialsForAllDomains(allow)</code></h3>

<ul>
<li><code>allow</code> Boolean</li>
</ul>

<p>Dynamically sets whether to always send credentials for HTTP NTLM or Negotiate
authentication - normally, Electron will only send NTLM/Kerberos credentials for
URLs that fall under &quot;Local Intranet&quot; sites (i.e. are in the same domain as you).
However, this detection often fails when corporate networks are badly configured,
so this lets you co-opt this behavior and enable it for all URLs.</p>

<h3 id="app.makesingleinstance(callback)"><code>app.makeSingleInstance(callback)</code></h3>

<ul>
<li><code>callback</code> Function</li>
</ul>

<p>This method makes your application a Single Instance Application - instead of
allowing multiple instances of your app to run, this will ensure that only a
single instance of your app is running, and other instances signal this
instance and exit.</p>

<p><code>callback</code> will be called with <code>callback(argv, workingDirectory)</code> when a second
instance has been executed. <code>argv</code> is an Array of the second instance&#39;s command
line arguments, and <code>workingDirectory</code> is its current working directory. Usually
applications respond to this by making their primary window focused and
non-minimized.</p>

<p>The <code>callback</code> is guaranteed to be executed after the <code>ready</code> event of <code>app</code>
gets emitted.</p>

<p>This method returns <code>false</code> if your process is the primary instance of the
application and your app should continue loading. And returns <code>true</code> if your
process has sent its parameters to another instance, and you should immediately
quit.</p>

<p>On OS X the system enforces single instance automatically when users try to open
a second instance of your app in Finder, and the <code>open-file</code> and <code>open-url</code>
events will be emitted for that. However when users start your app in command
line the system&#39;s single instance machanism will be bypassed and you have to
use this method to ensure single instance.</p>

<p>An example of activating the window of primary instance when a second instance
starts:</p>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">myWindow</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">shouldQuit</span> <span class="o">=</span> <span class="nx">app</span><span class="p">.</span><span class="nx">makeSingleInstance</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">commandLine</span><span class="p">,</span> <span class="nx">workingDirectory</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Someone tried to run a second instance, we should focus our window.</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">myWindow</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">myWindow</span><span class="p">.</span><span class="nx">isMinimized</span><span class="p">())</span> <span class="nx">myWindow</span><span class="p">.</span><span class="nx">restore</span><span class="p">();</span>
    <span class="nx">myWindow</span><span class="p">.</span><span class="nx">focus</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
<span class="p">});</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">shouldQuit</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">app</span><span class="p">.</span><span class="nx">quit</span><span class="p">();</span>
  <span class="k">return</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Create myWindow, load the rest of the app, etc...</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;ready&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
<span class="p">});</span>
</code></pre></div>

<h3 id="app.setappusermodelid(id)-windows"><code>app.setAppUserModelId(id)</code> <em>Windows</em></h3>

<ul>
<li><code>id</code> String</li>
</ul>

<p>Changes the <a href="https://msdn.microsoft.com/en-us/library/windows/desktop/dd378459(v=vs.85).aspx">Application User Model ID</a> to <code>id</code>.</p>

<h3 id="app.isaeroglassenabled()-windows"><code>app.isAeroGlassEnabled()</code> <em>Windows</em></h3>

<p>This method returns <code>true</code> if <a href="https://msdn.microsoft.com/en-us/library/windows/desktop/aa969540.aspx">DWM composition</a>
(Aero Glass) is enabled, and <code>false</code> otherwise. You can use it to determine if
you should create a transparent window or not (transparent windows won&#39;t work
correctly when DWM composition is disabled).</p>

<p>Usage example:</p>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">let</span> <span class="nx">browserOptions</span> <span class="o">=</span> <span class="p">{</span><span class="nx">width</span><span class="o">:</span> <span class="mi">1000</span><span class="p">,</span> <span class="nx">height</span><span class="o">:</span> <span class="mi">800</span><span class="p">};</span>

<span class="c1">// Make the window transparent only if the platform supports it.</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">process</span><span class="p">.</span><span class="nx">platform</span> <span class="o">!==</span> <span class="s1">&#39;win32&#39;</span> <span class="o">||</span> <span class="nx">app</span><span class="p">.</span><span class="nx">isAeroGlassEnabled</span><span class="p">())</span> <span class="p">{</span>
  <span class="nx">browserOptions</span><span class="p">.</span><span class="nx">transparent</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
  <span class="nx">browserOptions</span><span class="p">.</span><span class="nx">frame</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Create the window.</span>
<span class="nx">win</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BrowserWindow</span><span class="p">(</span><span class="nx">browserOptions</span><span class="p">);</span>

<span class="c1">// Navigate.</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">browserOptions</span><span class="p">.</span><span class="nx">transparent</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">win</span><span class="p">.</span><span class="nx">loadURL</span><span class="p">(</span><span class="s1">&#39;file://&#39;</span> <span class="o">+</span> <span class="nx">__dirname</span> <span class="o">+</span> <span class="s1">&#39;/index.html&#39;</span><span class="p">);</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="c1">// No transparency, so we load a fallback that uses basic styles.</span>
  <span class="nx">win</span><span class="p">.</span><span class="nx">loadURL</span><span class="p">(</span><span class="s1">&#39;file://&#39;</span> <span class="o">+</span> <span class="nx">__dirname</span> <span class="o">+</span> <span class="s1">&#39;/fallback.html&#39;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="app.commandline.appendswitch(switch[,-value])"><code>app.commandLine.appendSwitch(switch[, value])</code></h3>

<p>Append a switch (with optional <code>value</code>) to Chromium&#39;s command line.</p>

<p><strong>Note:</strong> This will not affect <code>process.argv</code>, and is mainly used by developers
to control some low-level Chromium behaviors.</p>

<h3 id="app.commandline.appendargument(value)"><code>app.commandLine.appendArgument(value)</code></h3>

<p>Append an argument to Chromium&#39;s command line. The argument will be quoted
correctly.</p>

<p><strong>Note:</strong> This will not affect <code>process.argv</code>.</p>

<h3 id="app.dock.bounce([type])-os-x"><code>app.dock.bounce([type])</code> <em>OS X</em></h3>

<ul>
<li><code>type</code> String (optional) - Can be <code>critical</code> or <code>informational</code>. The default is
<code>informational</code></li>
</ul>

<p>When <code>critical</code> is passed, the dock icon will bounce until either the
application becomes active or the request is canceled.</p>

<p>When <code>informational</code> is passed, the dock icon will bounce for one second.
However, the request remains active until either the application becomes active
or the request is canceled.</p>

<p>Returns an ID representing the request.</p>

<h3 id="app.dock.cancelbounce(id)-os-x"><code>app.dock.cancelBounce(id)</code> <em>OS X</em></h3>

<ul>
<li><code>id</code> Integer</li>
</ul>

<p>Cancel the bounce of <code>id</code>.</p>

<h3 id="app.dock.setbadge(text)-os-x"><code>app.dock.setBadge(text)</code> <em>OS X</em></h3>

<ul>
<li><code>text</code> String</li>
</ul>

<p>Sets the string to be displayed in the dockâ€™s badging area.</p>

<h3 id="app.dock.getbadge()-os-x"><code>app.dock.getBadge()</code> <em>OS X</em></h3>

<p>Returns the badge string of the dock.</p>

<h3 id="app.dock.hide()-os-x"><code>app.dock.hide()</code> <em>OS X</em></h3>

<p>Hides the dock icon.</p>

<h3 id="app.dock.show()-os-x"><code>app.dock.show()</code> <em>OS X</em></h3>

<p>Shows the dock icon.</p>

<h3 id="app.dock.setmenu(menu)-os-x"><code>app.dock.setMenu(menu)</code> <em>OS X</em></h3>

<ul>
<li><code>menu</code> Menu</li>
</ul>

<p>Sets the application&#39;s <a href="https://developer.apple.com/library/mac/documentation/Carbon/Conceptual/customizing_docktile/concepts/dockconcepts.html#//apple_ref/doc/uid/TP30000986-CH2-TPXREF103">dock menu</a>.</p>

<h1 id="autoupdater">autoUpdater</h1>

<p>This module provides an interface for the <code>Squirrel</code> auto-updater framework.</p>

<h2 id="platform-notices">Platform notices</h2>

<p>Though <code>autoUpdater</code> provides a uniform API for different platforms, there are
still some subtle differences on each platform.</p>

<h3 id="os-x">OS X</h3>

<p>On OS X, the <code>autoUpdater</code> module is built upon <a href="https://github.com/Squirrel/Squirrel.Mac">Squirrel.Mac</a>,
meaning you don&#39;t need any special setup to make it work. For server-side
requirements, you can read <a href="https://github.com/Squirrel/Squirrel.Mac#server-support">Server Support</a>.</p>

<h3 id="windows">Windows</h3>

<p>On Windows, you have to install your app into a user&#39;s machine before you can
use the auto-updater, so it is recommended to use
<a href="https://github.com/atom/grunt-electron-installer">grunt-electron-installer</a> module to generate a Windows installer.</p>

<p>The installer generated with Squirrel will create a shortcut icon with an
<a href="https://msdn.microsoft.com/en-us/library/windows/desktop/dd378459(v=vs.85).aspx">Application User Model ID</a> in the format of
<code>com.squirrel.PACKAGE_ID.YOUR_EXE_WITHOUT_DOT_EXE</code>, examples are
<code>com.squirrel.slack.Slack</code> and <code>com.squirrel.code.Code</code>. You have to use the
same ID for your app with <code>app.setAppUserModelId</code> API, otherwise Windows will
not be able to pin your app properly in task bar.</p>

<p>The server-side setup is also different from OS X. You can read the documents of
<a href="https://github.com/Squirrel/Squirrel.Windows">Squirrel.Windows</a> to get more details.</p>

<h3 id="linux">Linux</h3>

<p>There is no built-in support for auto-updater on Linux, so it is recommended to
use the distribution&#39;s package manager to update your app.</p>

<h2 id="events">Events</h2>

<p>The <code>autoUpdater</code> object emits the following events:</p>

<h3 id="event:-&#39;error&#39;">Event: &#39;error&#39;</h3>

<p>Returns:</p>

<ul>
<li><code>error</code> Error</li>
</ul>

<p>Emitted when there is an error while updating.</p>

<h3 id="event:-&#39;checking-for-update&#39;">Event: &#39;checking-for-update&#39;</h3>

<p>Emitted when checking if an update has started.</p>

<h3 id="event:-&#39;update-available&#39;">Event: &#39;update-available&#39;</h3>

<p>Emitted when there is an available update. The update is downloaded
automatically.</p>

<h3 id="event:-&#39;update-not-available&#39;">Event: &#39;update-not-available&#39;</h3>

<p>Emitted when there is no available update.</p>

<h3 id="event:-&#39;update-downloaded&#39;">Event: &#39;update-downloaded&#39;</h3>

<p>Returns:</p>

<ul>
<li><code>event</code> Event</li>
<li><code>releaseNotes</code> String</li>
<li><code>releaseName</code> String</li>
<li><code>releaseDate</code> Date</li>
<li><code>updateURL</code> String</li>
</ul>

<p>Emitted when an update has been downloaded.</p>

<p>On Windows only <code>releaseName</code> is available.</p>

<h2 id="methods">Methods</h2>

<p>The <code>autoUpdater</code> object has the following methods:</p>

<h3 id="autoupdater.setfeedurl(url)"><code>autoUpdater.setFeedURL(url)</code></h3>

<ul>
<li><code>url</code> String</li>
</ul>

<p>Sets the <code>url</code> and initialize the auto updater. The <code>url</code> cannot be changed
once it is set.</p>

<h3 id="autoupdater.checkforupdates()"><code>autoUpdater.checkForUpdates()</code></h3>

<p>Asks the server whether there is an update. You must call <code>setFeedURL</code> before
using this API.</p>

<h3 id="autoupdater.quitandinstall()"><code>autoUpdater.quitAndInstall()</code></h3>

<p>Restarts the app and installs the update after it has been downloaded. It
should only be called after <code>update-downloaded</code> has been emitted.</p>

<h1 id="browserwindow">BrowserWindow</h1>

<p>The <code>BrowserWindow</code> class gives you the ability to create a browser window. For
example:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// In the main process.</span>
<span class="kr">const</span> <span class="nx">BrowserWindow</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;electron&#39;</span><span class="p">).</span><span class="nx">BrowserWindow</span><span class="p">;</span>

<span class="c1">// Or in the renderer process.</span>
<span class="kr">const</span> <span class="nx">BrowserWindow</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;electron&#39;</span><span class="p">).</span><span class="nx">remote</span><span class="p">.</span><span class="nx">BrowserWindow</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">win</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BrowserWindow</span><span class="p">({</span> <span class="nx">width</span><span class="o">:</span> <span class="mi">800</span><span class="p">,</span> <span class="nx">height</span><span class="o">:</span> <span class="mi">600</span><span class="p">,</span> <span class="nx">show</span><span class="o">:</span> <span class="kc">false</span> <span class="p">});</span>
<span class="nx">win</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;closed&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">win</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
<span class="p">});</span>

<span class="nx">win</span><span class="p">.</span><span class="nx">loadURL</span><span class="p">(</span><span class="s1">&#39;https://github.com&#39;</span><span class="p">);</span>
<span class="nx">win</span><span class="p">.</span><span class="nx">show</span><span class="p">();</span>
</code></pre></div>

<p>You can also create a window without chrome by using
<a href="http://electron.atom.io/docs/v0.36.5/api/frameless-window">Frameless Window</a> API.</p>

<h2 id="class:-browserwindow">Class: BrowserWindow</h2>

<p><code>BrowserWindow</code> is an
<a href="http://nodejs.org/api/events.html#events_class_events_eventemitter">EventEmitter</a>.</p>

<p>It creates a new <code>BrowserWindow</code> with native properties as set by the <code>options</code>.</p>

<h3 id="new-browserwindow([options])"><code>new BrowserWindow([options])</code></h3>

<ul>
<li><code>options</code> Object

<ul>
<li><code>width</code> Integer - Window&#39;s width in pixels. Default is <code>800</code>.</li>
<li><code>height</code> Integer - Window&#39;s height in pixels. Default is <code>600</code>.</li>
<li><code>x</code> Integer - Window&#39;s left offset from screen. Default is to center the
window.</li>
<li><code>y</code> Integer - Window&#39;s top offset from screen. Default is to center the
window.</li>
<li><code>useContentSize</code> Boolean - The <code>width</code> and <code>height</code> would be used as web
page&#39;s size, which means the actual window&#39;s size will include window
frame&#39;s size and be slightly larger. Default is <code>false</code>.</li>
<li><code>center</code> Boolean - Show window in the center of the screen.</li>
<li><code>minWidth</code> Integer - Window&#39;s minimum width. Default is <code>0</code>.</li>
<li><code>minHeight</code> Integer - Window&#39;s minimum height. Default is <code>0</code>.</li>
<li><code>maxWidth</code> Integer - Window&#39;s maximum width. Default is no limit.</li>
<li><code>maxHeight</code> Integer - Window&#39;s maximum height. Default is no limit.</li>
<li><code>resizable</code> Boolean - Whether window is resizable. Default is <code>true</code>.</li>
<li><code>movable</code> Boolean - Whether window is movable. This is only implemented
on OS X. Default is <code>true</code>.</li>
<li><code>alwaysOnTop</code> Boolean - Whether the window should always stay on top of
other windows. Default is <code>false</code>.</li>
<li><code>fullscreen</code> Boolean - Whether the window should show in fullscreen. When
set to <code>false</code> the fullscreen button will be hidden or disabled on OS X.
Default is <code>false</code>.</li>
<li><code>skipTaskbar</code> Boolean - Whether to show the window in taskbar. Default is
<code>false</code>.</li>
<li><code>kiosk</code> Boolean - The kiosk mode. Default is <code>false</code>.</li>
<li><code>title</code> String - Default window title. Default is <code>&quot;Electron&quot;</code>.</li>
<li><code>icon</code> <a href="http://electron.atom.io/docs/v0.36.5/api/native-image">NativeImage</a> - The window icon, when omitted on
Windows the executable&#39;s icon would be used as window icon.</li>
<li><code>show</code> Boolean - Whether window should be shown when created. Default is
<code>true</code>.</li>
<li><code>frame</code> Boolean - Specify <code>false</code> to create a
<a href="http://electron.atom.io/docs/v0.36.5/api/frameless-window">Frameless Window</a>. Default is <code>true</code>.</li>
<li><code>acceptFirstMouse</code> Boolean - Whether the web view accepts a single
mouse-down event that simultaneously activates the window. Default is
<code>false</code>.</li>
<li><code>disableAutoHideCursor</code> Boolean - Whether to hide cursor when typing.
Default is <code>false</code>.</li>
<li><code>autoHideMenuBar</code> Boolean - Auto hide the menu bar unless the <code>Alt</code>
key is pressed. Default is <code>false</code>.</li>
<li><code>enableLargerThanScreen</code> Boolean - Enable the window to be resized larger
than screen. Default is <code>false</code>.</li>
<li><code>backgroundColor</code> String - Window&#39;s background color as Hexadecimal value,
like <code>#66CD00</code> or <code>#FFF</code>. Default is <code>#000</code> (black) for Linux and Windows,
<code>#FFF</code> for Mac (or clear if transparent).</li>
<li><code>darkTheme</code> Boolean - Forces using dark theme for the window, only works on
some GTK+3 desktop environments. Default is <code>false</code>.</li>
<li><code>transparent</code> Boolean - Makes the window <a href="http://electron.atom.io/docs/v0.36.5/api/frameless-window">transparent</a>.
Default is <code>false</code>.</li>
<li><code>type</code> String - The type of window, default is normal window. See more about
this below.</li>
<li><code>titleBarStyle</code> String - The style of window title bar. See more about this
below.</li>
<li><code>webPreferences</code> Object - Settings of web page&#39;s features. See more about
this below.</li>
</ul></li>
</ul>

<p>The possible values and behaviors of <code>type</code> option are platform dependent,
supported values are:</p>

<ul>
<li>On Linux, possible types are <code>desktop</code>, <code>dock</code>, <code>toolbar</code>, <code>splash</code>,
<code>notification</code>.</li>
<li>On OS X, possible types are <code>desktop</code>, <code>textured</code>.

<ul>
<li>The <code>textured</code> type adds metal gradient appearance
(<code>NSTexturedBackgroundWindowMask</code>).</li>
<li>The <code>desktop</code> type places the window at the desktop background window level
(<code>kCGDesktopWindowLevel - 1</code>). Note that desktop window will not receive
focus, keyboard or mouse events, but you can use <code>globalShortcut</code> to receive
input sparingly.</li>
</ul></li>
</ul>

<p>The <code>titleBarStyle</code> option is only supported on OS X 10.10 Yosemite and newer.
Possible values are:</p>

<ul>
<li><code>default</code> or not specified, results in the standard gray opaque Mac title
bar.</li>
<li><code>hidden</code> results in a hidden title bar and a full size content window, yet
the title bar still has the standard window controls (&quot;traffic lights&quot;) in
the top left.</li>
<li><code>hidden-inset</code> results in a hidden title bar with an alternative look
where the traffic light buttons are slightly more inset from the window edge.</li>
</ul>

<p>The <code>webPreferences</code> option is an object that can have following properties:</p>

<ul>
<li><code>nodeIntegration</code> Boolean - Whether node integration is enabled. Default
is <code>true</code>.</li>
<li><code>preload</code> String - Specifies a script that will be loaded before other
scripts run in the page. This script will always have access to node APIs
no matter whether node integration is turned on or off. The value should
be the absolute file path to the script.
When node integration is turned off, the preload script can reintroduce
Node global symbols back to the global scope. See example
<a href="http://electron.atom.io/docs/v0.36.5/api/process#event-loaded">here</a>.</li>
<li><code>session</code> <a href="http://electron.atom.io/docs/v0.36.5/api/session#class-session">Session</a> - Sets the session used by the
page. Instead of passing the Session object directly, you can also choose to
use the <code>partition</code> option instead, which accepts a partition string. When
both <code>session</code> and <code>partition</code> are provided, <code>session</code> would be preferred.
Default is the default session.</li>
<li><code>partition</code> String - Sets the session used by the page according to the
session&#39;s partition string. If <code>partition</code> starts with <code>persist:</code>, the page
will use a persistent session available to all pages in the app with the
same <code>partition</code>. if there is no <code>persist:</code> prefix, the page will use an
in-memory session. By assigning the same <code>partition</code>, multiple pages can share
the same session. Default is the default session.</li>
<li><code>zoomFactor</code> Number - The default zoom factor of the page, <code>3.0</code> represents
<code>300%</code>. Default is <code>1.0</code>.</li>
<li><code>javascript</code> Boolean - Enables JavaScript support. Default is <code>true</code>.</li>
<li><code>webSecurity</code> Boolean - When setting <code>false</code>, it will disable the
same-origin policy (Usually using testing websites by people), and set
<code>allowDisplayingInsecureContent</code> and <code>allowRunningInsecureContent</code> to
<code>true</code> if these two options are not set by user. Default is <code>true</code>.</li>
<li><code>allowDisplayingInsecureContent</code> Boolean - Allow an https page to display
content like images from http URLs. Default is <code>false</code>.</li>
<li><code>allowRunningInsecureContent</code> Boolean - Allow a https page to run
JavaScript, CSS or plugins from http URLs. Default is <code>false</code>.</li>
<li><code>images</code> Boolean - Enables image support. Default is <code>true</code>.</li>
<li><code>textAreasAreResizable</code> Boolean - Make TextArea elements resizable. Default
is <code>true</code>.</li>
<li><code>webgl</code> Boolean - Enables WebGL support. Default is <code>true</code>.</li>
<li><code>webaudio</code> Boolean - Enables WebAudio support. Default is <code>true</code>.</li>
<li><code>plugins</code> Boolean - Whether plugins should be enabled. Default is <code>false</code>.</li>
<li><code>experimentalFeatures</code> Boolean - Enables Chromium&#39;s experimental features.
Default is <code>false</code>.</li>
<li><code>experimentalCanvasFeatures</code> Boolean - Enables Chromium&#39;s experimental
canvas features. Default is <code>false</code>.</li>
<li><code>directWrite</code> Boolean - Enables DirectWrite font rendering system on
Windows. Default is <code>true</code>.</li>
<li><code>blinkFeatures</code> String - A list of feature strings separated by <code>,</code>, like
<code>CSSVariables,KeyboardEventKey</code>. The full list of supported feature strings
can be found in the <a href="https://code.google.com/p/chromium/codesearch#chromium/src/out/Debug/gen/blink/platform/RuntimeEnabledFeatures.cpp&amp;sq=package:chromium&amp;type=cs&amp;l=527">setFeatureEnabledFromString</a>
function.</li>
<li><code>defaultFontFamily</code> Object - Sets the default font for the font-family.

<ul>
<li><code>standard</code> String - Defaults to <code>Times New Roman</code>.</li>
<li><code>serif</code> String - Defaults to <code>Times New Roman</code>.</li>
<li><code>sansSerif</code> String - Defaults to <code>Arial</code>.</li>
<li><code>monospace</code> String - Defaults to <code>Courier New</code>.</li>
</ul></li>
<li><code>defaultFontSize</code> Integer - Defaults to <code>16</code>.</li>
<li><code>defaultMonospaceFontSize</code> Integer - Defaults to <code>13</code>.</li>
<li><code>minimumFontSize</code> Integer - Defaults to <code>0</code>.</li>
<li><code>defaultEncoding</code> String - Defaults to <code>ISO-8859-1</code>.</li>
</ul>

<h2 id="events">Events</h2>

<p>The <code>BrowserWindow</code> object emits the following events:</p>

<p><strong>Note:</strong> Some events are only available on specific operating systems and are
labeled as such.</p>

<h3 id="event:-&#39;page-title-updated&#39;">Event: &#39;page-title-updated&#39;</h3>

<p>Returns:</p>

<ul>
<li><code>event</code> Event</li>
</ul>

<p>Emitted when the document changed its title, calling <code>event.preventDefault()</code>
would prevent the native window&#39;s title to change.</p>

<h3 id="event:-&#39;close&#39;">Event: &#39;close&#39;</h3>

<p>Returns:</p>

<ul>
<li><code>event</code> Event</li>
</ul>

<p>Emitted when the window is going to be closed. It&#39;s emitted before the
<code>beforeunload</code> and <code>unload</code> event of the DOM. Calling <code>event.preventDefault()</code>
will cancel the close.</p>

<p>Usually you would want to use the <code>beforeunload</code> handler to decide whether the
window should be closed, which will also be called when the window is
reloaded. In Electron, returning an empty string or <code>false</code> would cancel the
close. For example:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nb">window</span><span class="p">.</span><span class="nx">onbeforeunload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;I do not want to be closed&#39;</span><span class="p">);</span>

  <span class="c1">// Unlike usual browsers, in which a string should be returned and the user is</span>
  <span class="c1">// prompted to confirm the page unload, Electron gives developers more options.</span>
  <span class="c1">// Returning empty string or false would prevent the unloading now.</span>
  <span class="c1">// You can also use the dialog API to let the user confirm closing the application.</span>
  <span class="nx">e</span><span class="p">.</span><span class="nx">returnValue</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
<span class="p">};</span>
</code></pre></div>

<h3 id="event:-&#39;closed&#39;">Event: &#39;closed&#39;</h3>

<p>Emitted when the window is closed. After you have received this event you should
remove the reference to the window and avoid using it anymore.</p>

<h3 id="event:-&#39;unresponsive&#39;">Event: &#39;unresponsive&#39;</h3>

<p>Emitted when the web page becomes unresponsive.</p>

<h3 id="event:-&#39;responsive&#39;">Event: &#39;responsive&#39;</h3>

<p>Emitted when the unresponsive web page becomes responsive again.</p>

<h3 id="event:-&#39;blur&#39;">Event: &#39;blur&#39;</h3>

<p>Emitted when the window loses focus.</p>

<h3 id="event:-&#39;focus&#39;">Event: &#39;focus&#39;</h3>

<p>Emitted when the window gains focus.</p>

<h3 id="event:-&#39;maximize&#39;">Event: &#39;maximize&#39;</h3>

<p>Emitted when window is maximized.</p>

<h3 id="event:-&#39;unmaximize&#39;">Event: &#39;unmaximize&#39;</h3>

<p>Emitted when the window exits from maximized state.</p>

<h3 id="event:-&#39;minimize&#39;">Event: &#39;minimize&#39;</h3>

<p>Emitted when the window is minimized.</p>

<h3 id="event:-&#39;restore&#39;">Event: &#39;restore&#39;</h3>

<p>Emitted when the window is restored from minimized state.</p>

<h3 id="event:-&#39;resize&#39;">Event: &#39;resize&#39;</h3>

<p>Emitted when the window is getting resized.</p>

<h3 id="event:-&#39;move&#39;">Event: &#39;move&#39;</h3>

<p>Emitted when the window is getting moved to a new position.</p>

<p><strong>Note</strong>: On OS X this event is just an alias of <code>moved</code>.</p>

<h3 id="event:-&#39;moved&#39;-os-x">Event: &#39;moved&#39; <em>OS X</em></h3>

<p>Emitted once when the window is moved to a new position.</p>

<h3 id="event:-&#39;enter-full-screen&#39;">Event: &#39;enter-full-screen&#39;</h3>

<p>Emitted when the window enters full screen state.</p>

<h3 id="event:-&#39;leave-full-screen&#39;">Event: &#39;leave-full-screen&#39;</h3>

<p>Emitted when the window leaves full screen state.</p>

<h3 id="event:-&#39;enter-html-full-screen&#39;">Event: &#39;enter-html-full-screen&#39;</h3>

<p>Emitted when the window enters full screen state triggered by html api.</p>

<h3 id="event:-&#39;leave-html-full-screen&#39;">Event: &#39;leave-html-full-screen&#39;</h3>

<p>Emitted when the window leaves full screen state triggered by html api.</p>

<h3 id="event:-&#39;app-command&#39;-windows">Event: &#39;app-command&#39; <em>Windows</em></h3>

<p>Emitted when an <a href="https://msdn.microsoft.com/en-us/library/windows/desktop/ms646275(v=vs.85).aspx">App Command</a>
is invoked. These are typically related to keyboard media keys or browser
commands, as well as the &quot;Back&quot; button built into some mice on Windows.</p>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">someWindow</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;app-command&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span> <span class="nx">cmd</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Navigate the window back when the user hits their mouse back button</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">cmd</span> <span class="o">===</span> <span class="s1">&#39;browser-backward&#39;</span> <span class="o">&amp;&amp;</span> <span class="nx">someWindow</span><span class="p">.</span><span class="nx">webContents</span><span class="p">.</span><span class="nx">canGoBack</span><span class="p">())</span> <span class="p">{</span>
    <span class="nx">someWindow</span><span class="p">.</span><span class="nx">webContents</span><span class="p">.</span><span class="nx">goBack</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div>

<h2 id="methods">Methods</h2>

<p>The <code>BrowserWindow</code> object has the following methods:</p>

<h3 id="browserwindow.getallwindows()"><code>BrowserWindow.getAllWindows()</code></h3>

<p>Returns an array of all opened browser windows.</p>

<h3 id="browserwindow.getfocusedwindow()"><code>BrowserWindow.getFocusedWindow()</code></h3>

<p>Returns the window that is focused in this application, otherwise returns <code>null</code>.</p>

<h3 id="browserwindow.fromwebcontents(webcontents)"><code>BrowserWindow.fromWebContents(webContents)</code></h3>

<ul>
<li><code>webContents</code> <a href="http://electron.atom.io/docs/v0.36.5/api/web-contents">WebContents</a></li>
</ul>

<p>Find a window according to the <code>webContents</code> it owns.</p>

<h3 id="browserwindow.fromid(id)"><code>BrowserWindow.fromId(id)</code></h3>

<ul>
<li><code>id</code> Integer</li>
</ul>

<p>Find a window according to its ID.</p>

<h3 id="browserwindow.adddevtoolsextension(path)"><code>BrowserWindow.addDevToolsExtension(path)</code></h3>

<ul>
<li><code>path</code> String</li>
</ul>

<p>Adds DevTools extension located at <code>path</code>, and returns extension&#39;s name.</p>

<p>The extension will be remembered so you only need to call this API once, this
API is not for programming use.</p>

<h3 id="browserwindow.removedevtoolsextension(name)"><code>BrowserWindow.removeDevToolsExtension(name)</code></h3>

<ul>
<li><code>name</code> String</li>
</ul>

<p>Remove the DevTools extension whose name is <code>name</code>.</p>

<h2 id="instance-properties">Instance Properties</h2>

<p>Objects created with <code>new BrowserWindow</code> have the following properties:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// In this example `win` is our instance</span>
<span class="kd">var</span> <span class="nx">win</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BrowserWindow</span><span class="p">({</span> <span class="nx">width</span><span class="o">:</span> <span class="mi">800</span><span class="p">,</span> <span class="nx">height</span><span class="o">:</span> <span class="mi">600</span> <span class="p">});</span>
</code></pre></div>

<h3 id="win.webcontents"><code>win.webContents</code></h3>

<p>The <code>WebContents</code> object this window owns, all web page related events and
operations will be done via it.</p>

<p>See the <a href="http://electron.atom.io/docs/v0.36.5/api/web-contents"><code>webContents</code> documentation</a> for its methods and
events.</p>

<h3 id="win.id"><code>win.id</code></h3>

<p>The unique ID of this window.</p>

<h2 id="instance-methods">Instance Methods</h2>

<p>Objects created with <code>new BrowserWindow</code> have the following instance methods:</p>

<p><strong>Note:</strong> Some methods are only available on specific operating systems and are
labeled as such.</p>

<h3 id="win.destroy()"><code>win.destroy()</code></h3>

<p>Force closing the window, the <code>unload</code> and <code>beforeunload</code> event won&#39;t be emitted
for the web page, and <code>close</code> event will also not be emitted
for this window, but it guarantees the <code>closed</code> event will be emitted.</p>

<h3 id="win.close()"><code>win.close()</code></h3>

<p>Try to close the window, this has the same effect with user manually clicking
the close button of the window. The web page may cancel the close though, see
the <a href="#event-close">close event</a>.</p>

<h3 id="win.focus()"><code>win.focus()</code></h3>

<p>Focus on the window.</p>

<h3 id="win.isfocused()"><code>win.isFocused()</code></h3>

<p>Returns a boolean, whether the window is focused.</p>

<h3 id="win.show()"><code>win.show()</code></h3>

<p>Shows and gives focus to the window.</p>

<h3 id="win.showinactive()"><code>win.showInactive()</code></h3>

<p>Shows the window but doesn&#39;t focus on it.</p>

<h3 id="win.hide()"><code>win.hide()</code></h3>

<p>Hides the window.</p>

<h3 id="win.isvisible()"><code>win.isVisible()</code></h3>

<p>Returns a boolean, whether the window is visible to the user.</p>

<h3 id="win.maximize()"><code>win.maximize()</code></h3>

<p>Maximizes the window.</p>

<h3 id="win.unmaximize()"><code>win.unmaximize()</code></h3>

<p>Unmaximizes the window.</p>

<h3 id="win.ismaximized()"><code>win.isMaximized()</code></h3>

<p>Returns a boolean, whether the window is maximized.</p>

<h3 id="win.minimize()"><code>win.minimize()</code></h3>

<p>Minimizes the window. On some platforms the minimized window will be shown in
the Dock.</p>

<h3 id="win.restore()"><code>win.restore()</code></h3>

<p>Restores the window from minimized state to its previous state.</p>

<h3 id="win.isminimized()"><code>win.isMinimized()</code></h3>

<p>Returns a boolean, whether the window is minimized.</p>

<h3 id="win.setfullscreen(flag)"><code>win.setFullScreen(flag)</code></h3>

<ul>
<li><code>flag</code> Boolean</li>
</ul>

<p>Sets whether the window should be in fullscreen mode.</p>

<h3 id="win.isfullscreen()"><code>win.isFullScreen()</code></h3>

<p>Returns a boolean, whether the window is in fullscreen mode.</p>

<h3 id="win.setaspectratio(aspectratio[,-extrasize])-os-x"><code>win.setAspectRatio(aspectRatio[, extraSize])</code> <em>OS X</em></h3>

<ul>
<li><code>aspectRatio</code> The aspect ratio we want to maintain for some portion of the
content view.</li>
<li><code>extraSize</code> Object (optional) - The extra size not to be included while
maintaining the aspect ratio. Properties:

<ul>
<li><code>width</code> Integer</li>
<li><code>height</code> Integer</li>
</ul></li>
</ul>

<p>This will have a window maintain an aspect ratio. The extra size allows a
developer to have space, specified in pixels, not included within the aspect
ratio calculations. This API already takes into account the difference between a
window&#39;s size and its content size.</p>

<p>Consider a normal window with an HD video player and associated controls.
Perhaps there are 15 pixels of controls on the left edge, 25 pixels of controls
on the right edge and 50 pixels of controls below the player. In order to
maintain a 16:9 aspect ratio (standard aspect ratio for HD @1920x1080) within
the player itself we would call this function with arguments of 16/9 and
[ 40, 50 ]. The second argument doesn&#39;t care where the extra width and height
are within the content view--only that they exist. Just sum any extra width and
height areas you have within the overall content view.</p>

<h3 id="win.setbounds(options[,-animate])"><code>win.setBounds(options[, animate])</code></h3>

<ul>
<li><p><code>options</code> Object, properties:</p>

<ul>
<li><code>x</code> Integer</li>
<li><code>y</code> Integer</li>
<li><code>width</code> Integer</li>
<li><code>height</code> Integer</li>
</ul></li>
<li><p><code>animate</code> Boolean (optional) <em>OS X</em></p></li>
</ul>

<p>Resizes and moves the window to <code>width</code>, <code>height</code>, <code>x</code>, <code>y</code>.</p>

<h3 id="win.getbounds()"><code>win.getBounds()</code></h3>

<p>Returns an object that contains window&#39;s width, height, x and y values.</p>

<h3 id="win.setsize(width,-height[,-animate])"><code>win.setSize(width, height[, animate])</code></h3>

<ul>
<li><code>width</code> Integer</li>
<li><code>height</code> Integer</li>
<li><code>animate</code> Boolean (optional) <em>OS X</em></li>
</ul>

<p>Resizes the window to <code>width</code> and <code>height</code>.</p>

<h3 id="win.getsize()"><code>win.getSize()</code></h3>

<p>Returns an array that contains window&#39;s width and height.</p>

<h3 id="win.setcontentsize(width,-height[,-animate])"><code>win.setContentSize(width, height[, animate])</code></h3>

<ul>
<li><code>width</code> Integer</li>
<li><code>height</code> Integer</li>
<li><code>animate</code> Boolean (optional) <em>OS X</em></li>
</ul>

<p>Resizes the window&#39;s client area (e.g. the web page) to <code>width</code> and <code>height</code>.</p>

<h3 id="win.getcontentsize()"><code>win.getContentSize()</code></h3>

<p>Returns an array that contains window&#39;s client area&#39;s width and height.</p>

<h3 id="win.setminimumsize(width,-height)"><code>win.setMinimumSize(width, height)</code></h3>

<ul>
<li><code>width</code> Integer</li>
<li><code>height</code> Integer</li>
</ul>

<p>Sets the minimum size of window to <code>width</code> and <code>height</code>.</p>

<h3 id="win.getminimumsize()"><code>win.getMinimumSize()</code></h3>

<p>Returns an array that contains window&#39;s minimum width and height.</p>

<h3 id="win.setmaximumsize(width,-height)"><code>win.setMaximumSize(width, height)</code></h3>

<ul>
<li><code>width</code> Integer</li>
<li><code>height</code> Integer</li>
</ul>

<p>Sets the maximum size of window to <code>width</code> and <code>height</code>.</p>

<h3 id="win.getmaximumsize()"><code>win.getMaximumSize()</code></h3>

<p>Returns an array that contains window&#39;s maximum width and height.</p>

<h3 id="win.setresizable(resizable)"><code>win.setResizable(resizable)</code></h3>

<ul>
<li><code>resizable</code> Boolean</li>
</ul>

<p>Sets whether the window can be manually resized by user.</p>

<h3 id="win.isresizable()"><code>win.isResizable()</code></h3>

<p>Returns whether the window can be manually resized by user.</p>

<h3 id="win.setalwaysontop(flag)"><code>win.setAlwaysOnTop(flag)</code></h3>

<ul>
<li><code>flag</code> Boolean</li>
</ul>

<p>Sets whether the window should show always on top of other windows. After
setting this, the window is still a normal window, not a toolbox window which
can not be focused on.</p>

<h3 id="win.isalwaysontop()"><code>win.isAlwaysOnTop()</code></h3>

<p>Returns whether the window is always on top of other windows.</p>

<h3 id="win.center()"><code>win.center()</code></h3>

<p>Moves window to the center of the screen.</p>

<h3 id="win.setposition(x,-y[,-animate])"><code>win.setPosition(x, y[, animate])</code></h3>

<ul>
<li><code>x</code> Integer</li>
<li><code>y</code> Integer</li>
<li><code>animate</code> Boolean (optional) <em>OS X</em></li>
</ul>

<p>Moves window to <code>x</code> and <code>y</code>.</p>

<h3 id="win.getposition()"><code>win.getPosition()</code></h3>

<p>Returns an array that contains window&#39;s current position.</p>

<h3 id="win.settitle(title)"><code>win.setTitle(title)</code></h3>

<ul>
<li><code>title</code> String</li>
</ul>

<p>Changes the title of native window to <code>title</code>.</p>

<h3 id="win.gettitle()"><code>win.getTitle()</code></h3>

<p>Returns the title of the native window.</p>

<p><strong>Note:</strong> The title of web page can be different from the title of the native
window.</p>

<h3 id="win.flashframe(flag)"><code>win.flashFrame(flag)</code></h3>

<ul>
<li><code>flag</code> Boolean</li>
</ul>

<p>Starts or stops flashing the window to attract user&#39;s attention.</p>

<h3 id="win.setskiptaskbar(skip)"><code>win.setSkipTaskbar(skip)</code></h3>

<ul>
<li><code>skip</code> Boolean</li>
</ul>

<p>Makes the window not show in the taskbar.</p>

<h3 id="win.setkiosk(flag)"><code>win.setKiosk(flag)</code></h3>

<ul>
<li><code>flag</code> Boolean</li>
</ul>

<p>Enters or leaves the kiosk mode.</p>

<h3 id="win.iskiosk()"><code>win.isKiosk()</code></h3>

<p>Returns whether the window is in kiosk mode.</p>

<h3 id="win.getnativewindowhandle()"><code>win.getNativeWindowHandle()</code></h3>

<p>Returns the platform-specific handle of the window as <code>Buffer</code>.</p>

<p>The native type of the handle is <code>HWND</code> on Windows, <code>NSView*</code> on OS X, and
<code>Window</code> (<code>unsigned long</code>) on Linux.</p>

<h3 id="win.hookwindowmessage(message,-callback)-windows"><code>win.hookWindowMessage(message, callback)</code> <em>Windows</em></h3>

<ul>
<li><code>message</code> Integer</li>
<li><code>callback</code> Function</li>
</ul>

<p>Hooks a windows message. The <code>callback</code> is called when
the message is received in the WndProc.</p>

<h3 id="win.iswindowmessagehooked(message)-windows"><code>win.isWindowMessageHooked(message)</code> <em>Windows</em></h3>

<ul>
<li><code>message</code> Integer</li>
</ul>

<p>Returns <code>true</code> or <code>false</code> depending on whether the message is hooked.</p>

<h3 id="win.unhookwindowmessage(message)-windows"><code>win.unhookWindowMessage(message)</code> <em>Windows</em></h3>

<ul>
<li><code>message</code> Integer</li>
</ul>

<p>Unhook the window message.</p>

<h3 id="win.unhookallwindowmessages()-windows"><code>win.unhookAllWindowMessages()</code> <em>Windows</em></h3>

<p>Unhooks all of the window messages.</p>

<h3 id="win.setrepresentedfilename(filename)-os-x"><code>win.setRepresentedFilename(filename)</code> <em>OS X</em></h3>

<ul>
<li><code>filename</code> String</li>
</ul>

<p>Sets the pathname of the file the window represents, and the icon of the file
will show in window&#39;s title bar.</p>

<h3 id="win.getrepresentedfilename()-os-x"><code>win.getRepresentedFilename()</code> <em>OS X</em></h3>

<p>Returns the pathname of the file the window represents.</p>

<h3 id="win.setdocumentedited(edited)-os-x"><code>win.setDocumentEdited(edited)</code> <em>OS X</em></h3>

<ul>
<li><code>edited</code> Boolean</li>
</ul>

<p>Specifies whether the windowâ€™s document has been edited, and the icon in title
bar will become grey when set to <code>true</code>.</p>

<h3 id="win.isdocumentedited()-os-x"><code>win.isDocumentEdited()</code> <em>OS X</em></h3>

<p>Whether the window&#39;s document has been edited.</p>

<h3 id="win.focusonwebview()"><code>win.focusOnWebView()</code></h3>

<h3 id="win.blurwebview()"><code>win.blurWebView()</code></h3>

<h3 id="win.capturepage([rect,-]callback)"><code>win.capturePage([rect, ]callback)</code></h3>

<ul>
<li><code>rect</code> Object (optional)- The area of page to be captured, properties:

<ul>
<li><code>x</code> Integer</li>
<li><code>y</code> Integer</li>
<li><code>width</code> Integer</li>
<li><code>height</code> Integer</li>
</ul></li>
<li><code>callback</code> Function</li>
</ul>

<p>Captures a snapshot of the page within <code>rect</code>. Upon completion <code>callback</code> will
be called with <code>callback(image)</code>. The <code>image</code> is an instance of
<a href="http://electron.atom.io/docs/v0.36.5/api/native-image">NativeImage</a> that stores data of the snapshot. Omitting
<code>rect</code> will capture the whole visible page.</p>

<h3 id="win.print([options])"><code>win.print([options])</code></h3>

<p>Same as <code>webContents.print([options])</code></p>

<h3 id="win.printtopdf(options,-callback)"><code>win.printToPDF(options, callback)</code></h3>

<p>Same as <code>webContents.printToPDF(options, callback)</code></p>

<h3 id="win.loadurl(url[,-options])"><code>win.loadURL(url[, options])</code></h3>

<p>Same as <code>webContents.loadURL(url[, options])</code>.</p>

<h3 id="win.reload()"><code>win.reload()</code></h3>

<p>Same as <code>webContents.reload</code>.</p>

<h3 id="win.setmenu(menu)-linux-windows"><code>win.setMenu(menu)</code> <em>Linux</em> <em>Windows</em></h3>

<ul>
<li><code>menu</code> Menu</li>
</ul>

<p>Sets the <code>menu</code> as the window&#39;s menu bar, setting it to <code>null</code> will remove the
menu bar.</p>

<h3 id="win.setprogressbar(progress)"><code>win.setProgressBar(progress)</code></h3>

<ul>
<li><code>progress</code> Double</li>
</ul>

<p>Sets progress value in progress bar. Valid range is [0, 1.0].</p>

<p>Remove progress bar when progress &lt; 0;
Change to indeterminate mode when progress &gt; 1.</p>

<p>On Linux platform, only supports Unity desktop environment, you need to specify
the <code>*.desktop</code> file name to <code>desktopName</code> field in <code>package.json</code>. By default,
it will assume <code>app.getName().desktop</code>.</p>

<h3 id="win.setoverlayicon(overlay,-description)-windows-7+"><code>win.setOverlayIcon(overlay, description)</code> <em>Windows 7+</em></h3>

<ul>
<li><code>overlay</code> <a href="http://electron.atom.io/docs/v0.36.5/api/native-image">NativeImage</a> - the icon to display on the bottom
right corner of the taskbar icon. If this parameter is <code>null</code>, the overlay is
cleared</li>
<li><code>description</code> String - a description that will be provided to Accessibility
screen readers</li>
</ul>

<p>Sets a 16px overlay onto the current taskbar icon, usually used to convey some
sort of application status or to passively notify the user.</p>

<h3 id="win.setthumbarbuttons(buttons)-windows-7+"><code>win.setThumbarButtons(buttons)</code> <em>Windows 7+</em></h3>

<p><code>buttons</code> Array of <code>button</code> Objects:</p>

<p><code>button</code> Object, properties:</p>

<ul>
<li><code>icon</code> <a href="http://electron.atom.io/docs/v0.36.5/api/native-image">NativeImage</a> - The icon showing in thumbnail
toolbar.</li>
<li><code>tooltip</code> String (optional) - The text of the button&#39;s tooltip.</li>
<li><code>flags</code> Array (optional) - Control specific states and behaviors
of the button. By default, it uses <code>enabled</code>. It can include following
Strings:

<ul>
<li><code>enabled</code> - The button is active and available to the user.</li>
<li><code>disabled</code> - The button is disabled. It is present, but has a visual
state indicating it will not respond to user action.</li>
<li><code>dismissonclick</code> - When the button is clicked, the taskbar button&#39;s
flyout closes immediately.</li>
<li><code>nobackground</code> - Do not draw a button border, use only the image.</li>
<li><code>hidden</code> - The button is not shown to the user.</li>
<li><code>noninteractive</code> - The button is enabled but not interactive; no
pressed button state is drawn. This value is intended for instances
where the button is used in a notification.</li>
</ul></li>
<li><code>click</code> - Function</li>
</ul>

<p>Add a thumbnail toolbar with a specified set of buttons to the thumbnail image
of a window in a taskbar button layout. Returns a <code>Boolean</code> object indicates
whether the thumbnail has been added successfully.</p>

<p>The number of buttons in thumbnail toolbar should be no greater than 7 due to
the limited room. Once you setup the thumbnail toolbar, the toolbar cannot be
removed due to the platform&#39;s limitation. But you can call the API with an empty
array to clean the buttons.</p>

<h3 id="win.showdefinitionforselection()-os-x"><code>win.showDefinitionForSelection()</code> <em>OS X</em></h3>

<p>Shows pop-up dictionary that searches the selected word on the page.</p>

<h3 id="win.setautohidemenubar(hide)"><code>win.setAutoHideMenuBar(hide)</code></h3>

<ul>
<li><code>hide</code> Boolean</li>
</ul>

<p>Sets whether the window menu bar should hide itself automatically. Once set the
menu bar will only show when users press the single <code>Alt</code> key.</p>

<p>If the menu bar is already visible, calling <code>setAutoHideMenuBar(true)</code> won&#39;t
hide it immediately.</p>

<h3 id="win.ismenubarautohide()"><code>win.isMenuBarAutoHide()</code></h3>

<p>Returns whether menu bar automatically hides itself.</p>

<h3 id="win.setmenubarvisibility(visible)"><code>win.setMenuBarVisibility(visible)</code></h3>

<ul>
<li><code>visible</code> Boolean</li>
</ul>

<p>Sets whether the menu bar should be visible. If the menu bar is auto-hide, users
can still bring up the menu bar by pressing the single <code>Alt</code> key.</p>

<h3 id="win.ismenubarvisible()"><code>win.isMenuBarVisible()</code></h3>

<p>Returns whether the menu bar is visible.</p>

<h3 id="win.setvisibleonallworkspaces(visible)"><code>win.setVisibleOnAllWorkspaces(visible)</code></h3>

<ul>
<li><code>visible</code> Boolean</li>
</ul>

<p>Sets whether the window should be visible on all workspaces.</p>

<p><strong>Note:</strong> This API does nothing on Windows.</p>

<h3 id="win.isvisibleonallworkspaces()"><code>win.isVisibleOnAllWorkspaces()</code></h3>

<p>Returns whether the window is visible on all workspaces.</p>

<p><strong>Note:</strong> This API always returns false on Windows.</p>

<h3 id="win.setignoremouseevents(ignore)-os-x"><code>win.setIgnoreMouseEvents(ignore)</code> <em>OS X</em></h3>

<ul>
<li><code>ignore</code> Boolean</li>
</ul>

<p>Ignore all moused events that happened in the window.</p>

<h1 id="supported-chrome-command-line-switches">Supported Chrome command line switches</h1>

<p>This page lists the command line switches used by the Chrome browser that are
also supported by Electron. You can use
<a href="app.md#appcommandlineappendswitchswitch-value">app.commandLine.appendSwitch</a> to append them in your app&#39;s main
script before the <a href="app.md#event-ready">ready</a> event of <a href="app.md">app</a> module is emitted:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="nx">app</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;electron&#39;</span><span class="p">).</span><span class="nx">app</span><span class="p">;</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">commandLine</span><span class="p">.</span><span class="nx">appendSwitch</span><span class="p">(</span><span class="s1">&#39;remote-debugging-port&#39;</span><span class="p">,</span> <span class="s1">&#39;8315&#39;</span><span class="p">);</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">commandLine</span><span class="p">.</span><span class="nx">appendSwitch</span><span class="p">(</span><span class="s1">&#39;host-rules&#39;</span><span class="p">,</span> <span class="s1">&#39;MAP * 127.0.0.1&#39;</span><span class="p">);</span>

<span class="nx">app</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;ready&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// Your code here</span>
<span class="p">});</span>
</code></pre></div>

<h2 id="--client-certificate=path">--client-certificate=<code>path</code></h2>

<p>Sets the <code>path</code> of client certificate file.</p>

<h2 id="--ignore-connections-limit=domains">--ignore-connections-limit=<code>domains</code></h2>

<p>Ignore the connections limit for <code>domains</code> list separated by <code>,</code>.</p>

<h2 id="--disable-http-cache">--disable-http-cache</h2>

<p>Disables the disk cache for HTTP requests.</p>

<h2 id="--remote-debugging-port=port">--remote-debugging-port=<code>port</code></h2>

<p>Enables remote debugging over HTTP on the specified <code>port</code>.</p>

<h2 id="--js-flags=flags">--js-flags=<code>flags</code></h2>

<p>Specifies the flags passed to JS engine. It has to be passed when starting
Electron if you want to enable the <code>flags</code> in the main process.</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>electron --js-flags<span class="o">=</span><span class="s2">&quot;--harmony_proxies --harmony_collections&quot;</span> your-app
</code></pre></div>

<h2 id="--proxy-server=address:port">--proxy-server=<code>address:port</code></h2>

<p>Use a specified proxy server, which overrides the system setting. This switch
only affects requests with HTTP protocol, including HTTPS and WebSocket
requests. It is also noteworthy that not all proxy servers support HTTPS and
WebSocket requests.</p>

<h2 id="--proxy-bypass-list=hosts">--proxy-bypass-list=<code>hosts</code></h2>

<p>Instructs Electron to bypass the proxy server for the given semi-colon-separated
list of hosts. This flag has an effect only if used in tandem with
<code>--proxy-server</code>.</p>

<p>For example:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">app</span><span class="p">.</span><span class="nx">commandLine</span><span class="p">.</span><span class="nx">appendSwitch</span><span class="p">(</span><span class="s1">&#39;proxy-bypass-list&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;local&gt;;*.google.com;*foo.com;1.2.3.4:5678&#39;</span><span class="p">)</span>
</code></pre></div>

<p>Will use the proxy server for all hosts except for local addresses (<code>localhost</code>,
<code>127.0.0.1</code> etc.), <code>google.com</code> subdomains, hosts that contain the suffix
<code>foo.com</code> and anything at <code>1.2.3.4:5678</code>.</p>

<h2 id="--proxy-pac-url=url">--proxy-pac-url=<code>url</code></h2>

<p>Uses the PAC script at the specified <code>url</code>.</p>

<h2 id="--no-proxy-server">--no-proxy-server</h2>

<p>Don&#39;t use a proxy server and always make direct connections. Overrides any other
proxy server flags that are passed.</p>

<h2 id="--host-rules=rules">--host-rules=<code>rules</code></h2>

<p>A comma-separated list of <code>rules</code> that control how hostnames are mapped.</p>

<p>For example:</p>

<ul>
<li><code>MAP * 127.0.0.1</code> Forces all hostnames to be mapped to 127.0.0.1</li>
<li><code>MAP *.google.com proxy</code> Forces all google.com subdomains to be resolved to
&quot;proxy&quot;.</li>
<li><code>MAP test.com [::1]:77</code> Forces &quot;test.com&quot; to resolve to IPv6 loopback. Will
also force the port of the resulting socket address to be 77.</li>
<li><code>MAP * baz, EXCLUDE www.google.com</code> Remaps everything to &quot;baz&quot;, except for
&quot;www.google.com&quot;.</li>
</ul>

<p>These mappings apply to the endpoint host in a net request (the TCP connect
and host resolver in a direct connection, and the <code>CONNECT</code> in an HTTP proxy
connection, and the endpoint host in a <code>SOCKS</code> proxy connection).</p>

<h2 id="--host-resolver-rules=rules">--host-resolver-rules=<code>rules</code></h2>

<p>Like <code>--host-rules</code> but these <code>rules</code> only apply to the host resolver.</p>

<h2 id="--ignore-certificate-errors">--ignore-certificate-errors</h2>

<p>Ignores certificate related errors.</p>

<h2 id="--ppapi-flash-path=path">--ppapi-flash-path=<code>path</code></h2>

<p>Sets the <code>path</code> of the pepper flash plugin.</p>

<h2 id="--ppapi-flash-version=version">--ppapi-flash-version=<code>version</code></h2>

<p>Sets the <code>version</code> of the pepper flash plugin.</p>

<h2 id="--log-net-log=path">--log-net-log=<code>path</code></h2>

<p>Enables net log events to be saved and writes them to <code>path</code>.</p>

<h2 id="--ssl-version-fallback-min=version">--ssl-version-fallback-min=<code>version</code></h2>

<p>Sets the minimum SSL/TLS version (&quot;tls1&quot;, &quot;tls1.1&quot; or &quot;tls1.2&quot;) that TLS
fallback will accept.</p>

<h2 id="--cipher-suite-blacklist=cipher_suites">--cipher-suite-blacklist=<code>cipher_suites</code></h2>

<p>Specifies comma-separated list of SSL cipher suites to disable.</p>

<h2 id="--disable-renderer-backgrounding">--disable-renderer-backgrounding</h2>

<p>Prevents Chromium from lowering the priority of invisible pages&#39; renderer
processes.</p>

<p>This flag is global to all renderer processes, if you only want to disable
throttling in one window, you can take the hack of
<a href="https://github.com/atom/atom/pull/9485/files">playing silent audio</a>.</p>

<h2 id="--enable-logging">--enable-logging</h2>

<p>Prints Chromium&#39;s logging into console.</p>

<p>This switch can not be used in <code>app.commandLine.appendSwitch</code> since it is parsed
earlier than user&#39;s app is loaded, but you can set the <code>ELECTRON_ENABLE_LOGGING</code>
environment variable to achieve the same effect.</p>

<h2 id="--v=log_level">--v=<code>log_level</code></h2>

<p>Gives the default maximal active V-logging level; 0 is the default. Normally
positive values are used for V-logging levels.</p>

<p>This switch only works when <code>--enable-logging</code> is also passed.</p>

<h2 id="--vmodule=pattern">--vmodule=<code>pattern</code></h2>

<p>Gives the per-module maximal V-logging levels to override the value given by
<code>--v</code>. E.g. <code>my_module=2,foo*=3</code> would change the logging level for all code in
source files <code>my_module.*</code> and <code>foo*.*</code>.</p>

<p>Any pattern containing a forward or backward slash will be tested against the
whole pathname and not just the module. E.g. <code>*/foo/bar/*=2</code> would change the
logging level for all code in the source files under a <code>foo/bar</code> directory.</p>

<p>This switch only works when <code>--enable-logging</code> is also passed.</p>

<h1 id="clipboard">clipboard</h1>

<p>The <code>clipboard</code> module provides methods to perform copy and paste operations.
The following example shows how to write a string to the clipboard:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="nx">clipboard</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;electron&#39;</span><span class="p">).</span><span class="nx">clipboard</span><span class="p">;</span>
<span class="nx">clipboard</span><span class="p">.</span><span class="nx">writeText</span><span class="p">(</span><span class="s1">&#39;Example String&#39;</span><span class="p">);</span>
</code></pre></div>

<p>On X Window systems, there is also a selection clipboard. To manipulate it
you need to pass <code>selection</code> to each method:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">clipboard</span><span class="p">.</span><span class="nx">writeText</span><span class="p">(</span><span class="s1">&#39;Example String&#39;</span><span class="p">,</span> <span class="s1">&#39;selection&#39;</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">clipboard</span><span class="p">.</span><span class="nx">readText</span><span class="p">(</span><span class="s1">&#39;selection&#39;</span><span class="p">));</span>
</code></pre></div>

<h2 id="methods">Methods</h2>

<p>The <code>clipboard</code> module has the following methods:</p>

<p><strong>Note:</strong> Experimental APIs are marked as such and could be removed in future.</p>

<h3 id="clipboard.readtext([type])"><code>clipboard.readText([type])</code></h3>

<ul>
<li><code>type</code> String (optional)</li>
</ul>

<p>Returns the content in the clipboard as plain text.</p>

<h3 id="clipboard.writetext(text[,-type])"><code>clipboard.writeText(text[, type])</code></h3>

<ul>
<li><code>text</code> String</li>
<li><code>type</code> String (optional)</li>
</ul>

<p>Writes the <code>text</code> into the clipboard as plain text.</p>

<h3 id="clipboard.readhtml([type])"><code>clipboard.readHtml([type])</code></h3>

<ul>
<li><code>type</code> String (optional)</li>
</ul>

<p>Returns the content in the clipboard as markup.</p>

<h3 id="clipboard.writehtml(markup[,-type])"><code>clipboard.writeHtml(markup[, type])</code></h3>

<ul>
<li><code>markup</code> String</li>
<li><code>type</code> String (optional)</li>
</ul>

<p>Writes <code>markup</code> to the clipboard.</p>

<h3 id="clipboard.readimage([type])"><code>clipboard.readImage([type])</code></h3>

<ul>
<li><code>type</code> String (optional)</li>
</ul>

<p>Returns the content in the clipboard as a <a href="http://electron.atom.io/docs/v0.36.5/api/native-image">NativeImage</a>.</p>

<h3 id="clipboard.writeimage(image[,-type])"><code>clipboard.writeImage(image[, type])</code></h3>

<ul>
<li><code>image</code> <a href="http://electron.atom.io/docs/v0.36.5/api/native-image">NativeImage</a></li>
<li><code>type</code> String (optional)</li>
</ul>

<p>Writes <code>image</code> to the clipboard.</p>

<h3 id="clipboard.clear([type])"><code>clipboard.clear([type])</code></h3>

<ul>
<li><code>type</code> String (optional)</li>
</ul>

<p>Clears the clipboard content.</p>

<h3 id="clipboard.availableformats([type])"><code>clipboard.availableFormats([type])</code></h3>

<ul>
<li><code>type</code> String (optional)</li>
</ul>

<p>Returns an array of supported formats for the clipboard <code>type</code>.</p>

<h3 id="clipboard.has(data[,-type])-experimental"><code>clipboard.has(data[, type])</code> <em>Experimental</em></h3>

<ul>
<li><code>data</code> String</li>
<li><code>type</code> String (optional)</li>
</ul>

<p>Returns whether the clipboard supports the format of specified <code>data</code>.</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">clipboard</span><span class="p">.</span><span class="nx">has</span><span class="p">(</span><span class="s1">&#39;&lt;p&gt;selection&lt;/p&gt;&#39;</span><span class="p">));</span>
</code></pre></div>

<h3 id="clipboard.read(data[,-type])-experimental"><code>clipboard.read(data[, type])</code> <em>Experimental</em></h3>

<ul>
<li><code>data</code> String</li>
<li><code>type</code> String (optional)</li>
</ul>

<p>Reads <code>data</code> from the clipboard.</p>

<h3 id="clipboard.write(data[,-type])"><code>clipboard.write(data[, type])</code></h3>

<ul>
<li><code>data</code> Object

<ul>
<li><code>text</code> String</li>
<li><code>html</code> String</li>
<li><code>image</code> <a href="http://electron.atom.io/docs/v0.36.5/api/native-image">NativeImage</a></li>
</ul></li>
<li><code>type</code> String (optional)</li>
</ul>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">clipboard</span><span class="p">.</span><span class="nx">write</span><span class="p">({</span><span class="nx">text</span><span class="o">:</span> <span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="nx">html</span><span class="o">:</span> <span class="s2">&quot;&lt;b&gt;test&lt;/b&gt;&quot;</span><span class="p">});</span>
</code></pre></div>

<p>Writes <code>data</code> to the clipboard.</p>

<h1 id="contenttracing">contentTracing</h1>

<p>The <code>content-tracing</code> module is used to collect tracing data generated by the
underlying Chromium content module. This module does not include a web interface
so you need to open <code>chrome://tracing/</code> in a Chrome browser and load the
generated file to view the result.</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="nx">contentTracing</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;electron&#39;</span><span class="p">).</span><span class="nx">contentTracing</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">categoryFilter</span><span class="o">:</span> <span class="s1">&#39;*&#39;</span><span class="p">,</span>
  <span class="nx">traceOptions</span><span class="o">:</span> <span class="s1">&#39;record-until-full,enable-sampling&#39;</span>
<span class="p">}</span>

<span class="nx">contentTracing</span><span class="p">.</span><span class="nx">startRecording</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Tracing started&#39;</span><span class="p">);</span>

  <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">contentTracing</span><span class="p">.</span><span class="nx">stopRecording</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">path</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Tracing data recorded to &#39;</span> <span class="o">+</span> <span class="nx">path</span><span class="p">);</span>
    <span class="p">});</span>
  <span class="p">},</span> <span class="mi">5000</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>

<h2 id="methods">Methods</h2>

<p>The <code>content-tracing</code> module has the following methods:</p>

<h3 id="contenttracing.getcategories(callback)"><code>contentTracing.getCategories(callback)</code></h3>

<ul>
<li><code>callback</code> Function</li>
</ul>

<p>Get a set of category groups. The category groups can change as new code paths
are reached.</p>

<p>Once all child processes have acknowledged the <code>getCategories</code> request the
<code>callback</code> is invoked with an array of category groups.</p>

<h3 id="contenttracing.startrecording(options,-callback)"><code>contentTracing.startRecording(options, callback)</code></h3>

<ul>
<li><code>options</code> Object

<ul>
<li><code>categoryFilter</code> String</li>
<li><code>traceOptions</code> String</li>
</ul></li>
<li><code>callback</code> Function</li>
</ul>

<p>Start recording on all processes.</p>

<p>Recording begins immediately locally and asynchronously on child processes
as soon as they receive the EnableRecording request. The <code>callback</code> will be
called once all child processes have acknowledged the <code>startRecording</code> request.</p>

<p><code>categoryFilter</code> is a filter to control what category groups should be
traced. A filter can have an optional <code>-</code> prefix to exclude category groups
that contain a matching category. Having both included and excluded
category patterns in the same list is not supported.</p>

<p>Examples:</p>

<ul>
<li><code>test_MyTest*</code>,</li>
<li><code>test_MyTest*,test_OtherStuff</code>,</li>
<li><code>&quot;-excluded_category1,-excluded_category2</code></li>
</ul>

<p><code>traceOptions</code> controls what kind of tracing is enabled, it is a comma-delimited
list. Possible options are:</p>

<ul>
<li><code>record-until-full</code></li>
<li><code>record-continuously</code></li>
<li><code>trace-to-console</code></li>
<li><code>enable-sampling</code></li>
<li><code>enable-systrace</code></li>
</ul>

<p>The first 3 options are trace recoding modes and hence mutually exclusive.
If more than one trace recording modes appear in the <code>traceOptions</code> string,
the last one takes precedence. If none of the trace recording modes are
specified, recording mode is <code>record-until-full</code>.</p>

<p>The trace option will first be reset to the default option (<code>record_mode</code> set to
<code>record-until-full</code>, <code>enable_sampling</code> and <code>enable_systrace</code> set to <code>false</code>)
before options parsed from <code>traceOptions</code> are applied on it.</p>

<h3 id="contenttracing.stoprecording(resultfilepath,-callback)"><code>contentTracing.stopRecording(resultFilePath, callback)</code></h3>

<ul>
<li><code>resultFilePath</code> String</li>
<li><code>callback</code> Function</li>
</ul>

<p>Stop recording on all processes.</p>

<p>Child processes typically cache trace data and only rarely flush and send
trace data back to the main process. This helps to minimize the runtime overhead
of tracing since sending trace data over IPC can be an expensive operation. So,
to end tracing, we must asynchronously ask all child processes to flush any
pending trace data.</p>

<p>Once all child processes have acknowledged the <code>stopRecording</code> request,
<code>callback</code> will be called with a file that contains the traced data.</p>

<p>Trace data will be written into <code>resultFilePath</code> if it is not empty or into a
temporary file. The actual file path will be passed to <code>callback</code> if it&#39;s not
<code>null</code>.</p>

<h3 id="contenttracing.startmonitoring(options,-callback)"><code>contentTracing.startMonitoring(options, callback)</code></h3>

<ul>
<li><code>options</code> Object

<ul>
<li><code>categoryFilter</code> String</li>
<li><code>traceOptions</code> String</li>
</ul></li>
<li><code>callback</code> Function</li>
</ul>

<p>Start monitoring on all processes.</p>

<p>Monitoring begins immediately locally and asynchronously on child processes as
soon as they receive the <code>startMonitoring</code> request.</p>

<p>Once all child processes have acknowledged the <code>startMonitoring</code> request the
<code>callback</code> will be called.</p>

<h3 id="contenttracing.stopmonitoring(callback)"><code>contentTracing.stopMonitoring(callback)</code></h3>

<ul>
<li><code>callback</code> Function</li>
</ul>

<p>Stop monitoring on all processes.</p>

<p>Once all child processes have acknowledged the <code>stopMonitoring</code> request the
<code>callback</code> is called.</p>

<h3 id="contenttracing.capturemonitoringsnapshot(resultfilepath,-callback)"><code>contentTracing.captureMonitoringSnapshot(resultFilePath, callback)</code></h3>

<ul>
<li><code>resultFilePath</code> String</li>
<li><code>callback</code> Function</li>
</ul>

<p>Get the current monitoring traced data.</p>

<p>Child processes typically cache trace data and only rarely flush and send
trace data back to the main process. This is because it may be an expensive
operation to send the trace data over IPC and we would like to avoid unneeded
runtime overhead from tracing. So, to end tracing, we must asynchronously ask
all child processes to flush any pending trace data.</p>

<p>Once all child processes have acknowledged the <code>captureMonitoringSnapshot</code>
request the <code>callback</code> will be called with a file that contains the traced data.</p>

<h3 id="contenttracing.gettracebufferusage(callback)"><code>contentTracing.getTraceBufferUsage(callback)</code></h3>

<ul>
<li><code>callback</code> Function</li>
</ul>

<p>Get the maximum usage across processes of trace buffer as a percentage of the
full state. When the TraceBufferUsage value is determined the <code>callback</code> is
called.</p>

<h3 id="contenttracing.setwatchevent(categoryname,-eventname,-callback)"><code>contentTracing.setWatchEvent(categoryName, eventName, callback)</code></h3>

<ul>
<li><code>categoryName</code> String</li>
<li><code>eventName</code> String</li>
<li><code>callback</code> Function</li>
</ul>

<p><code>callback</code> will will be called every time the given event occurs on any
process.</p>

<h3 id="contenttracing.cancelwatchevent()"><code>contentTracing.cancelWatchEvent()</code></h3>

<p>Cancel the watch event. This may lead to a race condition with the watch event
callback if tracing is enabled.</p>

<h1 id="crashreporter">crashReporter</h1>

<p>The <code>crash-reporter</code> module enables sending your app&#39;s crash reports.</p>

<p>The following is an example of automatically submitting a crash report to a
remote server:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="nx">crashReporter</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;electron&#39;</span><span class="p">).</span><span class="nx">crashReporter</span><span class="p">;</span>

<span class="nx">crashReporter</span><span class="p">.</span><span class="nx">start</span><span class="p">({</span>
  <span class="nx">productName</span><span class="o">:</span> <span class="s1">&#39;YourName&#39;</span><span class="p">,</span>
  <span class="nx">companyName</span><span class="o">:</span> <span class="s1">&#39;YourCompany&#39;</span><span class="p">,</span>
  <span class="nx">submitURL</span><span class="o">:</span> <span class="s1">&#39;https://your-domain.com/url-to-submit&#39;</span><span class="p">,</span>
  <span class="nx">autoSubmit</span><span class="o">:</span> <span class="kc">true</span>
<span class="p">});</span>
</code></pre></div>

<h2 id="methods">Methods</h2>

<p>The <code>crash-reporter</code> module has the following methods:</p>

<h3 id="crashreporter.start(options)"><code>crashReporter.start(options)</code></h3>

<p><code>options</code> Object, properties:</p>

<ul>
<li><code>productName</code> String, default: Electron.</li>
<li><code>companyName</code> String (<strong>required</strong>)</li>
<li><code>submitURL</code> String, (<strong>required</strong>)

<ul>
<li>URL that crash reports will be sent to as POST.</li>
</ul></li>
<li><code>autoSubmit</code> Boolean, default: <code>true</code>.

<ul>
<li>Send the crash report without user interaction.</li>
</ul></li>
<li><code>ignoreSystemCrashHandler</code> Boolean, default: <code>false</code>.</li>
<li><code>extra</code> Object

<ul>
<li>An object you can define that will be sent along with the report.</li>
<li>Only string properties are sent correctly.</li>
<li>Nested objects are not supported.</li>
</ul></li>
</ul>

<p>You are required to call this method before using other <code>crashReporter</code>
APIs.</p>

<p><strong>Note:</strong> On OS X, Electron uses a new <code>crashpad</code> client, which is different
from <code>breakpad</code> on Windows and Linux. To enable the crash collection feature,
you are required to call the <code>crashReporter.start</code> API to initialize <code>crashpad</code>
in the main process and in each renderer process from which you wish to collect
crash reports.</p>

<h3 id="crashreporter.getlastcrashreport()"><code>crashReporter.getLastCrashReport()</code></h3>

<p>Returns the date and ID of the last crash report. If no crash reports have been
sent or the crash reporter has not been started, <code>null</code> is returned.</p>

<h3 id="crashreporter.getuploadedreports()"><code>crashReporter.getUploadedReports()</code></h3>

<p>Returns all uploaded crash reports. Each report contains the date and uploaded
ID.</p>

<h2 id="crash-reporter-payload">crash-reporter Payload</h2>

<p>The crash reporter will send the following data to the <code>submitURL</code> as <code>POST</code>:</p>

<ul>
<li><code>ver</code> String - The version of Electron.</li>
<li><code>platform</code> String - e.g. &#39;win32&#39;.</li>
<li><code>process_type</code> String - e.g. &#39;renderer&#39;.</li>
<li><code>guid</code> String - e.g. &#39;5e1286fc-da97-479e-918b-6bfb0c3d1c72&#39;</li>
<li><code>_version</code> String - The version in <code>package.json</code>.</li>
<li><code>_productName</code> String - The product name in the <code>crashReporter</code> <code>options</code>
object.</li>
<li><code>prod</code> String - Name of the underlying product. In this case Electron.</li>
<li><code>_companyName</code> String - The company name in the <code>crashReporter</code> <code>options</code>
object.</li>
<li><code>upload_file_minidump</code> File - The crash report as file.</li>
<li>All level one properties of the <code>extra</code> object in the <code>crashReporter</code>.
<code>options</code> object</li>
</ul>

<h1 id="desktopcapturer">desktopCapturer</h1>

<p>The <code>desktopCapturer</code> module can be used to get available sources that can be
used to be captured with <code>getUserMedia</code>.</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// In the renderer process.</span>
<span class="kd">var</span> <span class="nx">desktopCapturer</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;electron&#39;</span><span class="p">).</span><span class="nx">desktopCapturer</span><span class="p">;</span>

<span class="nx">desktopCapturer</span><span class="p">.</span><span class="nx">getSources</span><span class="p">({</span><span class="nx">types</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;window&#39;</span><span class="p">,</span> <span class="s1">&#39;screen&#39;</span><span class="p">]},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">sources</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="k">throw</span> <span class="nx">error</span><span class="p">;</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">sources</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">sources</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">name</span> <span class="o">==</span> <span class="s2">&quot;Electron&quot;</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">navigator</span><span class="p">.</span><span class="nx">webkitGetUserMedia</span><span class="p">({</span>
        <span class="nx">audio</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
        <span class="nx">video</span><span class="o">:</span> <span class="p">{</span>
          <span class="nx">mandatory</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">chromeMediaSource</span><span class="o">:</span> <span class="s1">&#39;desktop&#39;</span><span class="p">,</span>
            <span class="nx">chromeMediaSourceId</span><span class="o">:</span> <span class="nx">sources</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">id</span><span class="p">,</span>
            <span class="nx">minWidth</span><span class="o">:</span> <span class="mi">1280</span><span class="p">,</span>
            <span class="nx">maxWidth</span><span class="o">:</span> <span class="mi">1280</span><span class="p">,</span>
            <span class="nx">minHeight</span><span class="o">:</span> <span class="mi">720</span><span class="p">,</span>
            <span class="nx">maxHeight</span><span class="o">:</span> <span class="mi">720</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">},</span> <span class="nx">gotStream</span><span class="p">,</span> <span class="nx">getUserMediaError</span><span class="p">);</span>
      <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">});</span>

<span class="kd">function</span> <span class="nx">gotStream</span><span class="p">(</span><span class="nx">stream</span><span class="p">)</span> <span class="p">{</span>
  <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;video&#39;</span><span class="p">).</span><span class="nx">src</span> <span class="o">=</span> <span class="nx">URL</span><span class="p">.</span><span class="nx">createObjectURL</span><span class="p">(</span><span class="nx">stream</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">getUserMediaError</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;getUserMediaError&#39;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<p>When creating a constraints object for the <code>navigator.webkitGetUserMedia</code> call,
if you are using a source from <code>desktopCapturer</code> your <code>chromeMediaSource</code> must
be set to <code>&quot;desktop&quot;</code> and your <code>audio</code> must be set to <code>false</code>. </p>

<p>If you wish to
capture the audio and video from the entire desktop you can set
<code>chromeMediaSource</code> to <code>&quot;screen&quot;</code> and <code>audio</code> to <code>true</code>. When using this method
you cannot specify a <code>chromeMediaSourceId</code>.</p>

<h2 id="methods">Methods</h2>

<p>The <code>desktopCapturer</code> module has the following methods:</p>

<h3 id="desktopcapturer.getsources(options,-callback)"><code>desktopCapturer.getSources(options, callback)</code></h3>

<ul>
<li><code>options</code> Object

<ul>
<li><code>types</code> Array - An array of String that lists the types of desktop sources
to be captured, available types are <code>screen</code> and <code>window</code>.</li>
<li><code>thumbnailSize</code> Object (optional) - The suggested size that thumbnail should
be scaled, it is <code>{width: 150, height: 150}</code> by default.</li>
</ul></li>
<li><code>callback</code> Function</li>
</ul>

<p>Starts a request to get all desktop sources, <code>callback</code> will be called with
<code>callback(error, sources)</code> when the request is completed.</p>

<p>The <code>sources</code> is an array of <code>Source</code> objects, each <code>Source</code> represents a
captured screen or individual window, and has following properties:
* <code>id</code> String - The id of the captured window or screen used in
  <code>navigator.webkitGetUserMedia</code>. The format looks like <code>window:XX</code> or
  <code>screen:XX</code> where <code>XX</code> is a random generated number.
* <code>name</code> String - The described name of the capturing screen or window. If the
  source is a screen, the name will be <code>Entire Screen</code> or <code>Screen &lt;index&gt;</code>; if
  it is a window, the name will be the window&#39;s title.
* <code>thumbnail</code> <a href="http://electron.atom.io/docs/v0.36.5/api/NativeImage">NativeImage</a> - A thumbnail image.</p>

<p><strong>Note:</strong> There is no guarantee that the size of <code>source.thumbnail</code> is always
the same as the <code>thumnbailSize</code> in <code>options</code>. It also depends on the scale of
the screen or window.</p>

<h1 id="dialog">dialog</h1>

<p>The <code>dialog</code> module provides APIs to show native system dialogs, such as opening
files or alerting, so web applications can deliver the same user experience as
native applications.</p>

<p>An example of showing a dialog to select multiple files and directories:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">win</span> <span class="o">=</span> <span class="p">...;</span>  <span class="c1">// BrowserWindow in which to show the dialog</span>
<span class="kr">const</span> <span class="nx">dialog</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;electron&#39;</span><span class="p">).</span><span class="nx">dialog</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">dialog</span><span class="p">.</span><span class="nx">showOpenDialog</span><span class="p">({</span> <span class="nx">properties</span><span class="o">:</span> <span class="p">[</span> <span class="s1">&#39;openFile&#39;</span><span class="p">,</span> <span class="s1">&#39;openDirectory&#39;</span><span class="p">,</span> <span class="s1">&#39;multiSelections&#39;</span> <span class="p">]}));</span>
</code></pre></div>

<p><strong>Note for OS X</strong>: If you want to present dialogs as sheets, the only thing you
have to do is provide a <code>BrowserWindow</code> reference in the <code>browserWindow</code>
parameter.</p>

<h2 id="methods">Methods</h2>

<p>The <code>dialog</code> module has the following methods:</p>

<h3 id="dialog.showopendialog([browserwindow,-]options[,-callback])"><code>dialog.showOpenDialog([browserWindow, ]options[, callback])</code></h3>

<ul>
<li><code>browserWindow</code> BrowserWindow (optional)</li>
<li><code>options</code> Object

<ul>
<li><code>title</code> String</li>
<li><code>defaultPath</code> String</li>
<li><code>filters</code> Array</li>
<li><code>properties</code> Array - Contains which features the dialog should use, can
contain <code>openFile</code>, <code>openDirectory</code>, <code>multiSelections</code> and
<code>createDirectory</code></li>
</ul></li>
<li><code>callback</code> Function (optional)</li>
</ul>

<p>On success this method returns an array of file paths chosen by the user,
otherwise it returns <code>undefined</code>.</p>

<p>The <code>filters</code> specifies an array of file types that can be displayed or
selected when you want to limit the user to a specific type. For example:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="p">{</span>
  <span class="nx">filters</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Images&#39;</span><span class="p">,</span> <span class="nx">extensions</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;jpg&#39;</span><span class="p">,</span> <span class="s1">&#39;png&#39;</span><span class="p">,</span> <span class="s1">&#39;gif&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Movies&#39;</span><span class="p">,</span> <span class="nx">extensions</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;mkv&#39;</span><span class="p">,</span> <span class="s1">&#39;avi&#39;</span><span class="p">,</span> <span class="s1">&#39;mp4&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Custom File Type&#39;</span><span class="p">,</span> <span class="nx">extensions</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;as&#39;</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;All Files&#39;</span><span class="p">,</span> <span class="nx">extensions</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;*&#39;</span><span class="p">]</span> <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre></div>

<p>The <code>extensions</code> array should contain extensions without wildcards or dots (e.g.
<code>&#39;png&#39;</code> is good but <code>&#39;.png&#39;</code> and <code>&#39;*.png&#39;</code> are bad). To show all files, use the
<code>&#39;*&#39;</code> wildcard (no other wildcard is supported).</p>

<p>If a <code>callback</code> is passed, the API call will be asynchronous and the result
will be passed via <code>callback(filenames)</code></p>

<p><strong>Note:</strong> On Windows and Linux an open dialog can not be both a file selector
and a directory selector, so if you set <code>properties</code> to
<code>[&#39;openFile&#39;, &#39;openDirectory&#39;]</code> on these platforms, a directory selector will be
shown.</p>

<h3 id="dialog.showsavedialog([browserwindow,-]options[,-callback])"><code>dialog.showSaveDialog([browserWindow, ]options[, callback])</code></h3>

<ul>
<li><code>browserWindow</code> BrowserWindow (optional)</li>
<li><code>options</code> Object

<ul>
<li><code>title</code> String</li>
<li><code>defaultPath</code> String</li>
<li><code>filters</code> Array</li>
</ul></li>
<li><code>callback</code> Function (optional)</li>
</ul>

<p>On success this method returns the path of the file chosen by the user,
otherwise it returns <code>undefined</code>.</p>

<p>The <code>filters</code> specifies an array of file types that can be displayed, see
<code>dialog.showOpenDialog</code> for an example.</p>

<p>If a <code>callback</code> is passed, the API call will be asynchronous and the result
will be passed via <code>callback(filename)</code></p>

<h3 id="dialog.showmessagebox([browserwindow,-]options[,-callback])"><code>dialog.showMessageBox([browserWindow, ]options[, callback])</code></h3>

<ul>
<li><code>browserWindow</code> BrowserWindow (optional)</li>
<li><code>options</code> Object

<ul>
<li><code>type</code> String - Can be <code>&quot;none&quot;</code>, <code>&quot;info&quot;</code>, <code>&quot;error&quot;</code>, <code>&quot;question&quot;</code> or
<code>&quot;warning&quot;</code>. On Windows, &quot;question&quot; displays the same icon as &quot;info&quot;, unless
you set an icon using the &quot;icon&quot; option.</li>
<li><code>buttons</code> Array - Array of texts for buttons.</li>
<li><code>defaultId</code> Integer - Index of the button in the buttons array which will
be selected by default when the message box opens.</li>
<li><code>title</code> String - Title of the message box, some platforms will not show it.</li>
<li><code>message</code> String - Content of the message box.</li>
<li><code>detail</code> String - Extra information of the message.</li>
<li><code>icon</code> <a href="http://electron.atom.io/docs/v0.36.5/api/native-image">NativeImage</a></li>
<li><code>cancelId</code> Integer - The value will be returned when user cancels the dialog
instead of clicking the buttons of the dialog. By default it is the index
of the buttons that have &quot;cancel&quot; or &quot;no&quot; as label, or 0 if there is no such
buttons. On OS X and Windows the index of &quot;Cancel&quot; button will always be
used as <code>cancelId</code>, not matter whether it is already specified.</li>
<li><code>noLink</code> Boolean - On Windows Electron will try to figure out which one of
the <code>buttons</code> are common buttons (like &quot;Cancel&quot; or &quot;Yes&quot;), and show the
others as command links in the dialog. This can make the dialog appear in
the style of modern Windows apps. If you don&#39;t like this behavior, you can
set <code>noLink</code> to <code>true</code>.</li>
</ul></li>
<li><code>callback</code> Function</li>
</ul>

<p>Shows a message box, it will block the process until the message box is closed.
It returns the index of the clicked button.</p>

<p>If a <code>callback</code> is passed, the API call will be asynchronous and the result
will be passed via <code>callback(response)</code>.</p>

<h3 id="dialog.showerrorbox(title,-content)"><code>dialog.showErrorBox(title, content)</code></h3>

<p>Displays a modal dialog that shows an error message.</p>

<p>This API can be called safely before the <code>ready</code> event the <code>app</code> module emits,
it is usually used to report errors in early stage of startup.  If called
before the app <code>ready</code>event on Linux, the message will be emitted to stderr,
and no GUI dialog will appear.</p>

<h1 id="downloaditem">DownloadItem</h1>

<p><code>DownloadItem</code> is an EventEmitter represents a download item in Electron. It
is used in <code>will-download</code> event of <code>Session</code> module, and allows users to
control the download item.</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// In the main process.</span>
<span class="nx">win</span><span class="p">.</span><span class="nx">webContents</span><span class="p">.</span><span class="nx">session</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;will-download&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">item</span><span class="p">,</span> <span class="nx">webContents</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Set the save path, making Electron not to prompt a save dialog.</span>
  <span class="nx">item</span><span class="p">.</span><span class="nx">setSavePath</span><span class="p">(</span><span class="s1">&#39;/tmp/save.pdf&#39;</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">item</span><span class="p">.</span><span class="nx">getMimeType</span><span class="p">());</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">item</span><span class="p">.</span><span class="nx">getFilename</span><span class="p">());</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">item</span><span class="p">.</span><span class="nx">getTotalBytes</span><span class="p">());</span>
  <span class="nx">item</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;updated&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Received bytes: &#39;</span> <span class="o">+</span> <span class="nx">item</span><span class="p">.</span><span class="nx">getReceivedBytes</span><span class="p">());</span>
  <span class="p">});</span>
  <span class="nx">item</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;done&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span> <span class="nx">state</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">state</span> <span class="o">==</span> <span class="s2">&quot;completed&quot;</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Download successfully&quot;</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Download is cancelled or interrupted that can&#39;t be resumed&quot;</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">});</span>
</code></pre></div>

<h2 id="events">Events</h2>

<h3 id="event:-&#39;updated&#39;">Event: &#39;updated&#39;</h3>

<p>Emits when the <code>downloadItem</code> gets updated.</p>

<h3 id="event:-&#39;done&#39;">Event: &#39;done&#39;</h3>

<ul>
<li><code>event</code> Event</li>
<li><code>state</code> String

<ul>
<li><code>completed</code> - The download completed successfully.</li>
<li><code>cancelled</code> - The download has been cancelled.</li>
<li><code>interrupted</code> - An error broke the connection with the file server.</li>
</ul></li>
</ul>

<p>Emits when the download is in a terminal state. This includes a completed
download, a cancelled download(via <code>downloadItem.cancel()</code>), and interrupted
download that can&#39;t be resumed.</p>

<h2 id="methods">Methods</h2>

<p>The <code>downloadItem</code> object has the following methods:</p>

<h3 id="downloaditem.setsavepath(path)"><code>downloadItem.setSavePath(path)</code></h3>

<ul>
<li><code>path</code> String - Set the save file path of the download item.</li>
</ul>

<p>The API is only available in session&#39;s <code>will-download</code> callback function.
If user doesn&#39;t set the save path via the API, Electron will use the original
routine to determine the save path(Usually prompts a save dialog).</p>

<h3 id="downloaditem.pause()"><code>downloadItem.pause()</code></h3>

<p>Pauses the download.</p>

<h3 id="downloaditem.resume()"><code>downloadItem.resume()</code></h3>

<p>Resumes the download that has been paused.</p>

<h3 id="downloaditem.cancel()"><code>downloadItem.cancel()</code></h3>

<p>Cancels the download operation.</p>

<h3 id="downloaditem.geturl()"><code>downloadItem.getURL()</code></h3>

<p>Returns a <code>String</code> represents the origin url where the item is downloaded from.</p>

<h3 id="downloaditem.getmimetype()"><code>downloadItem.getMimeType()</code></h3>

<p>Returns a <code>String</code> represents the mime type.</p>

<h3 id="downloaditem.hasusergesture()"><code>downloadItem.hasUserGesture()</code></h3>

<p>Returns a <code>Boolean</code> indicates whether the download has user gesture.</p>

<h3 id="downloaditem.getfilename()"><code>downloadItem.getFilename()</code></h3>

<p>Returns a <code>String</code> represents the file name of the download item.</p>

<p><strong>Note:</strong> The file name is not always the same as the actual one saved in local
disk. If user changes the file name in a prompted download saving dialog, the
actual name of saved file will be different.</p>

<h3 id="downloaditem.gettotalbytes()"><code>downloadItem.getTotalBytes()</code></h3>

<p>Returns a <code>Integer</code> represents the total size in bytes of the download item.
If the size is unknown, it returns 0.</p>

<h3 id="downloaditem.getreceivedbytes()"><code>downloadItem.getReceivedBytes()</code></h3>

<p>Returns a <code>Integer</code> represents the received bytes of the download item.</p>

<h3 id="downloaditem.getcontentdisposition()"><code>downloadItem.getContentDisposition()</code></h3>

<p>Returns a <code>String</code> represents the Content-Disposition field from the response
header.</p>

<h1 id="environment-variables">Environment variables</h1>

<p>Some behaviors of Electron are controlled by environment variables, because they
are initialized earlier than command line and the app&#39;s code.</p>

<p>Examples on POSIX shells:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span><span class="nb">export </span><span class="nv">ELECTRON_ENABLE_LOGGING</span><span class="o">=</span><span class="nb">true</span>
<span class="nv">$ </span>electron
</code></pre></div>

<p>on Windows console:</p>

<div class="highlight"><pre><code class="language-powershell" data-lang="powershell"><span class="p">&gt;</span> <span class="n">set</span> <span class="n">ELECTRON_ENABLE_LOGGING</span><span class="p">=</span><span class="n">true</span>
<span class="p">&gt;</span> <span class="n">electron</span>
</code></pre></div>

<h2 id="electron_run_as_node"><code>ELECTRON_RUN_AS_NODE</code></h2>

<p>Starts the process as a normal Node.js process.</p>

<h2 id="electron_enable_logging"><code>ELECTRON_ENABLE_LOGGING</code></h2>

<p>Prints Chrome&#39;s internal logging to console.</p>

<h2 id="electron_log_asar_reads"><code>ELECTRON_LOG_ASAR_READS</code></h2>

<p>When Electron reads from an ASAR file, log the read offset and file path to
the system <code>tmpdir</code>. The resulting file can be provided to the ASAR module
to optimize file ordering.</p>

<h2 id="electron_enable_stack_dumping"><code>ELECTRON_ENABLE_STACK_DUMPING</code></h2>

<p>When Electron crashed, prints the stack trace to console.</p>

<p>This environment variable will not work if <code>crashReporter</code> is started.</p>

<h2 id="electron_default_error_mode-windows"><code>ELECTRON_DEFAULT_ERROR_MODE</code> <em>Windows</em></h2>

<p>Shows Windows&#39;s crash dialog when Electron crashed.</p>

<p>This environment variable will not work if <code>crashReporter</code> is started.</p>

<h2 id="electron_no_attach_console-windows"><code>ELECTRON_NO_ATTACH_CONSOLE</code> <em>Windows</em></h2>

<p>Don&#39;t attach to current console session.</p>

<h2 id="electron_force_window_menu_bar-linux"><code>ELECTRON_FORCE_WINDOW_MENU_BAR</code> <em>Linux</em></h2>

<p>Don&#39;t use global menu bar on Linux.</p>

<h2 id="electron_hide_internal_modules"><code>ELECTRON_HIDE_INTERNAL_MODULES</code></h2>

<p>Turns off compatibility mode for old built-in modules like <code>require(&#39;ipc&#39;)</code>.</p>

<h1 id="file-object"><code>File</code> object</h1>

<p>The DOM&#39;s File interface provides abstraction around native files in order to
let users work on native files directly with the HTML5 file API. Electron has
added a <code>path</code> attribute to the <code>File</code> interface which exposes the file&#39;s real
path on filesystem.</p>

<p>Example on getting a real path from a dragged-onto-the-app file:</p>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;holder&quot;</span><span class="nt">&gt;</span>
  Drag your file here
<span class="nt">&lt;/div&gt;</span>

<span class="nt">&lt;script&gt;</span>
  <span class="kd">var</span> <span class="nx">holder</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;holder&#39;</span><span class="p">);</span>
  <span class="nx">holder</span><span class="p">.</span><span class="nx">ondragover</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
  <span class="p">};</span>
  <span class="nx">holder</span><span class="p">.</span><span class="nx">ondragleave</span> <span class="o">=</span> <span class="nx">holder</span><span class="p">.</span><span class="nx">ondragend</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
  <span class="p">};</span>
  <span class="nx">holder</span><span class="p">.</span><span class="nx">ondrop</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
    <span class="kd">var</span> <span class="nx">file</span> <span class="o">=</span> <span class="nx">e</span><span class="p">.</span><span class="nx">dataTransfer</span><span class="p">.</span><span class="nx">files</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;File you dragged here is&#39;</span><span class="p">,</span> <span class="nx">file</span><span class="p">.</span><span class="nx">path</span><span class="p">);</span>
    <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
  <span class="p">};</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre></div>

<h1 id="frameless-window">Frameless Window</h1>

<p>A frameless window is a window that has no <a href="https://developer.mozilla.org/en-US/docs/Glossary/Chrome">chrome</a>, the parts of the window, like toolbars, that are not a part of the web page. These are options on the <a href="browser-window.md"><code>BrowserWindow</code></a> class.</p>

<h2 id="create-a-frameless-window">Create a frameless window</h2>

<p>To create a frameless window, you need to set <code>frame</code> to <code>false</code> in
<a href="http://electron.atom.io/docs/v0.36.5/api/browser-window">BrowserWindow</a>&#39;s <code>options</code>:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="nx">BrowserWindow</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;electron&#39;</span><span class="p">).</span><span class="nx">BrowserWindow</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">win</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BrowserWindow</span><span class="p">({</span> <span class="nx">width</span><span class="o">:</span> <span class="mi">800</span><span class="p">,</span> <span class="nx">height</span><span class="o">:</span> <span class="mi">600</span><span class="p">,</span> <span class="nx">frame</span><span class="o">:</span> <span class="kc">false</span> <span class="p">});</span>
</code></pre></div>

<h3 id="alternatives-on-os-x">Alternatives on OS X</h3>

<p>On Mac OS X 10.10 Yosemite and newer, there&#39;s an alternative way to specify
a chromeless window. Instead of setting <code>frame</code> to <code>false</code> which disables
both the titlebar and window controls, you may want to have the title bar
hidden and your content extend to the full window size, yet still preserve
the window controls (&quot;traffic lights&quot;) for standard window actions.
You can do so by specifying the new <code>titleBarStyle</code> option:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">win</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BrowserWindow</span><span class="p">({</span> <span class="s1">&#39;titleBarStyle&#39;</span><span class="o">:</span> <span class="s1">&#39;hidden&#39;</span> <span class="p">});</span>
</code></pre></div>

<h2 id="transparent-window">Transparent window</h2>

<p>By setting the <code>transparent</code> option to <code>true</code>, you can also make the frameless
window transparent:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">win</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BrowserWindow</span><span class="p">({</span> <span class="nx">transparent</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">frame</span><span class="o">:</span> <span class="kc">false</span> <span class="p">});</span>
</code></pre></div>

<h3 id="limitations">Limitations</h3>

<ul>
<li>You can not click through the transparent area. We are going to introduce an
API to set window shape to solve this, see <a href="https://github.com/atom/electron/issues/1335">our issue</a> for details.</li>
<li>Transparent windows are not resizable. Setting <code>resizable</code> to <code>true</code> may make
a transparent window stop working on some platforms.</li>
<li>The <code>blur</code> filter only applies to the web page, so there is no way to apply
blur effect to the content below the window (i.e. other applications open on
the user&#39;s system).</li>
<li>On Windows operation systems, transparent windows will not work when DWM is
disabled.</li>
<li>On Linux users have to put <code>--enable-transparent-visuals --disable-gpu</code> in
the command line to disable GPU and allow ARGB to make transparent window,
this is caused by an upstream bug that <a href="https://code.google.com/p/chromium/issues/detail?id=369209">alpha channel doesn&#39;t work on some
NVidia drivers</a> on
Linux.</li>
<li>On Mac the native window shadow will not be shown on a transparent window.</li>
</ul>

<h2 id="draggable-region">Draggable region</h2>

<p>By default, the frameless window is non-draggable. Apps need to specify
<code>-webkit-app-region: drag</code> in CSS to tell Electron which regions are draggable
(like the OS&#39;s standard titlebar), and apps can also use
<code>-webkit-app-region: no-drag</code> to exclude the non-draggable area from the
 draggable region. Note that only rectangular shapes are currently supported.</p>

<p>To make the whole window draggable, you can add <code>-webkit-app-region: drag</code> as
<code>body</code>&#39;s style:</p>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;body</span> <span class="na">style=</span><span class="s">&quot;-webkit-app-region: drag&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;/body&gt;</span>
</code></pre></div>

<p>And note that if you have made the whole window draggable, you must also mark
buttons as non-draggable, otherwise it would be impossible for users to click on
them:</p>

<div class="highlight"><pre><code class="language-css" data-lang="css"><span class="nt">button</span> <span class="p">{</span>
  <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">app</span><span class="o">-</span><span class="n">region</span><span class="o">:</span> <span class="n">no</span><span class="o">-</span><span class="n">drag</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<p>If you&#39;re setting just a custom titlebar as draggable, you also need to make all
buttons in titlebar non-draggable.</p>

<h2 id="text-selection">Text selection</h2>

<p>In a frameless window the dragging behaviour may conflict with selecting text.
For example, when you drag the titlebar you may accidentally select the text on
the titlebar. To prevent this, you need to disable text selection within a
draggable area like this:</p>

<div class="highlight"><pre><code class="language-css" data-lang="css"><span class="nc">.titlebar</span> <span class="p">{</span>
  <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">user</span><span class="o">-</span><span class="n">select</span><span class="o">:</span> <span class="k">none</span><span class="p">;</span>
  <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">app</span><span class="o">-</span><span class="n">region</span><span class="o">:</span> <span class="n">drag</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<h2 id="context-menu">Context menu</h2>

<p>On some platforms, the draggable area will be treated as a non-client frame, so
when you right click on it a system menu will pop up. To make the context menu
behave correctly on all platforms you should never use a custom context menu on
draggable areas.</p>

<h1 id="globalshortcut">globalShortcut</h1>

<p>The <code>globalShortcut</code> module can register/unregister a global keyboard shortcut
with the operating system so that you can customize the operations for various
shortcuts.</p>

<p><strong>Note:</strong> The shortcut is global; it will work even if the app does
not have the keyboard focus. You should not use this module until the <code>ready</code>
event of the app module is emitted.</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="nx">electron</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;electron&#39;</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">app</span> <span class="o">=</span> <span class="nx">electron</span><span class="p">.</span><span class="nx">app</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">globalShortcut</span> <span class="o">=</span> <span class="nx">electron</span><span class="p">.</span><span class="nx">globalShortcut</span><span class="p">;</span>

<span class="nx">app</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;ready&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// Register a &#39;ctrl+x&#39; shortcut listener.</span>
  <span class="kd">var</span> <span class="nx">ret</span> <span class="o">=</span> <span class="nx">globalShortcut</span><span class="p">.</span><span class="nx">register</span><span class="p">(</span><span class="s1">&#39;ctrl+x&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;ctrl+x is pressed&#39;</span><span class="p">);</span>
  <span class="p">});</span>

  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">ret</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;registration failed&#39;</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="c1">// Check whether a shortcut is registered.</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">globalShortcut</span><span class="p">.</span><span class="nx">isRegistered</span><span class="p">(</span><span class="s1">&#39;ctrl+x&#39;</span><span class="p">));</span>
<span class="p">});</span>

<span class="nx">app</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;will-quit&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// Unregister a shortcut.</span>
  <span class="nx">globalShortcut</span><span class="p">.</span><span class="nx">unregister</span><span class="p">(</span><span class="s1">&#39;ctrl+x&#39;</span><span class="p">);</span>

  <span class="c1">// Unregister all shortcuts.</span>
  <span class="nx">globalShortcut</span><span class="p">.</span><span class="nx">unregisterAll</span><span class="p">();</span>
<span class="p">});</span>
</code></pre></div>

<h2 id="methods">Methods</h2>

<p>The <code>globalShortcut</code> module has the following methods:</p>

<h3 id="globalshortcut.register(accelerator,-callback)"><code>globalShortcut.register(accelerator, callback)</code></h3>

<ul>
<li><code>accelerator</code> <a href="http://electron.atom.io/docs/v0.36.5/api/accelerator">Accelerator</a></li>
<li><code>callback</code> Function</li>
</ul>

<p>Registers a global shortcut of <code>accelerator</code>. The <code>callback</code> is called when
the registered shortcut is pressed by the user.</p>

<p>When the accelerator is already taken by other applications, this call will
silently fail. This behavior is intended by operating systems, since they don&#39;t
want applications to fight for global shortcuts.</p>

<h3 id="globalshortcut.isregistered(accelerator)"><code>globalShortcut.isRegistered(accelerator)</code></h3>

<ul>
<li><code>accelerator</code> <a href="http://electron.atom.io/docs/v0.36.5/api/accelerator">Accelerator</a></li>
</ul>

<p>Returns whether this application has registered <code>accelerator</code>.</p>

<p>When the accelerator is already taken by other applications, this call will
still return <code>false</code>. This behavior is intended by operating systems, since they
don&#39;t want applications to fight for global shortcuts.</p>

<h3 id="globalshortcut.unregister(accelerator)"><code>globalShortcut.unregister(accelerator)</code></h3>

<ul>
<li><code>accelerator</code> <a href="http://electron.atom.io/docs/v0.36.5/api/accelerator">Accelerator</a></li>
</ul>

<p>Unregisters the global shortcut of <code>accelerator</code>.</p>

<h3 id="globalshortcut.unregisterall()"><code>globalShortcut.unregisterAll()</code></h3>

<p>Unregisters all of the global shortcuts.</p>

<h1 id="ipcmain">ipcMain</h1>

<p>The <code>ipcMain</code> module is an instance of the
<a href="https://nodejs.org/api/events.html">EventEmitter</a> class. When used in the main
process, it handles asynchronous and synchronous messages sent from a renderer
process (web page). Messages sent from a renderer will be emitted to this
module.</p>

<h2 id="sending-messages">Sending Messages</h2>

<p>It is also possible to send messages from the main process to the renderer
process, see <a href="http://electron.atom.io/docs/v0.36.5/api/web-contents#webcontentssendchannel-arg1-arg2-">webContents.send</a> for more information.</p>

<ul>
<li>When sending a message, the event name is the <code>channel</code>.</li>
<li>To reply a synchronous message, you need to set <code>event.returnValue</code>.</li>
<li>To send an asynchronous back to the sender, you can use
<code>event.sender.send(...)</code>.</li>
</ul>

<p>An example of sending and handling messages between the render and main
processes:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// In main process.</span>
<span class="kr">const</span> <span class="nx">ipcMain</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;electron&#39;</span><span class="p">).</span><span class="nx">ipcMain</span><span class="p">;</span>
<span class="nx">ipcMain</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;asynchronous-message&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">arg</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">arg</span><span class="p">);</span>  <span class="c1">// prints &quot;ping&quot;</span>
  <span class="nx">event</span><span class="p">.</span><span class="nx">sender</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">&#39;asynchronous-reply&#39;</span><span class="p">,</span> <span class="s1">&#39;pong&#39;</span><span class="p">);</span>
<span class="p">});</span>

<span class="nx">ipcMain</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;synchronous-message&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">arg</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">arg</span><span class="p">);</span>  <span class="c1">// prints &quot;ping&quot;</span>
  <span class="nx">event</span><span class="p">.</span><span class="nx">returnValue</span> <span class="o">=</span> <span class="s1">&#39;pong&#39;</span><span class="p">;</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// In renderer process (web page).</span>
<span class="kr">const</span> <span class="nx">ipcRenderer</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;electron&#39;</span><span class="p">).</span><span class="nx">ipcRenderer</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">ipcRenderer</span><span class="p">.</span><span class="nx">sendSync</span><span class="p">(</span><span class="s1">&#39;synchronous-message&#39;</span><span class="p">,</span> <span class="s1">&#39;ping&#39;</span><span class="p">));</span> <span class="c1">// prints &quot;pong&quot;</span>

<span class="nx">ipcRenderer</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;asynchronous-reply&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">arg</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">arg</span><span class="p">);</span> <span class="c1">// prints &quot;pong&quot;</span>
<span class="p">});</span>
<span class="nx">ipcRenderer</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">&#39;asynchronous-message&#39;</span><span class="p">,</span> <span class="s1">&#39;ping&#39;</span><span class="p">);</span>
</code></pre></div>

<h2 id="listening-for-messages">Listening for Messages</h2>

<p>The <code>ipcMain</code> module has the following method to listen for events:</p>

<h3 id="ipcmain.on(channel,-callback)"><code>ipcMain.on(channel, callback)</code></h3>

<ul>
<li><code>channel</code> String - The event name.</li>
<li><code>callback</code> Function</li>
</ul>

<p>When the event occurs the <code>callback</code> is called with an <code>event</code> object and
arbitrary arguments.</p>

<h3 id="ipcmain.removelistener(channel,-callback)"><code>ipcMain.removeListener(channel, callback)</code></h3>

<ul>
<li><code>channel</code> String - The event name.</li>
<li><code>callback</code> Function - The reference to the same function that you used for
<code>ipcMain.on(channel, callback)</code></li>
</ul>

<p>Once done listening for messages, if you no longer want to activate this
callback and for whatever reason can&#39;t merely stop sending messages on the
channel, this function will remove the callback handler for the specified
channel.</p>

<h3 id="ipcmain.removealllisteners(channel)"><code>ipcMain.removeAllListeners(channel)</code></h3>

<ul>
<li><code>channel</code> String - The event name.</li>
</ul>

<p>This removes <em>all</em> handlers to this ipc channel.</p>

<h3 id="ipcmain.once(channel,-callback)"><code>ipcMain.once(channel, callback)</code></h3>

<p>Use this in place of <code>ipcMain.on()</code> to fire handlers meant to occur only once,
as in, they won&#39;t be activated after one call of <code>callback</code></p>

<h2 id="ipc-event">IPC Event</h2>

<p>The <code>event</code> object passed to the <code>callback</code> has the following methods:</p>

<h3 id="event.returnvalue"><code>event.returnValue</code></h3>

<p>Set this to the value to be returned in a synchronous message.</p>

<h3 id="event.sender"><code>event.sender</code></h3>

<p>Returns the <code>webContents</code> that sent the message, you can call
<code>event.sender.send</code> to reply to the asynchronous message, see
<a href="http://electron.atom.io/docs/v0.36.5/api/web-contents#webcontentssendchannel-arg1-arg2-">webContents.send</a> for more information.</p>

<h1 id="ipcrenderer">ipcRenderer</h1>

<p>The <code>ipcRenderer</code> module is an instance of the
<a href="https://nodejs.org/api/events.html">EventEmitter</a> class. It provides a few
methods so you can send synchronous and asynchronous messages from the render
process (web page) to the main process.  You can also receive replies from the
main process.</p>

<p>See <a href="http://electron.atom.io/docs/v0.36.5/api/ipc-main">ipcMain</a> for code examples.</p>

<h2 id="listening-for-messages">Listening for Messages</h2>

<p>The <code>ipcRenderer</code> module has the following method to listen for events:</p>

<h3 id="ipcrenderer.on(channel,-callback)"><code>ipcRenderer.on(channel, callback)</code></h3>

<ul>
<li><code>channel</code> String - The event name.</li>
<li><code>callback</code> Function</li>
</ul>

<p>When the event occurs the <code>callback</code> is called with an <code>event</code> object and
arbitrary arguments.</p>

<h3 id="ipcrenderer.removelistener(channel,-callback)"><code>ipcRenderer.removeListener(channel, callback)</code></h3>

<ul>
<li><code>channel</code> String - The event name.</li>
<li><code>callback</code> Function - The reference to the same function that you used for
<code>ipcRenderer.on(channel, callback)</code></li>
</ul>

<p>Once done listening for messages, if you no longer want to activate this
callback and for whatever reason can&#39;t merely stop sending messages on the
channel, this function will remove the callback handler for the specified
channel.</p>

<h3 id="ipcrenderer.removealllisteners(channel)"><code>ipcRenderer.removeAllListeners(channel)</code></h3>

<ul>
<li><code>channel</code> String - The event name.</li>
</ul>

<p>This removes <em>all</em> handlers to this ipc channel.</p>

<h3 id="ipcmain.once(channel,-callback)"><code>ipcMain.once(channel, callback)</code></h3>

<p>Use this in place of <code>ipcMain.on()</code> to fire handlers meant to occur only once,
as in, they won&#39;t be activated after one call of <code>callback</code></p>

<h2 id="sending-messages">Sending Messages</h2>

<p>The <code>ipcRenderer</code> module has the following methods for sending messages:</p>

<h3 id="ipcrenderer.send(channel[,-arg1][,-arg2][,-...])"><code>ipcRenderer.send(channel[, arg1][, arg2][, ...])</code></h3>

<ul>
<li><code>channel</code> String - The event name.</li>
<li><code>arg</code> (optional)</li>
</ul>

<p>Send an event to the main process asynchronously via a <code>channel</code>, you can also
send arbitrary arguments. The main process handles it by listening for the
<code>channel</code> event with <code>ipcMain</code>.</p>

<h3 id="ipcrenderer.sendsync(channel[,-arg1][,-arg2][,-...])"><code>ipcRenderer.sendSync(channel[, arg1][, arg2][, ...])</code></h3>

<ul>
<li><code>channel</code> String - The event name.</li>
<li><code>arg</code> (optional)</li>
</ul>

<p>Send an event to the main process synchronously via a <code>channel</code>, you can also
send arbitrary arguments.</p>

<p>The main process handles it by listening for the <code>channel</code> event with 
<code>ipcMain</code> and replies by setting <code>event.returnValue</code>.</p>

<p><strong>Note:</strong> Sending a synchronous message will block the whole renderer process,
unless you know what you are doing you should never use it.</p>

<h3 id="ipcrenderer.sendtohost(channel[,-arg1][,-arg2][,-...])"><code>ipcRenderer.sendToHost(channel[, arg1][, arg2][, ...])</code></h3>

<ul>
<li><code>channel</code> String - The event name.</li>
<li><code>arg</code> (optional)</li>
</ul>

<p>Like <code>ipcRenderer.send</code> but the event will be sent to the <code>&lt;webview&gt;</code> element in
the host page instead of the main process.</p>

<h1 id="menuitem">MenuItem</h1>

<p>The <code>menu-item</code> module allows you to add items to an application or context
<a href="http://electron.atom.io/docs/v0.36.5/api/menu"><code>menu</code></a>.</p>

<p>See <a href="http://electron.atom.io/docs/v0.36.5/api/menu"><code>menu</code></a> for examples.</p>

<h2 id="class:-menuitem">Class: MenuItem</h2>

<p>Create a new <code>MenuItem</code> with the following method:</p>

<h3 id="new-menuitem(options)">new MenuItem(options)</h3>

<ul>
<li><code>options</code> Object

<ul>
<li><code>click</code> Function - Will be called with <code>click(menuItem, browserWindow)</code> when
the menu item is clicked</li>
<li><code>role</code> String - Define the action of the menu item, when specified the
<code>click</code> property will be ignored</li>
<li><code>type</code> String - Can be <code>normal</code>, <code>separator</code>, <code>submenu</code>, <code>checkbox</code> or
<code>radio</code></li>
<li><code>label</code> String</li>
<li><code>sublabel</code> String</li>
<li><code>accelerator</code> <a href="http://electron.atom.io/docs/v0.36.5/api/accelerator">Accelerator</a></li>
<li><code>icon</code> <a href="http://electron.atom.io/docs/v0.36.5/api/native-image">NativeImage</a></li>
<li><code>enabled</code> Boolean</li>
<li><code>visible</code> Boolean</li>
<li><code>checked</code> Boolean</li>
<li><code>submenu</code> Menu - Should be specified for <code>submenu</code> type menu item, when
it&#39;s specified the <code>type: &#39;submenu&#39;</code> can be omitted for the menu item.
If the value is not a <code>Menu</code> then it will be automatically converted to one
using <code>Menu.buildFromTemplate</code>.</li>
<li><code>id</code> String - Unique within a single menu. If defined then it can be used
as a reference to this item by the position attribute.</li>
<li><code>position</code> String - This field allows fine-grained definition of the
specific location within a given menu.</li>
</ul></li>
</ul>

<p>When creating menu items, it is recommended to specify <code>role</code> instead of
manually implementing the behavior if there is matching action, so menu can have
best native experience.</p>

<p>The <code>role</code> property can have following values:</p>

<ul>
<li><code>undo</code></li>
<li><code>redo</code></li>
<li><code>cut</code></li>
<li><code>copy</code></li>
<li><code>paste</code></li>
<li><code>selectall</code></li>
<li><code>minimize</code> - Minimize current window</li>
<li><code>close</code> - Close current window</li>
</ul>

<p>On OS X <code>role</code> can also have following additional values:</p>

<ul>
<li><code>about</code> - Map to the <code>orderFrontStandardAboutPanel</code> action</li>
<li><code>hide</code> - Map to the <code>hide</code> action</li>
<li><code>hideothers</code> - Map to the <code>hideOtherApplications</code> action</li>
<li><code>unhide</code> - Map to the <code>unhideAllApplications</code> action</li>
<li><code>front</code> - Map to the <code>arrangeInFront</code> action</li>
<li><code>window</code> - The submenu is a &quot;Window&quot; menu</li>
<li><code>help</code> - The submenu is a &quot;Help&quot; menu</li>
<li><code>services</code> - The submenu is a &quot;Services&quot; menu</li>
</ul>

<h1 id="menu">Menu</h1>

<p>The <code>menu</code> class is used to create native menus that can be used as
application menus and
<a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/PopupGuide/ContextMenus">context menus</a>.
This module is a main process module which can be used in a render process via
the <code>remote</code> module.</p>

<p>Each menu consists of multiple <a href="http://electron.atom.io/docs/v0.36.5/api/menu-item">menu items</a> and each menu item can
have a submenu.</p>

<p>Below is an example of creating a menu dynamically in a web page
(render process) by using the <a href="http://electron.atom.io/docs/v0.36.5/api/remote">remote</a> module, and showing it when
the user right clicks the page:</p>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="c">&lt;!-- index.html --&gt;</span>
<span class="nt">&lt;script&gt;</span>
<span class="kr">const</span> <span class="nx">remote</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;electron&#39;</span><span class="p">).</span><span class="nx">remote</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">Menu</span> <span class="o">=</span> <span class="nx">remote</span><span class="p">.</span><span class="nx">Menu</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">MenuItem</span> <span class="o">=</span> <span class="nx">remote</span><span class="p">.</span><span class="nx">MenuItem</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">menu</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Menu</span><span class="p">();</span>
<span class="nx">menu</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="k">new</span> <span class="nx">MenuItem</span><span class="p">({</span> <span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;MenuItem1&#39;</span><span class="p">,</span> <span class="nx">click</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;item 1 clicked&#39;</span><span class="p">);</span> <span class="p">}</span> <span class="p">}));</span>
<span class="nx">menu</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="k">new</span> <span class="nx">MenuItem</span><span class="p">({</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;separator&#39;</span> <span class="p">}));</span>
<span class="nx">menu</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="k">new</span> <span class="nx">MenuItem</span><span class="p">({</span> <span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;MenuItem2&#39;</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;checkbox&#39;</span><span class="p">,</span> <span class="nx">checked</span><span class="o">:</span> <span class="kc">true</span> <span class="p">}));</span>

<span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;contextmenu&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
  <span class="nx">menu</span><span class="p">.</span><span class="nx">popup</span><span class="p">(</span><span class="nx">remote</span><span class="p">.</span><span class="nx">getCurrentWindow</span><span class="p">());</span>
<span class="p">},</span> <span class="kc">false</span><span class="p">);</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre></div>

<p>An example of creating the application menu in the render process with the
simple template API:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">template</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;Edit&#39;</span><span class="p">,</span>
    <span class="nx">submenu</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;Undo&#39;</span><span class="p">,</span>
        <span class="nx">accelerator</span><span class="o">:</span> <span class="s1">&#39;CmdOrCtrl+Z&#39;</span><span class="p">,</span>
        <span class="nx">role</span><span class="o">:</span> <span class="s1">&#39;undo&#39;</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;Redo&#39;</span><span class="p">,</span>
        <span class="nx">accelerator</span><span class="o">:</span> <span class="s1">&#39;Shift+CmdOrCtrl+Z&#39;</span><span class="p">,</span>
        <span class="nx">role</span><span class="o">:</span> <span class="s1">&#39;redo&#39;</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;separator&#39;</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;Cut&#39;</span><span class="p">,</span>
        <span class="nx">accelerator</span><span class="o">:</span> <span class="s1">&#39;CmdOrCtrl+X&#39;</span><span class="p">,</span>
        <span class="nx">role</span><span class="o">:</span> <span class="s1">&#39;cut&#39;</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;Copy&#39;</span><span class="p">,</span>
        <span class="nx">accelerator</span><span class="o">:</span> <span class="s1">&#39;CmdOrCtrl+C&#39;</span><span class="p">,</span>
        <span class="nx">role</span><span class="o">:</span> <span class="s1">&#39;copy&#39;</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;Paste&#39;</span><span class="p">,</span>
        <span class="nx">accelerator</span><span class="o">:</span> <span class="s1">&#39;CmdOrCtrl+V&#39;</span><span class="p">,</span>
        <span class="nx">role</span><span class="o">:</span> <span class="s1">&#39;paste&#39;</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;Select All&#39;</span><span class="p">,</span>
        <span class="nx">accelerator</span><span class="o">:</span> <span class="s1">&#39;CmdOrCtrl+A&#39;</span><span class="p">,</span>
        <span class="nx">role</span><span class="o">:</span> <span class="s1">&#39;selectall&#39;</span>
      <span class="p">},</span>
    <span class="p">]</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;View&#39;</span><span class="p">,</span>
    <span class="nx">submenu</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;Reload&#39;</span><span class="p">,</span>
        <span class="nx">accelerator</span><span class="o">:</span> <span class="s1">&#39;CmdOrCtrl+R&#39;</span><span class="p">,</span>
        <span class="nx">click</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">item</span><span class="p">,</span> <span class="nx">focusedWindow</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">if</span> <span class="p">(</span><span class="nx">focusedWindow</span><span class="p">)</span>
            <span class="nx">focusedWindow</span><span class="p">.</span><span class="nx">reload</span><span class="p">();</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;Toggle Full Screen&#39;</span><span class="p">,</span>
        <span class="nx">accelerator</span><span class="o">:</span> <span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
          <span class="k">if</span> <span class="p">(</span><span class="nx">process</span><span class="p">.</span><span class="nx">platform</span> <span class="o">==</span> <span class="s1">&#39;darwin&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="s1">&#39;Ctrl+Command+F&#39;</span><span class="p">;</span>
          <span class="k">else</span>
            <span class="k">return</span> <span class="s1">&#39;F11&#39;</span><span class="p">;</span>
        <span class="p">})(),</span>
        <span class="nx">click</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">item</span><span class="p">,</span> <span class="nx">focusedWindow</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">if</span> <span class="p">(</span><span class="nx">focusedWindow</span><span class="p">)</span>
            <span class="nx">focusedWindow</span><span class="p">.</span><span class="nx">setFullScreen</span><span class="p">(</span><span class="o">!</span><span class="nx">focusedWindow</span><span class="p">.</span><span class="nx">isFullScreen</span><span class="p">());</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;Toggle Developer Tools&#39;</span><span class="p">,</span>
        <span class="nx">accelerator</span><span class="o">:</span> <span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
          <span class="k">if</span> <span class="p">(</span><span class="nx">process</span><span class="p">.</span><span class="nx">platform</span> <span class="o">==</span> <span class="s1">&#39;darwin&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="s1">&#39;Alt+Command+I&#39;</span><span class="p">;</span>
          <span class="k">else</span>
            <span class="k">return</span> <span class="s1">&#39;Ctrl+Shift+I&#39;</span><span class="p">;</span>
        <span class="p">})(),</span>
        <span class="nx">click</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">item</span><span class="p">,</span> <span class="nx">focusedWindow</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">if</span> <span class="p">(</span><span class="nx">focusedWindow</span><span class="p">)</span>
            <span class="nx">focusedWindow</span><span class="p">.</span><span class="nx">toggleDevTools</span><span class="p">();</span>
        <span class="p">}</span>
      <span class="p">},</span>
    <span class="p">]</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;Window&#39;</span><span class="p">,</span>
    <span class="nx">role</span><span class="o">:</span> <span class="s1">&#39;window&#39;</span><span class="p">,</span>
    <span class="nx">submenu</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;Minimize&#39;</span><span class="p">,</span>
        <span class="nx">accelerator</span><span class="o">:</span> <span class="s1">&#39;CmdOrCtrl+M&#39;</span><span class="p">,</span>
        <span class="nx">role</span><span class="o">:</span> <span class="s1">&#39;minimize&#39;</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;Close&#39;</span><span class="p">,</span>
        <span class="nx">accelerator</span><span class="o">:</span> <span class="s1">&#39;CmdOrCtrl+W&#39;</span><span class="p">,</span>
        <span class="nx">role</span><span class="o">:</span> <span class="s1">&#39;close&#39;</span>
      <span class="p">},</span>
    <span class="p">]</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;Help&#39;</span><span class="p">,</span>
    <span class="nx">role</span><span class="o">:</span> <span class="s1">&#39;help&#39;</span><span class="p">,</span>
    <span class="nx">submenu</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;Learn More&#39;</span><span class="p">,</span>
        <span class="nx">click</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;electron&#39;</span><span class="p">).</span><span class="nx">shell</span><span class="p">.</span><span class="nx">openExternal</span><span class="p">(</span><span class="s1">&#39;http://electron.atom.io&#39;</span><span class="p">)</span> <span class="p">}</span>
      <span class="p">},</span>
    <span class="p">]</span>
  <span class="p">},</span>
<span class="p">];</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">process</span><span class="p">.</span><span class="nx">platform</span> <span class="o">==</span> <span class="s1">&#39;darwin&#39;</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">name</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;electron&#39;</span><span class="p">).</span><span class="nx">app</span><span class="p">.</span><span class="nx">getName</span><span class="p">();</span>
  <span class="nx">template</span><span class="p">.</span><span class="nx">unshift</span><span class="p">({</span>
    <span class="nx">label</span><span class="o">:</span> <span class="nx">name</span><span class="p">,</span>
    <span class="nx">submenu</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;About &#39;</span> <span class="o">+</span> <span class="nx">name</span><span class="p">,</span>
        <span class="nx">role</span><span class="o">:</span> <span class="s1">&#39;about&#39;</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;separator&#39;</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;Services&#39;</span><span class="p">,</span>
        <span class="nx">role</span><span class="o">:</span> <span class="s1">&#39;services&#39;</span><span class="p">,</span>
        <span class="nx">submenu</span><span class="o">:</span> <span class="p">[]</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;separator&#39;</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;Hide &#39;</span> <span class="o">+</span> <span class="nx">name</span><span class="p">,</span>
        <span class="nx">accelerator</span><span class="o">:</span> <span class="s1">&#39;Command+H&#39;</span><span class="p">,</span>
        <span class="nx">role</span><span class="o">:</span> <span class="s1">&#39;hide&#39;</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;Hide Others&#39;</span><span class="p">,</span>
        <span class="nx">accelerator</span><span class="o">:</span> <span class="s1">&#39;Command+Alt+H&#39;</span><span class="p">,</span>
        <span class="nx">role</span><span class="o">:</span> <span class="s1">&#39;hideothers&#39;</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;Show All&#39;</span><span class="p">,</span>
        <span class="nx">role</span><span class="o">:</span> <span class="s1">&#39;unhide&#39;</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;separator&#39;</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;Quit&#39;</span><span class="p">,</span>
        <span class="nx">accelerator</span><span class="o">:</span> <span class="s1">&#39;Command+Q&#39;</span><span class="p">,</span>
        <span class="nx">click</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="nx">app</span><span class="p">.</span><span class="nx">quit</span><span class="p">();</span> <span class="p">}</span>
      <span class="p">},</span>
    <span class="p">]</span>
  <span class="p">});</span>
  <span class="c1">// Window menu.</span>
  <span class="nx">template</span><span class="p">[</span><span class="mi">3</span><span class="p">].</span><span class="nx">submenu</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span>
    <span class="p">{</span>
      <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;separator&#39;</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;Bring All to Front&#39;</span><span class="p">,</span>
      <span class="nx">role</span><span class="o">:</span> <span class="s1">&#39;front&#39;</span>
    <span class="p">}</span>
  <span class="p">);</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">menu</span> <span class="o">=</span> <span class="nx">Menu</span><span class="p">.</span><span class="nx">buildFromTemplate</span><span class="p">(</span><span class="nx">template</span><span class="p">);</span>
<span class="nx">Menu</span><span class="p">.</span><span class="nx">setApplicationMenu</span><span class="p">(</span><span class="nx">menu</span><span class="p">);</span>
</code></pre></div>

<h2 id="class:-menu">Class: Menu</h2>

<h3 id="new-menu()"><code>new Menu()</code></h3>

<p>Creates a new menu.</p>

<h2 id="methods">Methods</h2>

<p>The <code>menu</code> class has the following methods:</p>

<h3 id="menu.setapplicationmenu(menu)"><code>Menu.setApplicationMenu(menu)</code></h3>

<ul>
<li><code>menu</code> Menu</li>
</ul>

<p>Sets <code>menu</code> as the application menu on OS X. On Windows and Linux, the <code>menu</code>
will be set as each window&#39;s top menu.</p>

<h3 id="menu.sendactiontofirstresponder(action)-os-x"><code>Menu.sendActionToFirstResponder(action)</code> <em>OS X</em></h3>

<ul>
<li><code>action</code> String</li>
</ul>

<p>Sends the <code>action</code> to the first responder of application. This is used for
emulating default Cocoa menu behaviors, usually you would just use the
<code>role</code> property of <code>MenuItem</code>.</p>

<h3 id="menu.buildfromtemplate(template)"><code>Menu.buildFromTemplate(template)</code></h3>

<ul>
<li><code>template</code> Array</li>
</ul>

<p>Generally, the <code>template</code> is just an array of <code>options</code> for constructing a
<a href="http://electron.atom.io/docs/v0.36.5/api/menu-item">MenuItem</a>. The usage can be referenced above.</p>

<p>You can also attach other fields to the element of the <code>template</code> and they
will become properties of the constructed menu items.</p>

<h3 id="menu.popup([browserwindow,-x,-y])"><code>Menu.popup([browserWindow, x, y])</code></h3>

<ul>
<li><code>browserWindow</code> BrowserWindow (optional)</li>
<li><code>x</code> Number (optional)</li>
<li><code>y</code> Number (<strong>required</strong> if <code>x</code> is used)</li>
</ul>

<p>Pops up this menu as a context menu in the <code>browserWindow</code>. You
can optionally provide a <code>x,y</code> coordinate to place the menu at, otherwise it
will be placed at the current mouse cursor position.</p>

<h3 id="menu.append(menuitem)"><code>Menu.append(menuItem)</code></h3>

<ul>
<li><code>menuItem</code> MenuItem</li>
</ul>

<p>Appends the <code>menuItem</code> to the menu.</p>

<h3 id="menu.insert(pos,-menuitem)"><code>Menu.insert(pos, menuItem)</code></h3>

<ul>
<li><code>pos</code> Integer</li>
<li><code>menuItem</code> MenuItem</li>
</ul>

<p>Inserts the <code>menuItem</code> to the <code>pos</code> position of the menu.</p>

<h3 id="menu.items()"><code>Menu.items()</code></h3>

<p>Get an array containing the menu&#39;s items.</p>

<h2 id="notes-on-os-x-application-menu">Notes on OS X Application Menu</h2>

<p>OS X has a completely different style of application menu from Windows and
Linux, here are some notes on making your app&#39;s menu more native-like.</p>

<h3 id="standard-menus">Standard Menus</h3>

<p>On OS X there are many system defined standard menus, like the <code>Services</code> and
<code>Windows</code> menus. To make your menu a standard menu, you should set your menu&#39;s
<code>role</code> to one of following and Electron will recognize them and make them
become standard menus:</p>

<ul>
<li><code>window</code></li>
<li><code>help</code></li>
<li><code>services</code></li>
</ul>

<h3 id="standard-menu-item-actions">Standard Menu Item Actions</h3>

<p>OS X has provided standard actions for some menu items, like <code>About xxx</code>,
<code>Hide xxx</code>, and <code>Hide Others</code>. To set the action of a menu item to a standard
action, you should set the <code>role</code> attribute of the menu item.</p>

<h3 id="main-menu&#39;s-name">Main Menu&#39;s Name</h3>

<p>On OS X the label of application menu&#39;s first item is always your app&#39;s name,
no matter what label you set. To change it you have to change your app&#39;s name
by modifying your app bundle&#39;s <code>Info.plist</code> file. See <a href="https://developer.apple.com/library/ios/documentation/general/Reference/InfoPlistKeyReference/Articles/AboutInformationPropertyListFiles.html">About Information
Property List Files</a> for more information.</p>

<h2 id="menu-item-position">Menu Item Position</h2>

<p>You can make use of <code>position</code> and <code>id</code> to control how the item will be placed
when building a menu with <code>Menu.buildFromTemplate</code>.</p>

<p>The <code>position</code> attribute of <code>MenuItem</code> has the form <code>[placement]=[id]</code>, where
placement is one of <code>before</code>, <code>after</code>, or <code>endof</code> and <code>id</code> is the unique ID of
an existing item in the menu:</p>

<ul>
<li><code>before</code> - Inserts this item before the id referenced item. If the
referenced item doesn&#39;t exist the item will be inserted at the end of
the menu.</li>
<li><code>after</code> - Inserts this item after id referenced item. If the referenced
item doesn&#39;t exist the item will be inserted at the end of the menu.</li>
<li><code>endof</code> - Inserts this item at the end of the logical group containing
the id referenced item (groups are created by separator items). If
the referenced item doesn&#39;t exist, a new separator group is created with
the given id and this item is inserted after that separator.</li>
</ul>

<p>When an item is positioned, all un-positioned items are inserted after
it until a new item is positioned. So if you want to position a group of
menu items in the same location you only need to specify a position for
the first item.</p>

<h3 id="examples">Examples</h3>

<p>Template:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="p">[</span>
  <span class="p">{</span><span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;4&#39;</span><span class="p">,</span> <span class="nx">id</span><span class="o">:</span> <span class="s1">&#39;4&#39;</span><span class="p">},</span>
  <span class="p">{</span><span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;5&#39;</span><span class="p">,</span> <span class="nx">id</span><span class="o">:</span> <span class="s1">&#39;5&#39;</span><span class="p">},</span>
  <span class="p">{</span><span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="nx">id</span><span class="o">:</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="nx">position</span><span class="o">:</span> <span class="s1">&#39;before=4&#39;</span><span class="p">},</span>
  <span class="p">{</span><span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="nx">id</span><span class="o">:</span> <span class="s1">&#39;2&#39;</span><span class="p">},</span>
  <span class="p">{</span><span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="nx">id</span><span class="o">:</span> <span class="s1">&#39;3&#39;</span><span class="p">}</span>
<span class="p">]</span>
</code></pre></div>

<p>Menu:</p>

<div class="highlight"><pre><code class="language-text" data-lang="text">- 1
- 2
- 3
- 4
- 5
</code></pre></div>

<p>Template:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="p">[</span>
  <span class="p">{</span><span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="nx">position</span><span class="o">:</span> <span class="s1">&#39;endof=letters&#39;</span><span class="p">},</span>
  <span class="p">{</span><span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="nx">position</span><span class="o">:</span> <span class="s1">&#39;endof=numbers&#39;</span><span class="p">},</span>
  <span class="p">{</span><span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="nx">position</span><span class="o">:</span> <span class="s1">&#39;endof=letters&#39;</span><span class="p">},</span>
  <span class="p">{</span><span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="nx">position</span><span class="o">:</span> <span class="s1">&#39;endof=numbers&#39;</span><span class="p">},</span>
  <span class="p">{</span><span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="nx">position</span><span class="o">:</span> <span class="s1">&#39;endof=letters&#39;</span><span class="p">},</span>
  <span class="p">{</span><span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="nx">position</span><span class="o">:</span> <span class="s1">&#39;endof=numbers&#39;</span><span class="p">}</span>
<span class="p">]</span>
</code></pre></div>

<p>Menu:</p>

<div class="highlight"><pre><code class="language-text" data-lang="text">- ---
- a
- b
- c
- ---
- 1
- 2
- 3
</code></pre></div>

<h1 id="nativeimage">nativeImage</h1>

<p>In Electron, for the APIs that take images, you can pass either file paths or
<code>nativeImage</code> instances. An empty image will be used when <code>null</code> is passed.</p>

<p>For example, when creating a tray or setting a window&#39;s icon, you can pass an
image file path as a <code>String</code>:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">appIcon</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Tray</span><span class="p">(</span><span class="s1">&#39;/Users/somebody/images/icon.png&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nb">window</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BrowserWindow</span><span class="p">({</span><span class="nx">icon</span><span class="o">:</span> <span class="s1">&#39;/Users/somebody/images/window.png&#39;</span><span class="p">});</span>
</code></pre></div>

<p>Or read the image from the clipboard which returns a <code>nativeImage</code>:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">image</span> <span class="o">=</span> <span class="nx">clipboard</span><span class="p">.</span><span class="nx">readImage</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">appIcon</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Tray</span><span class="p">(</span><span class="nx">image</span><span class="p">);</span>
</code></pre></div>

<h2 id="supported-formats">Supported Formats</h2>

<p>Currently <code>PNG</code> and <code>JPEG</code> image formats are supported. <code>PNG</code> is recommended
because of its support for transparency and lossless compression.</p>

<p>On Windows, you can also load an <code>ICO</code> icon from a file path.</p>

<h2 id="high-resolution-image">High Resolution Image</h2>

<p>On platforms that have high-DPI support, you can append <code>@2x</code> after image&#39;s
base filename to mark it as a high resolution image.</p>

<p>For example if <code>icon.png</code> is a normal image that has standard resolution, then
<code>icon@2x.png</code> will be treated as a high resolution image that has double DPI
density.</p>

<p>If you want to support displays with different DPI densities at the same time,
you can put images with different sizes in the same folder and use the filename
without DPI suffixes. For example:</p>

<div class="highlight"><pre><code class="language-text" data-lang="text">images/
â”œâ”€â”€ icon.png
â”œâ”€â”€ icon@2x.png
â””â”€â”€ icon@3x.png
</code></pre></div><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">appIcon</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Tray</span><span class="p">(</span><span class="s1">&#39;/Users/somebody/images/icon.png&#39;</span><span class="p">);</span>
</code></pre></div>

<p>Following suffixes for DPI are also supported:</p>

<ul>
<li><code>@1x</code></li>
<li><code>@1.25x</code></li>
<li><code>@1.33x</code></li>
<li><code>@1.4x</code></li>
<li><code>@1.5x</code></li>
<li><code>@1.8x</code></li>
<li><code>@2x</code></li>
<li><code>@2.5x</code></li>
<li><code>@3x</code></li>
<li><code>@4x</code></li>
<li><code>@5x</code></li>
</ul>

<h2 id="template-image">Template Image</h2>

<p>Template images consist of black and clear colors (and an alpha channel).
Template images are not intended to be used as standalone images and are usually
mixed with other content to create the desired final appearance.</p>

<p>The most common case is to use template images for a menu bar icon so it can
adapt to both light and dark menu bars.</p>

<p><strong>Note:</strong> Template image is only supported on OS X.</p>

<p>To mark an image as a template image, its filename should end with the word
<code>Template</code>. For example:</p>

<ul>
<li><code>xxxTemplate.png</code></li>
<li><code>xxxTemplate@2x.png</code></li>
</ul>

<h2 id="methods">Methods</h2>

<p>The <code>nativeImage</code> class has the following methods:</p>

<h3 id="nativeimage.createempty()"><code>nativeImage.createEmpty()</code></h3>

<p>Creates an empty <code>nativeImage</code> instance.</p>

<h3 id="nativeimage.createfrompath(path)"><code>nativeImage.createFromPath(path)</code></h3>

<ul>
<li><code>path</code> String</li>
</ul>

<p>Creates a new <code>nativeImage</code> instance from a file located at <code>path</code>.</p>

<h3 id="nativeimage.createfrombuffer(buffer[,-scalefactor])"><code>nativeImage.createFromBuffer(buffer[, scaleFactor])</code></h3>

<ul>
<li><code>buffer</code> <a href="https://nodejs.org/api/buffer.html#buffer_class_buffer">Buffer</a></li>
<li><code>scaleFactor</code> Double (optional)</li>
</ul>

<p>Creates a new <code>nativeImage</code> instance from <code>buffer</code>. The default <code>scaleFactor</code> is
1.0.</p>

<h3 id="nativeimage.createfromdataurl(dataurl)"><code>nativeImage.createFromDataURL(dataURL)</code></h3>

<ul>
<li><code>dataURL</code> String</li>
</ul>

<p>Creates a new <code>nativeImage</code> instance from <code>dataURL</code>.</p>

<h2 id="instance-methods">Instance Methods</h2>

<p>The following methods are available on instances of <code>nativeImage</code>:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="nx">nativeImage</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;electron&#39;</span><span class="p">).</span><span class="nx">nativeImage</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">image</span> <span class="o">=</span> <span class="nx">nativeImage</span><span class="p">.</span><span class="nx">createFromPath</span><span class="p">(</span><span class="s1">&#39;/Users/somebody/images/icon.png&#39;</span><span class="p">);</span>
</code></pre></div>

<h3 id="image.topng()"><code>image.toPng()</code></h3>

<p>Returns a <a href="https://nodejs.org/api/buffer.html#buffer_class_buffer">Buffer</a> that contains the image&#39;s <code>PNG</code> encoded data.</p>

<h3 id="image.tojpeg(quality)"><code>image.toJpeg(quality)</code></h3>

<ul>
<li><code>quality</code> Integer (<strong>required</strong>) - Between 0 - 100.</li>
</ul>

<p>Returns a <a href="https://nodejs.org/api/buffer.html#buffer_class_buffer">Buffer</a> that contains the image&#39;s <code>JPEG</code> encoded data.</p>

<h3 id="image.todataurl()"><code>image.toDataURL()</code></h3>

<p>Returns the data URL of the image.</p>

<h3 id="image.isempty()"><code>image.isEmpty()</code></h3>

<p>Returns a boolean whether the image is empty.</p>

<h3 id="image.getsize()"><code>image.getSize()</code></h3>

<p>Returns the size of the image.</p>

<h3 id="image.settemplateimage(option)"><code>image.setTemplateImage(option)</code></h3>

<ul>
<li><code>option</code> Boolean</li>
</ul>

<p>Marks the image as template image.</p>

<h3 id="image.istemplateimage()"><code>image.isTemplateImage()</code></h3>

<p>Returns a boolean whether the image is a template image.</p>

<h1 id="powermonitor">powerMonitor</h1>

<p>The <code>power-monitor</code> module is used to monitor power state changes. You can
only use it in the main process. You should not use this module until the <code>ready</code>
event of the <code>app</code> module is emitted.</p>

<p>For example:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">app</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;ready&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;electron&#39;</span><span class="p">).</span><span class="nx">powerMonitor</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;suspend&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;The system is going to sleep&#39;</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">});</span>
</code></pre></div>

<h2 id="events">Events</h2>

<p>The <code>power-monitor</code> module emits the following events:</p>

<h3 id="event:-&#39;suspend&#39;">Event: &#39;suspend&#39;</h3>

<p>Emitted when the system is suspending.</p>

<h3 id="event:-&#39;resume&#39;">Event: &#39;resume&#39;</h3>

<p>Emitted when system is resuming.</p>

<h3 id="event:-&#39;on-ac&#39;">Event: &#39;on-ac&#39;</h3>

<p>Emitted when the system changes to AC power.</p>

<h3 id="event:-&#39;on-battery&#39;">Event: &#39;on-battery&#39;</h3>

<p>Emitted when system changes to battery power.</p>

<h1 id="powersaveblocker">powerSaveBlocker</h1>

<p>The <code>powerSaveBlocker</code> module is used to block the system from entering
low-power (sleep) mode and thus allowing the app to keep the system and screen
active.</p>

<p>For example:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="nx">powerSaveBlocker</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;electron&#39;</span><span class="p">).</span><span class="nx">powerSaveBlocker</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">id</span> <span class="o">=</span> <span class="nx">powerSaveBlocker</span><span class="p">.</span><span class="nx">start</span><span class="p">(</span><span class="s1">&#39;prevent-display-sleep&#39;</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">powerSaveBlocker</span><span class="p">.</span><span class="nx">isStarted</span><span class="p">(</span><span class="nx">id</span><span class="p">));</span>

<span class="nx">powerSaveBlocker</span><span class="p">.</span><span class="nx">stop</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>
</code></pre></div>

<h2 id="methods">Methods</h2>

<p>The <code>powerSaveBlocker</code> module has the following methods:</p>

<h3 id="powersaveblocker.start(type)"><code>powerSaveBlocker.start(type)</code></h3>

<ul>
<li><code>type</code> String - Power save blocker type.

<ul>
<li><code>prevent-app-suspension</code> - Prevent the application from being suspended.
Keeps system active but allows screen to be turned off.  Example use cases:
downloading a file or playing audio.</li>
<li><code>prevent-display-sleep</code>- Prevent the display from going to sleep. Keeps
system and screen active.  Example use case: playing video.</li>
</ul></li>
</ul>

<p>Starts preventing the system from entering lower-power mode. Returns an integer
identifying the power save blocker.</p>

<p><strong>Note:</strong> <code>prevent-display-sleep</code> has higher has precedence over
<code>prevent-app-suspension</code>. Only the highest precedence type takes effect. In
other words, <code>prevent-display-sleep</code> always takes precedence over
<code>prevent-app-suspension</code>.</p>

<p>For example, an API calling A requests for <code>prevent-app-suspension</code>, and
another calling B requests for <code>prevent-display-sleep</code>. <code>prevent-display-sleep</code>
will be used until B stops its request. After that, <code>prevent-app-suspension</code>
is used.</p>

<h3 id="powersaveblocker.stop(id)"><code>powerSaveBlocker.stop(id)</code></h3>

<ul>
<li><code>id</code> Integer - The power save blocker id returned by <code>powerSaveBlocker.start</code>.</li>
</ul>

<p>Stops the specified power save blocker.</p>

<h3 id="powersaveblocker.isstarted(id)"><code>powerSaveBlocker.isStarted(id)</code></h3>

<ul>
<li><code>id</code> Integer - The power save blocker id returned by <code>powerSaveBlocker.start</code>.</li>
</ul>

<p>Returns a boolean whether the corresponding <code>powerSaveBlocker</code> has started.</p>

<h1 id="process">process</h1>

<p>The <code>process</code> object in Electron has the following differences from the one in
upstream node:</p>

<ul>
<li><code>process.type</code> String - Process&#39;s type, can be <code>browser</code> (i.e. main process)
or <code>renderer</code>.</li>
<li><code>process.versions[&#39;electron&#39;]</code> String - Version of Electron.</li>
<li><code>process.versions[&#39;chrome&#39;]</code> String - Version of Chromium.</li>
<li><code>process.resourcesPath</code> String - Path to JavaScript source code.</li>
<li><code>process.mas</code> Boolean - For Mac App Store build, this value is <code>true</code>, for
other builds it is <code>undefined</code>.</li>
</ul>

<h2 id="events">Events</h2>

<h3 id="event:-&#39;loaded&#39;">Event: &#39;loaded&#39;</h3>

<p>Emitted when Electron has loaded its internal initialization script and is
beginning to load the web page or the main script.</p>

<p>It can be used by the preload script to add removed Node global symbols back to
the global scope when node integration is turned off:</p>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="c1">// preload.js</span>
<span class="kd">var</span> <span class="nx">_setImmediate</span> <span class="o">=</span> <span class="nx">setImmediate</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">_clearImmediate</span> <span class="o">=</span> <span class="nx">clearImmediate</span><span class="p">;</span>
<span class="nx">process</span><span class="p">.</span><span class="nx">once</span><span class="p">(</span><span class="s1">&#39;loaded&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">global</span><span class="p">.</span><span class="nx">setImmediate</span> <span class="o">=</span> <span class="nx">_setImmediate</span><span class="p">;</span>
  <span class="nx">global</span><span class="p">.</span><span class="nx">clearImmediate</span> <span class="o">=</span> <span class="nx">_clearImmediate</span><span class="p">;</span>
<span class="p">});</span>
</code></pre></div>

<h2 id="properties">Properties</h2>

<h3 id="process.noasar"><code>process.noAsar</code></h3>

<p>Setting this to <code>true</code> can disable the support for <code>asar</code> archives in Node&#39;s
built-in modules.</p>

<h2 id="methods">Methods</h2>

<p>The <code>process</code> object has the following method:</p>

<h3 id="process.hang()"><code>process.hang()</code></h3>

<p>Causes the main thread of the current process hang.</p>

<h3 id="process.setfdlimit(maxdescriptors)-os-x-linux"><code>process.setFdLimit(maxDescriptors)</code> <em>OS X</em> <em>Linux</em></h3>

<ul>
<li><code>maxDescriptors</code> Integer</li>
</ul>

<p>Sets the file descriptor soft limit to <code>maxDescriptors</code> or the OS hard
limit, whichever is lower for the current process.</p>

<h1 id="protocol">protocol</h1>

<p>The <code>protocol</code> module can register a custom protocol or intercept an existing
protocol.</p>

<p>An example of implementing a protocol that has the same effect as the
<code>file://</code> protocol:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="nx">electron</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;electron&#39;</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">app</span> <span class="o">=</span> <span class="nx">electron</span><span class="p">.</span><span class="nx">app</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">path</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;path&#39;</span><span class="p">);</span>

<span class="nx">app</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;ready&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">protocol</span> <span class="o">=</span> <span class="nx">electron</span><span class="p">.</span><span class="nx">protocol</span><span class="p">;</span>
    <span class="nx">protocol</span><span class="p">.</span><span class="nx">registerFileProtocol</span><span class="p">(</span><span class="s1">&#39;atom&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">request</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="nx">request</span><span class="p">.</span><span class="nx">url</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">7</span><span class="p">);</span>
      <span class="nx">callback</span><span class="p">({</span><span class="nx">path</span><span class="o">:</span> <span class="nx">path</span><span class="p">.</span><span class="nx">normalize</span><span class="p">(</span><span class="nx">__dirname</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="nx">url</span><span class="p">)});</span>
    <span class="p">},</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">&#39;Failed to register protocol&#39;</span><span class="p">)</span>
    <span class="p">});</span>
<span class="p">});</span>
</code></pre></div>

<p><strong>Note:</strong> This module can only be used after the <code>ready</code> event in the <code>app</code>
module is emitted.</p>

<h2 id="methods">Methods</h2>

<p>The <code>protocol</code> module has the following methods:</p>

<h3 id="protocol.registerstandardschemes(schemes)"><code>protocol.registerStandardSchemes(schemes)</code></h3>

<ul>
<li><code>schemes</code> Array - Custom schemes to be registered as standard schemes.</li>
</ul>

<p>A standard <code>scheme</code> adheres to what RFC 3986 calls
<a href="https://tools.ietf.org/html/rfc3986#section-3">generic URI syntax</a>. This
includes <code>file:</code> and <code>filesystem:</code>.</p>

<h3 id="protocol.registerserviceworkerschemes(schemes)"><code>protocol.registerServiceWorkerSchemes(schemes)</code></h3>

<ul>
<li><code>schemes</code> Array - Custom schemes to be registered to handle service workers.</li>
</ul>

<h3 id="protocol.registerfileprotocol(scheme,-handler[,-completion])"><code>protocol.registerFileProtocol(scheme, handler[, completion])</code></h3>

<ul>
<li><code>scheme</code> String</li>
<li><code>handler</code> Function</li>
<li><code>completion</code> Function (optional)</li>
</ul>

<p>Registers a protocol of <code>scheme</code> that will send the file as a response. The
<code>handler</code> will be called with <code>handler(request, callback)</code> when a <code>request</code> is
going to be created with <code>scheme</code>. <code>completion</code> will be called with
<code>completion(null)</code> when <code>scheme</code> is successfully registered or
<code>completion(error)</code> when failed.</p>

<p>To handle the <code>request</code>, the <code>callback</code> should be called with either the file&#39;s
path or an object that has a <code>path</code> property, e.g. <code>callback(filePath)</code> or
<code>callback({path: filePath})</code>.</p>

<p>When <code>callback</code> is called with nothing, a number, or an object that has an
<code>error</code> property, the <code>request</code> will fail with the <code>error</code> number you
specified. For the available error numbers you can use, please see the
<a href="https://code.google.com/p/chromium/codesearch#chromium/src/net/base/net_error_list.h">net error list</a>.</p>

<p>By default the <code>scheme</code> is treated like <code>http:</code>, which is parsed differently
than protocols that follow the &quot;generic URI syntax&quot; like <code>file:</code>, so you
probably want to call <code>protocol.registerStandardSchemes</code> to have your scheme
treated as a standard scheme.</p>

<h3 id="protocol.registerbufferprotocol(scheme,-handler[,-completion])"><code>protocol.registerBufferProtocol(scheme, handler[, completion])</code></h3>

<ul>
<li><code>scheme</code> String</li>
<li><code>handler</code> Function</li>
<li><code>completion</code> Function (optional)</li>
</ul>

<p>Registers a protocol of <code>scheme</code> that will send a <code>Buffer</code> as a response. The
<code>callback</code> should be called with either a <code>Buffer</code> object or an object that
has the <code>data</code>, <code>mimeType</code>, and <code>chart</code> properties.</p>

<p>Example:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">protocol</span><span class="p">.</span><span class="nx">registerBufferProtocol</span><span class="p">(</span><span class="s1">&#39;atom&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">request</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">callback</span><span class="p">({</span><span class="nx">mimeType</span><span class="o">:</span> <span class="s1">&#39;text/html&#39;</span><span class="p">,</span> <span class="nx">data</span><span class="o">:</span> <span class="k">new</span> <span class="nx">Buffer</span><span class="p">(</span><span class="s1">&#39;&lt;h5&gt;Response&lt;/h5&gt;&#39;</span><span class="p">)});</span>
<span class="p">},</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">&#39;Failed to register protocol&#39;</span><span class="p">)</span>
<span class="p">});</span>
</code></pre></div>

<h3 id="protocol.registerstringprotocol(scheme,-handler[,-completion])"><code>protocol.registerStringProtocol(scheme, handler[, completion])</code></h3>

<ul>
<li><code>scheme</code> String</li>
<li><code>handler</code> Function</li>
<li><code>completion</code> Function (optional)</li>
</ul>

<p>Registers a protocol of <code>scheme</code> that will send a <code>String</code> as a response. The
<code>callback</code> should be called with either a <code>String</code> or an object that has the
<code>data</code>, <code>mimeType</code>, and <code>chart</code> properties.</p>

<h3 id="protocol.registerhttpprotocol(scheme,-handler[,-completion])"><code>protocol.registerHttpProtocol(scheme, handler[, completion])</code></h3>

<ul>
<li><code>scheme</code> String</li>
<li><code>handler</code> Function</li>
<li><code>completion</code> Function (optional)</li>
</ul>

<p>Registers a protocol of <code>scheme</code> that will send an HTTP request as a response.
The <code>callback</code> should be called with an object that has the <code>url</code>, <code>method</code>,
<code>referrer</code>, <code>uploadData</code> and <code>session</code> properties.</p>

<p>By default the HTTP request will reuse the current session. If you want the
request to have a different session you should set <code>session</code> to <code>null</code>.</p>

<p>POST request should provide an <code>uploadData</code> object.
* <code>uploadData</code> object
  * <code>contentType</code> String - MIME type of the content.
  *  <code>data</code> String - Content to be sent.</p>

<h3 id="protocol.unregisterprotocol(scheme[,-completion])"><code>protocol.unregisterProtocol(scheme[, completion])</code></h3>

<ul>
<li><code>scheme</code> String</li>
<li><code>completion</code> Function (optional)</li>
</ul>

<p>Unregisters the custom protocol of <code>scheme</code>.</p>

<h3 id="protocol.isprotocolhandled(scheme,-callback)"><code>protocol.isProtocolHandled(scheme, callback)</code></h3>

<ul>
<li><code>scheme</code> String</li>
<li><code>callback</code> Function</li>
</ul>

<p>The <code>callback</code> will be called with a boolean that indicates whether there is
already a handler for <code>scheme</code>.</p>

<h3 id="protocol.interceptfileprotocol(scheme,-handler[,-completion])"><code>protocol.interceptFileProtocol(scheme, handler[, completion])</code></h3>

<ul>
<li><code>scheme</code> String</li>
<li><code>handler</code> Function</li>
<li><code>completion</code> Function (optional)</li>
</ul>

<p>Intercepts <code>scheme</code> protocol and uses <code>handler</code> as the protocol&#39;s new handler
which sends a file as a response.</p>

<h3 id="protocol.interceptstringprotocol(scheme,-handler[,-completion])"><code>protocol.interceptStringProtocol(scheme, handler[, completion])</code></h3>

<ul>
<li><code>scheme</code> String</li>
<li><code>handler</code> Function</li>
<li><code>completion</code> Function (optional)</li>
</ul>

<p>Intercepts <code>scheme</code> protocol and uses <code>handler</code> as the protocol&#39;s new handler
which sends a <code>String</code> as a response.</p>

<h3 id="protocol.interceptbufferprotocol(scheme,-handler[,-completion])"><code>protocol.interceptBufferProtocol(scheme, handler[, completion])</code></h3>

<ul>
<li><code>scheme</code> String</li>
<li><code>handler</code> Function</li>
<li><code>completion</code> Function (optional)</li>
</ul>

<p>Intercepts <code>scheme</code> protocol and uses <code>handler</code> as the protocol&#39;s new handler
which sends a <code>Buffer</code> as a response.</p>

<h3 id="protocol.intercepthttpprotocol(scheme,-handler[,-completion])"><code>protocol.interceptHttpProtocol(scheme, handler[, completion])</code></h3>

<ul>
<li><code>scheme</code> String</li>
<li><code>handler</code> Function</li>
<li><code>completion</code> Function (optional)</li>
</ul>

<p>Intercepts <code>scheme</code> protocol and uses <code>handler</code> as the protocol&#39;s new handler
which sends a new HTTP request as a response.</p>

<h3 id="protocol.uninterceptprotocol(scheme[,-completion])"><code>protocol.uninterceptProtocol(scheme[, completion])</code></h3>

<ul>
<li><code>scheme</code> String</li>
<li><code>completion</code> Function</li>
</ul>

<p>Remove the interceptor installed for <code>scheme</code> and restore its original handler.</p>

<h1 id="remote">remote</h1>

<p>The <code>remote</code> module provides a simple way to do inter-process communication
(IPC) between the renderer process (web page) and the main process.</p>

<p>In Electron, GUI-related modules (such as <code>dialog</code>, <code>menu</code> etc.) are only
available in the main process, not in the renderer process. In order to use them
from the renderer process, the <code>ipc</code> module is necessary to send inter-process
messages to the main process. With the <code>remote</code> module, you can invoke methods
of the main process object without explicitly sending inter-process messages,
similar to Java&#39;s <a href="http://en.wikipedia.org/wiki/Java_remote_method_invocation">RMI</a>. An example of creating a browser window from a
renderer process:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="nx">remote</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;electron&#39;</span><span class="p">).</span><span class="nx">remote</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">BrowserWindow</span> <span class="o">=</span> <span class="nx">remote</span><span class="p">.</span><span class="nx">BrowserWindow</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">win</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BrowserWindow</span><span class="p">({</span> <span class="nx">width</span><span class="o">:</span> <span class="mi">800</span><span class="p">,</span> <span class="nx">height</span><span class="o">:</span> <span class="mi">600</span> <span class="p">});</span>
<span class="nx">win</span><span class="p">.</span><span class="nx">loadURL</span><span class="p">(</span><span class="s1">&#39;https://github.com&#39;</span><span class="p">);</span>
</code></pre></div>

<p><strong>Note:</strong> for the reverse (access the renderer process from the main process),
you can use <a href="http://electron.atom.io/docs/v0.36.5/api/web-contents#webcontentsexecutejavascriptcode-usergesture">webContents.executeJavascript</a>.</p>

<h2 id="remote-objects">Remote Objects</h2>

<p>Each object (including functions) returned by the <code>remote</code> module represents an
object in the main process (we call it a remote object or remote function).
When you invoke methods of a remote object, call a remote function, or create
a new object with the remote constructor (function), you are actually sending
synchronous inter-process messages.</p>

<p>In the example above, both <code>BrowserWindow</code> and <code>win</code> were remote objects and
<code>new BrowserWindow</code> didn&#39;t create a <code>BrowserWindow</code> object in the renderer
process. Instead, it created a <code>BrowserWindow</code> object in the main process and
returned the corresponding remote object in the renderer process, namely the
<code>win</code> object.</p>

<p>Please note that only <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Enumerability_and_ownership_of_properties">enumerable properties</a> are accessible via remote.</p>

<h2 id="lifetime-of-remote-objects">Lifetime of Remote Objects</h2>

<p>Electron makes sure that as long as the remote object in the renderer process
lives (in other words, has not been garbage collected), the corresponding object
in the main process will not be released. When the remote object has been
garbage collected, the corresponding object in the main process will be
dereferenced.</p>

<p>If the remote object is leaked in the renderer process (e.g. stored in a map but
never freed), the corresponding object in the main process will also be leaked,
so you should be very careful not to leak remote objects.</p>

<p>Primary value types like strings and numbers, however, are sent by copy.</p>

<h2 id="passing-callbacks-to-the-main-process">Passing callbacks to the main process</h2>

<p>Code in the main process can accept callbacks from the renderer - for instance
the <code>remote</code> module - but you should be extremely careful when using this
feature.</p>

<p>First, in order to avoid deadlocks, the callbacks passed to the main process
are called asynchronously. You should not expect the main process to
get the return value of the passed callbacks.</p>

<p>For instance you can&#39;t use a function from the renderer process in an
<code>Array.map</code> called in the main process:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// main process mapNumbers.js</span>
<span class="nx">exports</span><span class="p">.</span><span class="nx">withRendererCallback</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">mapper</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">].</span><span class="nx">map</span><span class="p">(</span><span class="nx">mapper</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">exports</span><span class="p">.</span><span class="nx">withLocalCallback</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">exports</span><span class="p">.</span><span class="nx">mapNumbers</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
  <span class="p">});</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// renderer process</span>
<span class="kd">var</span> <span class="nx">mapNumbers</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;remote&quot;</span><span class="p">).</span><span class="nx">require</span><span class="p">(</span><span class="s2">&quot;./mapNumbers&quot;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">withRendererCb</span> <span class="o">=</span> <span class="nx">mapNumbers</span><span class="p">.</span><span class="nx">withRendererCallback</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">})</span>

<span class="kd">var</span> <span class="nx">withLocalCb</span> <span class="o">=</span> <span class="nx">mapNumbers</span><span class="p">.</span><span class="nx">withLocalCallback</span><span class="p">()</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">withRendererCb</span><span class="p">,</span> <span class="nx">withLocalCb</span><span class="p">)</span> <span class="c1">// [true, true, true], [2, 3, 4]</span>
</code></pre></div>

<p>As you can see, the renderer callback&#39;s synchronous return value was not as
expected, and didn&#39;t match the return value of an identical callback that lives
in the main process.</p>

<p>Second, the callbacks passed to the main process will persist until the
main process garbage-collects them.</p>

<p>For example, the following code seems innocent at first glance. It installs a
callback for the <code>close</code> event on a remote object:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">remote</span><span class="p">.</span><span class="nx">getCurrentWindow</span><span class="p">().</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;close&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// blabla...</span>
<span class="p">});</span>
</code></pre></div>

<p>But remember the callback is referenced by the main process until you
explicitly uninstall it. If you do not, each time you reload your window the
callback will be installed again, leaking one callback for each restart.</p>

<p>To make things worse, since the context of previously installed callbacks has
been released, exceptions will be raised in the main process when the <code>close</code>
event is emitted.</p>

<p>To avoid this problem, ensure you clean up any references to renderer callbacks
passed to the main process. This involves cleaning up event handlers, or
ensuring the main process is explicitly told to deference callbacks that came
from a renderer process that is exiting.</p>

<h2 id="accessing-built-in-modules-in-the-main-process">Accessing built-in modules in the main process</h2>

<p>The built-in modules in the main process are added as getters in the <code>remote</code>
module, so you can use them directly like the <code>electron</code> module.</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="nx">app</span> <span class="o">=</span> <span class="nx">remote</span><span class="p">.</span><span class="nx">app</span><span class="p">;</span>
</code></pre></div>

<h2 id="methods">Methods</h2>

<p>The <code>remote</code> module has the following methods:</p>

<h3 id="remote.require(module)"><code>remote.require(module)</code></h3>

<ul>
<li><code>module</code> String</li>
</ul>

<p>Returns the object returned by <code>require(module)</code> in the main process.</p>

<h3 id="remote.getcurrentwindow()"><code>remote.getCurrentWindow()</code></h3>

<p>Returns the <a href="http://electron.atom.io/docs/v0.36.5/api/browser-window"><code>BrowserWindow</code></a> object to which this web page
belongs.</p>

<h3 id="remote.getcurrentwebcontents()"><code>remote.getCurrentWebContents()</code></h3>

<p>Returns the <a href="http://electron.atom.io/docs/v0.36.5/api/web-contents"><code>WebContents</code></a> object of this web page.</p>

<h3 id="remote.getglobal(name)"><code>remote.getGlobal(name)</code></h3>

<ul>
<li><code>name</code> String</li>
</ul>

<p>Returns the global variable of <code>name</code> (e.g. <code>global[name]</code>) in the main
process.</p>

<h3 id="remote.process"><code>remote.process</code></h3>

<p>Returns the <code>process</code> object in the main process. This is the same as
<code>remote.getGlobal(&#39;process&#39;)</code> but is cached.</p>

<h1 id="screen">screen</h1>

<p>The <code>screen</code> module retrieves information about screen size, displays, cursor
position, etc. You should not use this module until the <code>ready</code> event of the
<code>app</code> module is emitted.</p>

<p><code>screen</code> is an <a href="http://nodejs.org/api/events.html#events_class_events_eventemitter">EventEmitter</a>.</p>

<p><strong>Note:</strong> In the renderer / DevTools, <code>window.screen</code> is a reserved DOM
property, so writing <code>var screen = require(&#39;electron&#39;).screen</code> will not work.
In our examples below, we use <code>electronScreen</code> as the variable name instead.
An example of creating a window that fills the whole screen:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="nx">electron</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;electron&#39;</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">app</span> <span class="o">=</span> <span class="nx">electron</span><span class="p">.</span><span class="nx">app</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">BrowserWindow</span> <span class="o">=</span> <span class="nx">electron</span><span class="p">.</span><span class="nx">BrowserWindow</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">mainWindow</span><span class="p">;</span>

<span class="nx">app</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;ready&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">electronScreen</span> <span class="o">=</span> <span class="nx">electron</span><span class="p">.</span><span class="nx">screen</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">size</span> <span class="o">=</span> <span class="nx">electronScreen</span><span class="p">.</span><span class="nx">getPrimaryDisplay</span><span class="p">().</span><span class="nx">workAreaSize</span><span class="p">;</span>
  <span class="nx">mainWindow</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BrowserWindow</span><span class="p">({</span> <span class="nx">width</span><span class="o">:</span> <span class="nx">size</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span> <span class="nx">height</span><span class="o">:</span> <span class="nx">size</span><span class="p">.</span><span class="nx">height</span> <span class="p">});</span>
<span class="p">});</span>
</code></pre></div>

<p>Another example of creating a window in the external display:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="nx">electron</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;electron&#39;</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">app</span> <span class="o">=</span> <span class="nx">electron</span><span class="p">.</span><span class="nx">app</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">BrowserWindow</span> <span class="o">=</span> <span class="nx">electron</span><span class="p">.</span><span class="nx">BrowserWindow</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">mainWindow</span><span class="p">;</span>

<span class="nx">app</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;ready&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">electronScreen</span> <span class="o">=</span> <span class="nx">electron</span><span class="p">.</span><span class="nx">screen</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">displays</span> <span class="o">=</span> <span class="nx">electronScreen</span><span class="p">.</span><span class="nx">getAllDisplays</span><span class="p">();</span>
  <span class="kd">var</span> <span class="nx">externalDisplay</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="k">in</span> <span class="nx">displays</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">displays</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">bounds</span><span class="p">.</span><span class="nx">x</span> <span class="o">!=</span> <span class="mi">0</span> <span class="o">||</span> <span class="nx">displays</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">bounds</span><span class="p">.</span><span class="nx">y</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">externalDisplay</span> <span class="o">=</span> <span class="nx">displays</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">externalDisplay</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">mainWindow</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BrowserWindow</span><span class="p">({</span>
      <span class="nx">x</span><span class="o">:</span> <span class="nx">externalDisplay</span><span class="p">.</span><span class="nx">bounds</span><span class="p">.</span><span class="nx">x</span> <span class="o">+</span> <span class="mi">50</span><span class="p">,</span>
      <span class="nx">y</span><span class="o">:</span> <span class="nx">externalDisplay</span><span class="p">.</span><span class="nx">bounds</span><span class="p">.</span><span class="nx">y</span> <span class="o">+</span> <span class="mi">50</span>
    <span class="p">});</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div>

<h2 id="the-display-object">The <code>Display</code> object</h2>

<p>The <code>Display</code> object represents a physical display connected to the system. A
fake <code>Display</code> may exist on a headless system, or a <code>Display</code> may correspond to
a remote, virtual display.</p>

<ul>
<li><code>display</code> object

<ul>
<li><code>id</code> Integer - Unique identifier associated with the display.</li>
<li><code>rotation</code> Integer - Can be 0, 1, 2, 3, each represents screen rotation in
clock-wise degrees of 0, 90, 180, 270.</li>
<li><code>scaleFactor</code> Number - Output device&#39;s pixel scale factor.</li>
<li><code>touchSupport</code> String - Can be <code>available</code>, <code>unavailable</code>, <code>unknown</code>.</li>
<li><code>bounds</code> Object</li>
<li><code>size</code> Object</li>
<li><code>workArea</code> Object</li>
<li><code>workAreaSize</code> Object</li>
</ul></li>
</ul>

<h2 id="events">Events</h2>

<p>The <code>screen</code> module emits the following events:</p>

<h3 id="event:-&#39;display-added&#39;">Event: &#39;display-added&#39;</h3>

<p>Returns:</p>

<ul>
<li><code>event</code> Event</li>
<li><code>newDisplay</code> Object</li>
</ul>

<p>Emitted when <code>newDisplay</code> has been added.</p>

<h3 id="event:-&#39;display-removed&#39;">Event: &#39;display-removed&#39;</h3>

<p>Returns:</p>

<ul>
<li><code>event</code> Event</li>
<li><code>oldDisplay</code> Object</li>
</ul>

<p>Emitted when <code>oldDisplay</code> has been removed.</p>

<h3 id="event:-&#39;display-metrics-changed&#39;">Event: &#39;display-metrics-changed&#39;</h3>

<p>Returns:</p>

<ul>
<li><code>event</code> Event</li>
<li><code>display</code> Object</li>
<li><code>changedMetrics</code> Array</li>
</ul>

<p>Emitted when one or more metrics change in a <code>display</code>. The <code>changedMetrics</code> is
an array of strings that describe the changes. Possible changes are <code>bounds</code>,
<code>workArea</code>, <code>scaleFactor</code> and <code>rotation</code>.</p>

<h2 id="methods">Methods</h2>

<p>The <code>screen</code> module has the following methods:</p>

<h3 id="screen.getcursorscreenpoint()"><code>screen.getCursorScreenPoint()</code></h3>

<p>Returns the current absolute position of the mouse pointer.</p>

<h3 id="screen.getprimarydisplay()"><code>screen.getPrimaryDisplay()</code></h3>

<p>Returns the primary display.</p>

<h3 id="screen.getalldisplays()"><code>screen.getAllDisplays()</code></h3>

<p>Returns an array of displays that are currently available.</p>

<h3 id="screen.getdisplaynearestpoint(point)"><code>screen.getDisplayNearestPoint(point)</code></h3>

<ul>
<li><code>point</code> Object

<ul>
<li><code>x</code> Integer</li>
<li><code>y</code> Integer</li>
</ul></li>
</ul>

<p>Returns the display nearest the specified point.</p>

<h3 id="screen.getdisplaymatching(rect)"><code>screen.getDisplayMatching(rect)</code></h3>

<ul>
<li><code>rect</code> Object

<ul>
<li><code>x</code> Integer</li>
<li><code>y</code> Integer</li>
<li><code>width</code> Integer</li>
<li><code>height</code> Integer</li>
</ul></li>
</ul>

<p>Returns the display that most closely intersects the provided bounds.</p>

<h1 id="session">session</h1>

<p>The <code>session</code> module can be used to create new <code>Session</code> objects.</p>

<p>You can also access the <code>session</code> of existing pages by using the <code>session</code>
property of <a href="http://electron.atom.io/docs/v0.36.5/api/web-contents"><code>webContents</code></a> which is a property of
<a href="http://electron.atom.io/docs/v0.36.5/api/browser-window"><code>BrowserWindow</code></a>.</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="nx">BrowserWindow</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;electron&#39;</span><span class="p">).</span><span class="nx">BrowserWindow</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">win</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BrowserWindow</span><span class="p">({</span> <span class="nx">width</span><span class="o">:</span> <span class="mi">800</span><span class="p">,</span> <span class="nx">height</span><span class="o">:</span> <span class="mi">600</span> <span class="p">});</span>
<span class="nx">win</span><span class="p">.</span><span class="nx">loadURL</span><span class="p">(</span><span class="s2">&quot;http://github.com&quot;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">ses</span> <span class="o">=</span> <span class="nx">win</span><span class="p">.</span><span class="nx">webContents</span><span class="p">.</span><span class="nx">session</span><span class="p">;</span>
</code></pre></div>

<h2 id="methods">Methods</h2>

<p>The <code>session</code> module has the following methods:</p>

<h3 id="session.frompartition(partition)">session.fromPartition(partition)</h3>

<ul>
<li><code>partition</code> String</li>
</ul>

<p>Returns a new <code>Session</code> instance from <code>partition</code> string.</p>

<p>If <code>partition</code> starts with <code>persist:</code>, the page will use a persistent session
available to all pages in the app with the same <code>partition</code>. if there is no
<code>persist:</code> prefix, the page will use an in-memory session. If the <code>partition</code> is
empty then default session of the app will be returned.</p>

<h2 id="properties">Properties</h2>

<p>The <code>session</code> module has the following properties:</p>

<h3 id="session.defaultsession">session.defaultSession</h3>

<p>Returns the default session object of the app.</p>

<h2 id="class:-session">Class: Session</h2>

<p>You can create a <code>Session</code> object in the <code>session</code> module:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="nx">session</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;electron&#39;</span><span class="p">).</span><span class="nx">session</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">ses</span> <span class="o">=</span> <span class="nx">session</span><span class="p">.</span><span class="nx">fromPartition</span><span class="p">(</span><span class="s1">&#39;persist:name&#39;</span><span class="p">);</span>
</code></pre></div>

<h3 id="instance-events">Instance Events</h3>

<p>The following events are available on instances of <code>Session</code>:</p>

<h4 id="event:-&#39;will-download&#39;">Event: &#39;will-download&#39;</h4>

<ul>
<li><code>event</code> Event</li>
<li><code>item</code> <a href="http://electron.atom.io/docs/v0.36.5/api/download-item">DownloadItem</a></li>
<li><code>webContents</code> <a href="http://electron.atom.io/docs/v0.36.5/api/web-contents">WebContents</a></li>
</ul>

<p>Emitted when Electron is about to download <code>item</code> in <code>webContents</code>.</p>

<p>Calling <code>event.preventDefault()</code> will cancel the download.</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">session</span><span class="p">.</span><span class="nx">defaultSession</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;will-download&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">item</span><span class="p">,</span> <span class="nx">webContents</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">event</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
  <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;request&#39;</span><span class="p">)(</span><span class="nx">item</span><span class="p">.</span><span class="nx">getURL</span><span class="p">(),</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;fs&#39;</span><span class="p">).</span><span class="nx">writeFileSync</span><span class="p">(</span><span class="s1">&#39;/somewhere&#39;</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">});</span>
</code></pre></div>

<h3 id="instance-methods">Instance Methods</h3>

<p>The following methods are available on instances of <code>Session</code>:</p>

<h4 id="ses.cookies"><code>ses.cookies</code></h4>

<p>The <code>cookies</code> gives you ability to query and modify cookies. For example:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// Query all cookies.</span>
<span class="nx">session</span><span class="p">.</span><span class="nx">defaultSession</span><span class="p">.</span><span class="nx">cookies</span><span class="p">.</span><span class="nx">get</span><span class="p">({},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">cookies</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">cookies</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">// Query all cookies associated with a specific url.</span>
<span class="nx">session</span><span class="p">.</span><span class="nx">defaultSession</span><span class="p">.</span><span class="nx">cookies</span><span class="p">.</span><span class="nx">get</span><span class="p">({</span> <span class="nx">url</span> <span class="o">:</span> <span class="s2">&quot;http://www.github.com&quot;</span> <span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">cookies</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">cookies</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">// Set a cookie with the given cookie data;</span>
<span class="c1">// may overwrite equivalent cookies if they exist.</span>
<span class="kd">var</span> <span class="nx">cookie</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">url</span> <span class="o">:</span> <span class="s2">&quot;http://www.github.com&quot;</span><span class="p">,</span> <span class="nx">name</span> <span class="o">:</span> <span class="s2">&quot;dummy_name&quot;</span><span class="p">,</span> <span class="nx">value</span> <span class="o">:</span> <span class="s2">&quot;dummy&quot;</span> <span class="p">};</span>
<span class="nx">session</span><span class="p">.</span><span class="nx">defaultSession</span><span class="p">.</span><span class="nx">cookies</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">cookie</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>

<h4 id="ses.cookies.get(filter,-callback)"><code>ses.cookies.get(filter, callback)</code></h4>

<ul>
<li><code>filter</code> Object

<ul>
<li><code>url</code> String (optional) - Retrieves cookies which are associated with
<code>url</code>. Empty implies retrieving cookies of all urls.</li>
<li><code>name</code> String (optional) - Filters cookies by name.</li>
<li><code>domain</code> String (optional) - Retrieves cookies whose domains match or are
subdomains of <code>domains</code></li>
<li><code>path</code> String (optional) - Retrieves cookies whose path matches <code>path</code>.</li>
<li><code>secure</code> Boolean (optional) - Filters cookies by their Secure property.</li>
<li><code>session</code> Boolean (optional) - Filters out session or persistent cookies.</li>
</ul></li>
<li><code>callback</code> Function</li>
</ul>

<p>Sends a request to get all cookies matching <code>details</code>, <code>callback</code> will be called
with <code>callback(error, cookies)</code> on complete.</p>

<p><code>cookies</code> is an Array of <code>cookie</code> objects.</p>

<ul>
<li><code>cookie</code> Object

<ul>
<li> <code>name</code> String - The name of the cookie.</li>
<li> <code>value</code> String - The value of the cookie.</li>
<li> <code>domain</code> String - The domain of the cookie.</li>
<li> <code>hostOnly</code> String - Whether the cookie is a host-only cookie.</li>
<li> <code>path</code> String - The path of the cookie.</li>
<li> <code>secure</code> Boolean - Whether the cookie is marked as secure.</li>
<li> <code>httpOnly</code> Boolean - Whether the cookie is marked as HTTP only.</li>
<li> <code>session</code> Boolean - Whether the cookie is a session cookie or a persistent
cookie with an expiration date.</li>
<li> <code>expirationDate</code> Double (optional) - The expiration date of the cookie as
the number of seconds since the UNIX epoch. Not provided for session
cookies.</li>
</ul></li>
</ul>

<h4 id="ses.cookies.set(details,-callback)"><code>ses.cookies.set(details, callback)</code></h4>

<ul>
<li><code>details</code> Object

<ul>
<li><code>url</code> String - Retrieves cookies which are associated with <code>url</code></li>
<li><code>name</code> String - The name of the cookie. Empty by default if omitted.</li>
<li><code>value</code> String - The value of the cookie. Empty by default if omitted.</li>
<li><code>domain</code> String - The domain of the cookie. Empty by default if omitted.</li>
<li><code>path</code> String - The path of the cookie. Empty by default if omitted.</li>
<li><code>secure</code> Boolean - Whether the cookie should be marked as Secure. Defaults to
false.</li>
<li><code>session</code> Boolean - Whether the cookie should be marked as HttpOnly. Defaults
to false.</li>
<li><code>expirationDate</code> Double -   The expiration date of the cookie as the number of
seconds since the UNIX epoch. If omitted, the cookie becomes a session cookie.</li>
</ul></li>
<li><code>callback</code> Function</li>
</ul>

<p>Sets the cookie with <code>details</code>, <code>callback</code> will be called with <code>callback(error)</code>
on complete.</p>

<h4 id="ses.cookies.remove(url,-name,-callback)"><code>ses.cookies.remove(url, name, callback)</code></h4>

<ul>
<li><code>url</code> String - The URL associated with the cookie.</li>
<li><code>name</code> String - The name of cookie to remove.</li>
<li><code>callback</code> Function</li>
</ul>

<p>Removes the cookies matching <code>url</code> and <code>name</code>, <code>callback</code> will called with
<code>callback()</code> on complete.</p>

<h4 id="ses.getcachesize(callback)"><code>ses.getCacheSize(callback)</code></h4>

<ul>
<li><code>callback</code> Function

<ul>
<li><code>size</code> Integer - Cache size used in bytes.</li>
</ul></li>
</ul>

<p>Returns the session&#39;s current cache size.</p>

<h4 id="ses.clearcache(callback)"><code>ses.clearCache(callback)</code></h4>

<ul>
<li><code>callback</code> Function - Called when operation is done</li>
</ul>

<p>Clears the sessionâ€™s HTTP cache.</p>

<h4 id="ses.clearstoragedata([options,-]callback)"><code>ses.clearStorageData([options, ]callback)</code></h4>

<ul>
<li><code>options</code> Object (optional)

<ul>
<li><code>origin</code> String - Should follow <code>window.location.origin</code>â€™s representation
<code>scheme://host:port</code>.</li>
<li><code>storages</code> Array - The types of storages to clear, can contain:
<code>appcache</code>, <code>cookies</code>, <code>filesystem</code>, <code>indexdb</code>, <code>local storage</code>,
<code>shadercache</code>, <code>websql</code>, <code>serviceworkers</code></li>
<li><code>quotas</code> Array - The types of quotas to clear, can contain:
<code>temporary</code>, <code>persistent</code>, <code>syncable</code>.</li>
</ul></li>
<li><code>callback</code> Function - Called when operation is done.</li>
</ul>

<p>Clears the data of web storages.</p>

<h4 id="ses.flushstoragedata()"><code>ses.flushStorageData()</code></h4>

<p>Writes any unwritten DOMStorage data to disk.</p>

<h4 id="ses.setproxy(config,-callback)"><code>ses.setProxy(config, callback)</code></h4>

<ul>
<li><code>config</code> Object

<ul>
<li><code>pacScript</code> String - The URL associated with the PAC file.</li>
<li><code>proxyRules</code> String - Rules indicating which proxies to use.</li>
</ul></li>
<li><code>callback</code> Function - Called when operation is done.</li>
</ul>

<p>Sets the proxy settings.</p>

<p>When <code>pacScript</code> and <code>proxyRules</code> are provided together, the <code>proxyRules</code>
option is ignored and <code>pacScript</code> configuration is applied.</p>

<p>The <code>proxyRules</code> has to follow the rules bellow:</p>

<div class="highlight"><pre><code class="language-text" data-lang="text">proxyRules = schemeProxies[&quot;;&quot;&lt;schemeProxies&gt;]
schemeProxies = [&lt;urlScheme&gt;&quot;=&quot;]&lt;proxyURIList&gt;
urlScheme = &quot;http&quot; | &quot;https&quot; | &quot;ftp&quot; | &quot;socks&quot;
proxyURIList = &lt;proxyURL&gt;[&quot;,&quot;&lt;proxyURIList&gt;]
proxyURL = [&lt;proxyScheme&gt;&quot;://&quot;]&lt;proxyHost&gt;[&quot;:&quot;&lt;proxyPort&gt;]
</code></pre></div>

<p>For example:
* <code>http=foopy:80;ftp=foopy2</code> - Use HTTP proxy <code>foopy:80</code> for <code>http://</code> URLs, and
  HTTP proxy <code>foopy2:80</code> for <code>ftp://</code> URLs.
* <code>foopy:80</code> - Use HTTP proxy <code>foopy:80</code> for all URLs.
* <code>foopy:80,bar,direct://</code> - Use HTTP proxy <code>foopy:80</code> for all URLs, failing
  over to <code>bar</code> if <code>foopy:80</code> is unavailable, and after that using no proxy.
* <code>socks4://foopy</code> - Use SOCKS v4 proxy <code>foopy:1080</code> for all URLs.
* <code>http=foopy,socks5://bar.com</code> - Use HTTP proxy <code>foopy</code> for http URLs, and fail
  over to the SOCKS5 proxy <code>bar.com</code> if <code>foopy</code> is unavailable.
* <code>http=foopy,direct://</code> - Use HTTP proxy <code>foopy</code> for http URLs, and use no
  proxy if <code>foopy</code> is unavailable.
* <code>http=foopy;socks=foopy2</code> -  Use HTTP proxy <code>foopy</code> for http URLs, and use
  <code>socks4://foopy2</code> for all other URLs.</p>

<h3 id="ses.resolveproxy(url,-callback)"><code>ses.resolveProxy(url, callback)</code></h3>

<ul>
<li><code>url</code> URL</li>
<li><code>callback</code> Function</li>
</ul>

<p>Resolves the proxy information for <code>url</code>. The <code>callback</code> will be called with
<code>callback(proxy)</code> when the request is performed.</p>

<h4 id="ses.setdownloadpath(path)"><code>ses.setDownloadPath(path)</code></h4>

<ul>
<li><code>path</code> String - The download location</li>
</ul>

<p>Sets download saving directory. By default, the download directory will be the
<code>Downloads</code> under the respective app folder.</p>

<h4 id="ses.enablenetworkemulation(options)"><code>ses.enableNetworkEmulation(options)</code></h4>

<ul>
<li><code>options</code> Object

<ul>
<li><code>offline</code> Boolean - Whether to emulate network outage.</li>
<li><code>latency</code> Double - RTT in ms</li>
<li><code>downloadThroughput</code> Double - Download rate in Bps</li>
<li><code>uploadThroughput</code> Double - Upload rate in Bps</li>
</ul></li>
</ul>

<p>Emulates network with the given configuration for the <code>session</code>.</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// To emulate a GPRS connection with 50kbps throughput and 500 ms latency.</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">webContents</span><span class="p">.</span><span class="nx">session</span><span class="p">.</span><span class="nx">enableNetworkEmulation</span><span class="p">({</span>
    <span class="nx">latency</span><span class="o">:</span> <span class="mi">500</span><span class="p">,</span>
    <span class="nx">downloadThroughput</span><span class="o">:</span> <span class="mi">6400</span><span class="p">,</span>
    <span class="nx">uploadThroughput</span><span class="o">:</span> <span class="mi">6400</span>
<span class="p">});</span>

<span class="c1">// To emulate a network outage.</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">webContents</span><span class="p">.</span><span class="nx">session</span><span class="p">.</span><span class="nx">enableNetworkEmulation</span><span class="p">({</span><span class="nx">offline</span><span class="o">:</span> <span class="kc">true</span><span class="p">});</span>
</code></pre></div>

<h4 id="ses.disablenetworkemulation()"><code>ses.disableNetworkEmulation()</code></h4>

<p>Disables any network emulation already active for the <code>session</code>. Resets to
the original network configuration.</p>

<h4 id="ses.setcertificateverifyproc(proc)"><code>ses.setCertificateVerifyProc(proc)</code></h4>

<ul>
<li><code>proc</code> Function</li>
</ul>

<p>Sets the certificate verify proc for <code>session</code>, the <code>proc</code> will be called with
<code>proc(hostname, certificate, callback)</code> whenever a server certificate
verification is requested. Calling <code>callback(true)</code> accepts the certificate,
calling <code>callback(false)</code> rejects it.</p>

<p>Calling <code>setCertificateVerifyProc(null)</code> will revert back to default certificate
verify proc.</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">myWindow</span><span class="p">.</span><span class="nx">webContents</span><span class="p">.</span><span class="nx">session</span><span class="p">.</span><span class="nx">setCertificateVerifyProc</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">hostname</span><span class="p">,</span> <span class="nx">cert</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">hostname</span> <span class="o">==</span> <span class="s1">&#39;github.com&#39;</span><span class="p">)</span>
    <span class="nx">callback</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
  <span class="k">else</span>
    <span class="nx">callback</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>

<h4 id="ses.webrequest"><code>ses.webRequest</code></h4>

<p>The <code>webRequest</code> API set allows to intercept and modify contents of a request at
various stages of its lifetime.</p>

<p>Each API accepts an optional <code>filter</code> and a <code>listener</code>, the <code>listener</code> will be
called with <code>listener(details)</code> when the API&#39;s event has happened, the <code>details</code>
is an object that describes the request. Passing <code>null</code> as <code>listener</code> will
unsubscribe from the event.</p>

<p>The <code>filter</code> is an object that has an <code>urls</code> property, which is an Array of URL
patterns that will be used to filter out the requests that do not match the URL
patterns. If the <code>filter</code> is omitted then all requests will be matched.</p>

<p>For certain events the <code>listener</code> is passed with a <code>callback</code>, which should be
called with an <code>response</code> object when <code>listener</code> has done its work.</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// Modify the user agent for all requests to the following urls.</span>
<span class="kd">var</span> <span class="nx">filter</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">urls</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;https://*.github.com/*&quot;</span><span class="p">,</span> <span class="s2">&quot;*://electron.github.io&quot;</span><span class="p">]</span>
<span class="p">};</span>

<span class="nx">session</span><span class="p">.</span><span class="nx">defaultSession</span><span class="p">.</span><span class="nx">webRequest</span><span class="p">.</span><span class="nx">onBeforeSendHeaders</span><span class="p">(</span><span class="nx">filter</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">details</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">details</span><span class="p">.</span><span class="nx">requestHeaders</span><span class="p">[</span><span class="s1">&#39;User-Agent&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;MyAgent&quot;</span><span class="p">;</span>
  <span class="nx">callback</span><span class="p">({</span><span class="nx">cancel</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span> <span class="nx">requestHeaders</span><span class="o">:</span> <span class="nx">details</span><span class="p">.</span><span class="nx">requestHeaders</span><span class="p">});</span>
<span class="p">});</span>
</code></pre></div>

<h4 id="ses.webrequest.onbeforerequest([filter,-]listener)"><code>ses.webRequest.onBeforeRequest([filter, ]listener)</code></h4>

<ul>
<li><code>filter</code> Object</li>
<li><code>listener</code> Function</li>
</ul>

<p>The <code>listener</code> will be called with <code>listener(details, callback)</code> when a request
is about to occur.</p>

<ul>
<li><code>details</code> Object

<ul>
<li><code>id</code> Integer</li>
<li><code>url</code> String</li>
<li><code>method</code> String</li>
<li><code>resourceType</code> String</li>
<li><code>timestamp</code> Double</li>
</ul></li>
</ul>

<p>The <code>callback</code> has to be called with an <code>response</code> object:</p>

<ul>
<li><code>response</code> Object

<ul>
<li><code>cancel</code> Boolean (optional)</li>
<li><code>redirectURL</code> String (optional) - The original request is prevented from
being sent or completed, and is instead redirected to the given URL.</li>
</ul></li>
</ul>

<h4 id="ses.webrequest.onbeforesendheaders([filter,-]listener)"><code>ses.webRequest.onBeforeSendHeaders([filter, ]listener)</code></h4>

<ul>
<li><code>filter</code> Object</li>
<li><code>listener</code> Function</li>
</ul>

<p>The <code>listener</code> will be called with <code>listener(details, callback)</code> before sending
an HTTP request, once the request headers are available. This may occur after a
TCP connection is made to the server, but before any http data is sent.</p>

<ul>
<li><code>details</code> Object

<ul>
<li><code>id</code> Integer</li>
<li><code>url</code> String</li>
<li><code>method</code> String</li>
<li><code>resourceType</code> String</li>
<li><code>timestamp</code> Double</li>
<li><code>requestHeaders</code> Object</li>
</ul></li>
</ul>

<p>The <code>callback</code> has to be called with an <code>response</code> object:</p>

<ul>
<li><code>response</code> Object

<ul>
<li><code>cancel</code> Boolean (optional)</li>
<li><code>requestHeaders</code> Object (optional) - When provided, request will be made
with these headers.</li>
</ul></li>
</ul>

<h4 id="ses.webrequest.onsendheaders([filter,-]listener)"><code>ses.webRequest.onSendHeaders([filter, ]listener)</code></h4>

<ul>
<li><code>filter</code> Object</li>
<li><code>listener</code> Function</li>
</ul>

<p>The <code>listener</code> will be called with <code>listener(details)</code> just before a request is
going to be sent to the server, modifications of previous <code>onBeforeSendHeaders</code>
response are visible by the time this listener is fired.</p>

<ul>
<li><code>details</code> Object

<ul>
<li><code>id</code> Integer</li>
<li><code>url</code> String</li>
<li><code>method</code> String</li>
<li><code>resourceType</code> String</li>
<li><code>timestamp</code> Double</li>
<li><code>requestHeaders</code> Object</li>
</ul></li>
</ul>

<h4 id="ses.webrequest.onheadersreceived([filter,]-listener)"><code>ses.webRequest.onHeadersReceived([filter,] listener)</code></h4>

<ul>
<li><code>filter</code> Object</li>
<li><code>listener</code> Function</li>
</ul>

<p>The <code>listener</code> will be called with <code>listener(details, callback)</code> when HTTP
response headers of a request have been received.</p>

<ul>
<li><code>details</code> Object

<ul>
<li><code>id</code> String</li>
<li><code>url</code> String</li>
<li><code>method</code> String</li>
<li><code>resourceType</code> String</li>
<li><code>timestamp</code> Double</li>
<li><code>statusLine</code> String</li>
<li><code>statusCode</code> Integer</li>
<li><code>responseHeaders</code> Object</li>
</ul></li>
</ul>

<p>The <code>callback</code> has to be called with an <code>response</code> object:</p>

<ul>
<li><code>response</code> Object

<ul>
<li><code>cancel</code> Boolean</li>
<li><code>responseHeaders</code> Object (optional) - When provided, the server is assumed
to have responded with these headers.</li>
</ul></li>
</ul>

<h4 id="ses.webrequest.onresponsestarted([filter,-]listener)"><code>ses.webRequest.onResponseStarted([filter, ]listener)</code></h4>

<ul>
<li><code>filter</code> Object</li>
<li><code>listener</code> Function</li>
</ul>

<p>The <code>listener</code> will be called with <code>listener(details)</code> when first byte of the
response body is received. For HTTP requests, this means that the status line
and response headers are available.</p>

<ul>
<li><code>details</code> Object

<ul>
<li><code>id</code> Integer</li>
<li><code>url</code> String</li>
<li><code>method</code> String</li>
<li><code>resourceType</code> String</li>
<li><code>timestamp</code> Double</li>
<li><code>responseHeaders</code> Object</li>
<li><code>fromCache</code> Boolean  - Indicates whether the response was fetched from disk
cache.</li>
<li><code>statusCode</code> Integer</li>
<li><code>statusLine</code> String</li>
</ul></li>
</ul>

<h4 id="ses.webrequest.onbeforeredirect([filter,-]listener)"><code>ses.webRequest.onBeforeRedirect([filter, ]listener)</code></h4>

<ul>
<li><code>filter</code> Object</li>
<li><code>listener</code> Function</li>
</ul>

<p>The <code>listener</code> will be called with <code>listener(details)</code> when a server initiated
redirect is about to occur.</p>

<ul>
<li><code>details</code> Object

<ul>
<li><code>id</code> String</li>
<li><code>url</code> String</li>
<li><code>method</code> String</li>
<li><code>resourceType</code> String</li>
<li><code>timestamp</code> Double</li>
<li><code>redirectURL</code> String</li>
<li><code>statusCode</code> Integer</li>
<li><code>ip</code> String (optional) - The server IP address that the request was
actually sent to.</li>
<li><code>fromCache</code> Boolean</li>
<li><code>responseHeaders</code> Object</li>
</ul></li>
</ul>

<h4 id="ses.webrequest.oncompleted([filter,-]listener)"><code>ses.webRequest.onCompleted([filter, ]listener)</code></h4>

<ul>
<li><code>filter</code> Object</li>
<li><code>listener</code> Function</li>
</ul>

<p>The <code>listener</code> will be called with <code>listener(details)</code> when a request is
completed.</p>

<ul>
<li><code>details</code> Object

<ul>
<li><code>id</code> Integer</li>
<li><code>url</code> String</li>
<li><code>method</code> String</li>
<li><code>resourceType</code> String</li>
<li><code>timestamp</code> Double</li>
<li><code>responseHeaders</code> Object</li>
<li><code>fromCache</code> Boolean</li>
<li><code>statusCode</code> Integer</li>
<li><code>statusLine</code> String</li>
</ul></li>
</ul>

<h4 id="ses.webrequest.onerroroccurred([filter,-]listener)"><code>ses.webRequest.onErrorOccurred([filter, ]listener)</code></h4>

<ul>
<li><code>filter</code> Object</li>
<li><code>listener</code> Function</li>
</ul>

<p>The <code>listener</code> will be called with <code>listener(details)</code> when an error occurs.</p>

<ul>
<li><code>details</code> Object

<ul>
<li><code>id</code> Integer</li>
<li><code>url</code> String</li>
<li><code>method</code> String</li>
<li><code>resourceType</code> String</li>
<li><code>timestamp</code> Double</li>
<li><code>fromCache</code> Boolean</li>
<li><code>error</code> String - The error description.</li>
</ul></li>
</ul>

<h1 id="shell">shell</h1>

<p>The <code>shell</code> module provides functions related to desktop integration.</p>

<p>An example of opening a URL in the user&#39;s default browser:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="nx">shell</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;electron&#39;</span><span class="p">).</span><span class="nx">shell</span><span class="p">;</span>

<span class="nx">shell</span><span class="p">.</span><span class="nx">openExternal</span><span class="p">(</span><span class="s1">&#39;https://github.com&#39;</span><span class="p">);</span>
</code></pre></div>

<h2 id="methods">Methods</h2>

<p>The <code>shell</code> module has the following methods:</p>

<h3 id="shell.showiteminfolder(fullpath)"><code>shell.showItemInFolder(fullPath)</code></h3>

<ul>
<li><code>fullPath</code> String</li>
</ul>

<p>Show the given file in a file manager. If possible, select the file.</p>

<h3 id="shell.openitem(fullpath)"><code>shell.openItem(fullPath)</code></h3>

<ul>
<li><code>fullPath</code> String</li>
</ul>

<p>Open the given file in the desktop&#39;s default manner.</p>

<h3 id="shell.openexternal(url)"><code>shell.openExternal(url)</code></h3>

<ul>
<li><code>url</code> String</li>
</ul>

<p>Open the given external protocol URL in the desktop&#39;s default manner. (For
example, mailto: URLs in the user&#39;s default mail agent.)</p>

<h3 id="shell.moveitemtotrash(fullpath)"><code>shell.moveItemToTrash(fullPath)</code></h3>

<ul>
<li><code>fullPath</code> String</li>
</ul>

<p>Move the given file to trash and returns a boolean status for the operation.</p>

<h3 id="shell.beep()"><code>shell.beep()</code></h3>

<p>Play the beep sound.</p>

<h1 id="synopsis">Synopsis</h1>

<p>All of <a href="http://nodejs.org/api/">Node.js&#39;s built-in modules</a> are available in
Electron and third-party node modules also fully supported as well (including
the <a href="http://electron.atom.io/docs/v0.36.5/tutorial/using-native-node-modules">native modules</a>).</p>

<p>Electron also provides some extra built-in modules for developing native
desktop applications. Some modules are only available in the main process, some
are only available in the renderer process (web page), and some can be used in
both processes.</p>

<p>The basic rule is: if a module is <a href="https://en.wikipedia.org/wiki/Graphical_user_interface">GUI</a> or low-level system related, then
it should be only available in the main process. You need to be familiar with
the concept of <a href="http://electron.atom.io/docs/v0.36.5/tutorial/quick-start#the-main-process">main process vs. renderer process</a> scripts to be
able to use those modules.</p>

<p>The main process script is just like a normal Node.js script:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="nx">electron</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;electron&#39;</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">app</span> <span class="o">=</span> <span class="nx">electron</span><span class="p">.</span><span class="nx">app</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">BrowserWindow</span> <span class="o">=</span> <span class="nx">electron</span><span class="p">.</span><span class="nx">BrowserWindow</span><span class="p">;</span>

<span class="kd">var</span> <span class="nb">window</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>

<span class="nx">app</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;ready&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nb">window</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BrowserWindow</span><span class="p">({</span><span class="nx">width</span><span class="o">:</span> <span class="mi">800</span><span class="p">,</span> <span class="nx">height</span><span class="o">:</span> <span class="mi">600</span><span class="p">});</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">loadURL</span><span class="p">(</span><span class="s1">&#39;https://github.com&#39;</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>

<p>The renderer process is no different than a normal web page, except for the
extra ability to use node modules:</p>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;body&gt;</span>
<span class="nt">&lt;script&gt;</span>
  <span class="kr">const</span> <span class="nx">remote</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;electron&#39;</span><span class="p">).</span><span class="nx">remote</span><span class="p">;</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">remote</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">getVersion</span><span class="p">());</span>
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div>

<p>To run your app, read <a href="http://electron.atom.io/docs/v0.36.5/tutorial/quick-start#run-your-app">Run your app</a>.</p>

<h2 id="destructuring-assignment">Destructuring assignment</h2>

<p>If you are using CoffeeScript or Babel, you can also use
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment">destructuring assignment</a> to make it easier to use
built-in modules:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="p">{</span><span class="nx">app</span><span class="p">,</span> <span class="nx">BrowserWindow</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;electron&#39;</span><span class="p">)</span>
</code></pre></div>

<p>However if you are using plain JavaScript, you have to wait until Chrome fully
supports ES6.</p>

<h2 id="disable-old-styles-of-using-built-in-modules">Disable old styles of using built-in modules</h2>

<p>Before v0.35.0, all built-in modules have to be used in the form of
<code>require(&#39;module-name&#39;)</code>, though it has <a href="https://github.com/atom/electron/issues/387">many disadvantages</a>, we are
still supporting it for compatibility with old apps.</p>

<p>To disable the old styles completely, you can set the
<code>ELECTRON_HIDE_INTERNAL_MODULES</code> environment variable:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">ELECTRON_HIDE_INTERNAL_MODULES</span> <span class="o">=</span> <span class="s1">&#39;true&#39;</span>
</code></pre></div>

<p>Or call the <code>hideInternalModules</code> API:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;electron&#39;</span><span class="p">).</span><span class="nx">hideInternalModules</span><span class="p">()</span>
</code></pre></div>

<h1 id="tray">Tray</h1>

<p>A <code>Tray</code> represents an icon in an operating system&#39;s notification area, it is
usually attached with a context menu.</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="nx">electron</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;electron&#39;</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">app</span> <span class="o">=</span> <span class="nx">electron</span><span class="p">.</span><span class="nx">app</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">Menu</span> <span class="o">=</span> <span class="nx">electron</span><span class="p">.</span><span class="nx">Menu</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">Tray</span> <span class="o">=</span> <span class="nx">electron</span><span class="p">.</span><span class="nx">Tray</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">appIcon</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;ready&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
  <span class="nx">appIcon</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Tray</span><span class="p">(</span><span class="s1">&#39;/path/to/my/icon&#39;</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">contextMenu</span> <span class="o">=</span> <span class="nx">Menu</span><span class="p">.</span><span class="nx">buildFromTemplate</span><span class="p">([</span>
    <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;Item1&#39;</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;radio&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;Item2&#39;</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;radio&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;Item3&#39;</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;radio&#39;</span><span class="p">,</span> <span class="nx">checked</span><span class="o">:</span> <span class="kc">true</span> <span class="p">},</span>
    <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;Item4&#39;</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;radio&#39;</span> <span class="p">}</span>
  <span class="p">]);</span>
  <span class="nx">appIcon</span><span class="p">.</span><span class="nx">setToolTip</span><span class="p">(</span><span class="s1">&#39;This is my application.&#39;</span><span class="p">);</span>
  <span class="nx">appIcon</span><span class="p">.</span><span class="nx">setContextMenu</span><span class="p">(</span><span class="nx">contextMenu</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>

<p><strong>Platform limitations:</strong></p>

<ul>
<li>On Linux the app indicator will be used if it is supported, otherwise
<code>GtkStatusIcon</code> will be used instead.</li>
<li>On Linux distributions that only have app indicator support, you have to
install <code>libappindicator1</code> to make the tray icon work.</li>
<li>App indicator will only be shown when it has a context menu.</li>
<li>When app indicator is used on Linux, the <code>click</code> event is ignored.</li>
</ul>

<p>If you want to keep exact same behaviors on all platforms, you should not
rely on the <code>click</code> event and always attach a context menu to the tray icon.</p>

<h2 id="class:-tray">Class: Tray</h2>

<p><code>Tray</code> is an <a href="http://nodejs.org/api/events.html#events_class_events_eventemitter">EventEmitter</a>.</p>

<h3 id="new-tray(image)"><code>new Tray(image)</code></h3>

<ul>
<li><code>image</code> <a href="http://electron.atom.io/docs/v0.36.5/api/native-image">NativeImage</a></li>
</ul>

<p>Creates a new tray icon associated with the <code>image</code>.</p>

<h2 id="events">Events</h2>

<p>The <code>Tray</code> module emits the following events:</p>

<p><strong>Note:</strong> Some events are only available on specific operating systems and are
labeled as such.</p>

<h3 id="event:-&#39;click&#39;">Event: &#39;click&#39;</h3>

<ul>
<li><code>event</code> Event

<ul>
<li><code>altKey</code> Boolean</li>
<li><code>shiftKey</code> Boolean</li>
<li><code>ctrlKey</code> Boolean</li>
<li><code>metaKey</code> Boolean</li>
</ul></li>
<li><code>bounds</code> Object - the bounds of tray icon.

<ul>
<li><code>x</code> Integer</li>
<li><code>y</code> Integer</li>
<li><code>width</code> Integer</li>
<li><code>height</code> Integer</li>
</ul></li>
</ul>

<p>Emitted when the tray icon is clicked.</p>

<p><strong>Note:</strong> The <code>bounds</code> payload is only implemented on OS X and Windows.</p>

<h3 id="event:-&#39;right-click&#39;-os-x-windows">Event: &#39;right-click&#39; <em>OS X</em> <em>Windows</em></h3>

<ul>
<li><code>event</code> Event

<ul>
<li><code>altKey</code> Boolean</li>
<li><code>shiftKey</code> Boolean</li>
<li><code>ctrlKey</code> Boolean</li>
<li><code>metaKey</code> Boolean</li>
</ul></li>
<li><code>bounds</code> Object - the bounds of tray icon.

<ul>
<li><code>x</code> Integer</li>
<li><code>y</code> Integer</li>
<li><code>width</code> Integer</li>
<li><code>height</code> Integer</li>
</ul></li>
</ul>

<p>Emitted when the tray icon is right clicked.</p>

<h3 id="event:-&#39;double-click&#39;-os-x-windows">Event: &#39;double-click&#39; <em>OS X</em> <em>Windows</em></h3>

<ul>
<li><code>event</code> Event

<ul>
<li><code>altKey</code> Boolean</li>
<li><code>shiftKey</code> Boolean</li>
<li><code>ctrlKey</code> Boolean</li>
<li><code>metaKey</code> Boolean</li>
</ul></li>
<li><code>bounds</code> Object - the bounds of tray icon

<ul>
<li><code>x</code> Integer</li>
<li><code>y</code> Integer</li>
<li><code>width</code> Integer</li>
<li><code>height</code> Integer</li>
</ul></li>
</ul>

<p>Emitted when the tray icon is double clicked.</p>

<h3 id="event:-&#39;balloon-show&#39;-windows">Event: &#39;balloon-show&#39; <em>Windows</em></h3>

<p>Emitted when the tray balloon shows.</p>

<h3 id="event:-&#39;balloon-click&#39;-windows">Event: &#39;balloon-click&#39; <em>Windows</em></h3>

<p>Emitted when the tray balloon is clicked.</p>

<h3 id="event:-&#39;balloon-closed&#39;-windows">Event: &#39;balloon-closed&#39; <em>Windows</em></h3>

<p>Emitted when the tray balloon is closed because of timeout or user manually
closes it.</p>

<h3 id="event:-&#39;drop&#39;-os-x">Event: &#39;drop&#39; <em>OS X</em></h3>

<p>Emitted when any dragged items are dropped on the tray icon.</p>

<h3 id="event:-&#39;drop-files&#39;-os-x">Event: &#39;drop-files&#39; <em>OS X</em></h3>

<ul>
<li><code>event</code></li>
<li><code>files</code> Array - the file path of dropped files.</li>
</ul>

<p>Emitted when dragged files are dropped in the tray icon.</p>

<h3 id="event:-&#39;drag-enter&#39;-os-x">Event: &#39;drag-enter&#39; <em>OS X</em></h3>

<p>Emitted when a drag operation enters the tray icon.</p>

<h3 id="event:-&#39;drag-leave&#39;-os-x">Event: &#39;drag-leave&#39; <em>OS X</em></h3>

<p>Emitted when a drag operation exits the tray icon.</p>

<h3 id="event:-&#39;drag-end&#39;-os-x">Event: &#39;drag-end&#39; <em>OS X</em></h3>

<p>Emitted when a drag operation ends on the tray or ends at another location.</p>

<h2 id="methods">Methods</h2>

<p>The <code>Tray</code> module has the following methods:</p>

<p><strong>Note:</strong> Some methods are only available on specific operating systems and are
labeled as such.</p>

<h3 id="tray.destroy()"><code>Tray.destroy()</code></h3>

<p>Destroys the tray icon immediately.</p>

<h3 id="tray.setimage(image)"><code>Tray.setImage(image)</code></h3>

<ul>
<li><code>image</code> <a href="http://electron.atom.io/docs/v0.36.5/api/native-image">NativeImage</a></li>
</ul>

<p>Sets the <code>image</code> associated with this tray icon.</p>

<h3 id="tray.setpressedimage(image)-os-x"><code>Tray.setPressedImage(image)</code> <em>OS X</em></h3>

<ul>
<li><code>image</code> <a href="http://electron.atom.io/docs/v0.36.5/api/native-image">NativeImage</a></li>
</ul>

<p>Sets the <code>image</code> associated with this tray icon when pressed on OS X.</p>

<h3 id="tray.settooltip(tooltip)"><code>Tray.setToolTip(toolTip)</code></h3>

<ul>
<li><code>toolTip</code> String</li>
</ul>

<p>Sets the hover text for this tray icon.</p>

<h3 id="tray.settitle(title)-os-x"><code>Tray.setTitle(title)</code> <em>OS X</em></h3>

<ul>
<li><code>title</code> String</li>
</ul>

<p>Sets the title displayed aside of the tray icon in the status bar.</p>

<h3 id="tray.sethighlightmode(highlight)-os-x"><code>Tray.setHighlightMode(highlight)</code> <em>OS X</em></h3>

<ul>
<li><code>highlight</code> Boolean</li>
</ul>

<p>Sets whether the tray icon&#39;s background becomes highlighted (in blue)
when the tray icon is clicked. Defaults to true.</p>

<h3 id="tray.displayballoon(options)-windows"><code>Tray.displayBalloon(options)</code> <em>Windows</em></h3>

<ul>
<li><code>options</code> Object

<ul>
<li><code>icon</code> <a href="http://electron.atom.io/docs/v0.36.5/api/native-image">NativeImage</a></li>
<li><code>title</code> String</li>
<li><code>content</code> String</li>
</ul></li>
</ul>

<p>Displays a tray balloon.</p>

<h3 id="tray.popupcontextmenu([menu,-position])-os-x-windows"><code>Tray.popUpContextMenu([menu, position])</code> <em>OS X</em> <em>Windows</em></h3>

<ul>
<li><code>menu</code> Menu (optional)</li>
<li><code>position</code> Object (optional) - The pop up position.

<ul>
<li><code>x</code> Integer</li>
<li><code>y</code> Integer</li>
</ul></li>
</ul>

<p>Popups the context menu of tray icon. When <code>menu</code> is passed, the <code>menu</code> will
showed instead of the tray&#39;s context menu.</p>

<p>The <code>position</code> is only available on Windows, and it is (0, 0) by default.</p>

<h3 id="tray.setcontextmenu(menu)"><code>Tray.setContextMenu(menu)</code></h3>

<ul>
<li><code>menu</code> Menu</li>
</ul>

<p>Sets the context menu for this icon.</p>

<h1 id="webcontents">webContents</h1>

<p><code>webContents</code> is an
<a href="http://nodejs.org/api/events.html#events_class_events_eventemitter">EventEmitter</a>.</p>

<p>It is responsible for rendering and controlling a web page and is a property of
the <a href="http://electron.atom.io/docs/v0.36.5/api/browser-window"><code>BrowserWindow</code></a> object. An example of accessing the
<code>webContents</code> object:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="nx">BrowserWindow</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;electron&#39;</span><span class="p">).</span><span class="nx">BrowserWindow</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">win</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BrowserWindow</span><span class="p">({</span><span class="nx">width</span><span class="o">:</span> <span class="mi">800</span><span class="p">,</span> <span class="nx">height</span><span class="o">:</span> <span class="mi">1500</span><span class="p">});</span>
<span class="nx">win</span><span class="p">.</span><span class="nx">loadURL</span><span class="p">(</span><span class="s2">&quot;http://github.com&quot;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">webContents</span> <span class="o">=</span> <span class="nx">win</span><span class="p">.</span><span class="nx">webContents</span><span class="p">;</span>
</code></pre></div>

<h2 id="events">Events</h2>

<p>The <code>webContents</code> object emits the following events:</p>

<h3 id="event:-&#39;did-finish-load&#39;">Event: &#39;did-finish-load&#39;</h3>

<p>Emitted when the navigation is done, i.e. the spinner of the tab has stopped
spinning, and the <code>onload</code> event was dispatched.</p>

<h3 id="event:-&#39;did-fail-load&#39;">Event: &#39;did-fail-load&#39;</h3>

<p>Returns:</p>

<ul>
<li><code>event</code> Event</li>
<li><code>errorCode</code> Integer</li>
<li><code>errorDescription</code> String</li>
<li><code>validatedURL</code> String</li>
</ul>

<p>This event is like <code>did-finish-load</code> but emitted when the load failed or was
cancelled, e.g. <code>window.stop()</code> is invoked.
The full list of error codes and their meaning is available <a href="https://code.google.com/p/chromium/codesearch#chromium/src/net/base/net_error_list.h">here</a>.</p>

<h3 id="event:-&#39;did-frame-finish-load&#39;">Event: &#39;did-frame-finish-load&#39;</h3>

<p>Returns:</p>

<ul>
<li><code>event</code> Event</li>
<li><code>isMainFrame</code> Boolean</li>
</ul>

<p>Emitted when a frame has done navigation.</p>

<h3 id="event:-&#39;did-start-loading&#39;">Event: &#39;did-start-loading&#39;</h3>

<p>Corresponds to the points in time when the spinner of the tab started spinning.</p>

<h3 id="event:-&#39;did-stop-loading&#39;">Event: &#39;did-stop-loading&#39;</h3>

<p>Corresponds to the points in time when the spinner of the tab stopped spinning.</p>

<h3 id="event:-&#39;did-get-response-details&#39;">Event: &#39;did-get-response-details&#39;</h3>

<p>Returns:</p>

<ul>
<li><code>event</code> Event</li>
<li><code>status</code> Boolean</li>
<li><code>newURL</code> String</li>
<li><code>originalURL</code> String</li>
<li><code>httpResponseCode</code> Integer</li>
<li><code>requestMethod</code> String</li>
<li><code>referrer</code> String</li>
<li><code>headers</code> Object</li>
</ul>

<p>Emitted when details regarding a requested resource are available.
<code>status</code> indicates the socket connection to download the resource.</p>

<h3 id="event:-&#39;did-get-redirect-request&#39;">Event: &#39;did-get-redirect-request&#39;</h3>

<p>Returns:</p>

<ul>
<li><code>event</code> Event</li>
<li><code>oldURL</code> String</li>
<li><code>newURL</code> String</li>
<li><code>isMainFrame</code> Boolean</li>
<li><code>httpResponseCode</code> Integer</li>
<li><code>requestMethod</code> String</li>
<li><code>referrer</code> String</li>
<li><code>headers</code> Object</li>
</ul>

<p>Emitted when a redirect is received while requesting a resource.</p>

<h3 id="event:-&#39;dom-ready&#39;">Event: &#39;dom-ready&#39;</h3>

<p>Returns:</p>

<ul>
<li><code>event</code> Event</li>
</ul>

<p>Emitted when the document in the given frame is loaded.</p>

<h3 id="event:-&#39;page-favicon-updated&#39;">Event: &#39;page-favicon-updated&#39;</h3>

<p>Returns:</p>

<ul>
<li><code>event</code> Event</li>
<li><code>favicons</code> Array - Array of URLs</li>
</ul>

<p>Emitted when page receives favicon urls.</p>

<h3 id="event:-&#39;new-window&#39;">Event: &#39;new-window&#39;</h3>

<p>Returns:</p>

<ul>
<li><code>event</code> Event</li>
<li><code>url</code> String</li>
<li><code>frameName</code> String</li>
<li><code>disposition</code> String - Can be <code>default</code>, <code>foreground-tab</code>, <code>background-tab</code>,
<code>new-window</code> and <code>other</code>.</li>
<li><code>options</code> Object - The options which will be used for creating the new
<code>BrowserWindow</code>.</li>
</ul>

<p>Emitted when the page requests to open a new window for a <code>url</code>. It could be
requested by <code>window.open</code> or an external link like <code>&lt;a target=&#39;_blank&#39;&gt;</code>.</p>

<p>By default a new <code>BrowserWindow</code> will be created for the <code>url</code>.</p>

<p>Calling <code>event.preventDefault()</code> will prevent creating new windows.</p>

<h3 id="event:-&#39;will-navigate&#39;">Event: &#39;will-navigate&#39;</h3>

<p>Returns:</p>

<ul>
<li><code>event</code> Event</li>
<li><code>url</code> String</li>
</ul>

<p>Emitted when a user or the page wants to start navigation. It can happen when
the <code>window.location</code> object is changed or a user clicks a link in the page.</p>

<p>This event will not emit when the navigation is started programmatically with
APIs like <code>webContents.loadURL</code> and <code>webContents.back</code>.</p>

<p>It is also not emitted for in-page navigations, such as clicking anchor links
or updating the <code>window.location.hash</code>. Use <code>did-navigate-in-page</code> event for
this purpose.</p>

<p>Calling <code>event.preventDefault()</code> will prevent the navigation.</p>

<h3 id="event:-&#39;did-navigate&#39;">Event: &#39;did-navigate&#39;</h3>

<p>Returns:</p>

<ul>
<li><code>event</code> Event</li>
<li><code>url</code> String</li>
</ul>

<p>Emitted when a navigation is done.</p>

<p>This event is not emitted for in-page navigations, such as clicking anchor links
or updating the <code>window.location.hash</code>. Use <code>did-navigate-in-page</code> event for
this purpose.</p>

<h3 id="event:-&#39;did-navigate-in-page&#39;">Event: &#39;did-navigate-in-page&#39;</h3>

<p>Returns:</p>

<ul>
<li><code>event</code> Event</li>
<li><code>url</code> String</li>
</ul>

<p>Emitted when an in-page navigation happened.</p>

<p>When in-page navigation happens, the page URL changes but does not cause
navigation outside of the page. Examples of this occurring are when anchor links
are clicked or when the DOM <code>hashchange</code> event is triggered.</p>

<h3 id="event:-&#39;crashed&#39;">Event: &#39;crashed&#39;</h3>

<p>Emitted when the renderer process has crashed.</p>

<h3 id="event:-&#39;plugin-crashed&#39;">Event: &#39;plugin-crashed&#39;</h3>

<p>Returns:</p>

<ul>
<li><code>event</code> Event</li>
<li><code>name</code> String</li>
<li><code>version</code> String</li>
</ul>

<p>Emitted when a plugin process has crashed.</p>

<h3 id="event:-&#39;destroyed&#39;">Event: &#39;destroyed&#39;</h3>

<p>Emitted when <code>webContents</code> is destroyed.</p>

<h3 id="event:-&#39;devtools-opened&#39;">Event: &#39;devtools-opened&#39;</h3>

<p>Emitted when DevTools is opened.</p>

<h3 id="event:-&#39;devtools-closed&#39;">Event: &#39;devtools-closed&#39;</h3>

<p>Emitted when DevTools is closed.</p>

<h3 id="event:-&#39;devtools-focused&#39;">Event: &#39;devtools-focused&#39;</h3>

<p>Emitted when DevTools is focused / opened.</p>

<h3 id="event:-&#39;certificate-error&#39;">Event: &#39;certificate-error&#39;</h3>

<p>Returns:</p>

<ul>
<li><code>event</code> Event</li>
<li><code>url</code> URL</li>
<li><code>error</code> String - The error code</li>
<li><code>certificate</code> Object

<ul>
<li><code>data</code> Buffer - PEM encoded data</li>
<li><code>issuerName</code> String</li>
</ul></li>
<li><code>callback</code> Function</li>
</ul>

<p>Emitted when failed to verify the <code>certificate</code> for <code>url</code>.</p>

<p>The usage is the same with <a href="app.md#event-certificate-error">the <code>certificate-error</code> event of
<code>app</code></a>.</p>

<h3 id="event:-&#39;select-client-certificate&#39;">Event: &#39;select-client-certificate&#39;</h3>

<p>Returns:</p>

<ul>
<li><code>event</code> Event</li>
<li><code>url</code> URL</li>
<li><code>certificateList</code> [Objects]

<ul>
<li><code>data</code> Buffer - PEM encoded data</li>
<li><code>issuerName</code> String - Issuer&#39;s Common Name</li>
</ul></li>
<li><code>callback</code> Function</li>
</ul>

<p>Emitted when a client certificate is requested.</p>

<p>The usage is the same with <a href="app.md#event-select-client-certificate">the <code>select-client-certificate</code> event of
<code>app</code></a>.</p>

<h3 id="event:-&#39;login&#39;">Event: &#39;login&#39;</h3>

<p>Returns:</p>

<ul>
<li><code>event</code> Event</li>
<li><code>request</code> Object

<ul>
<li><code>method</code> String</li>
<li><code>url</code> URL</li>
<li><code>referrer</code> URL</li>
</ul></li>
<li><code>authInfo</code> Object

<ul>
<li><code>isProxy</code> Boolean</li>
<li><code>scheme</code> String</li>
<li><code>host</code> String</li>
<li><code>port</code> Integer</li>
<li><code>realm</code> String</li>
</ul></li>
<li><code>callback</code> Function</li>
</ul>

<p>Emitted when <code>webContents</code> wants to do basic auth.</p>

<p>The usage is the same with <a href="http://electron.atom.io/docs/v0.36.5/api/app#event-login">the <code>login</code> event of <code>app</code></a>.</p>

<h3 id="event:-&#39;found-in-page&#39;">Event: &#39;found-in-page&#39;</h3>

<p>Returns:</p>

<ul>
<li><code>event</code> Event</li>
<li><code>result</code> Object

<ul>
<li><code>requestId</code> Integer</li>
<li><code>finalUpdate</code> Boolean - Indicates if more responses are to follow.</li>
<li><code>matches</code> Integer (Optional) - Number of Matches.</li>
<li><code>selectionArea</code> Object (Optional) - Coordinates of first match region.</li>
</ul></li>
</ul>

<p>Emitted when a result is available for
<a href="http://electron.atom.io/docs/v0.36.5/api/web-contents#webcontentsfindinpage"><code>webContents.findInPage</code></a> request.</p>

<h3 id="event:-&#39;media-started-playing&#39;">Event: &#39;media-started-playing&#39;</h3>

<p>Emitted when media starts playing.</p>

<h3 id="event:-&#39;media-paused&#39;">Event: &#39;media-paused&#39;</h3>

<p>Emitted when media is paused or done playing.</p>

<h3 id="event:-&#39;did-change-theme-color&#39;">Event: &#39;did-change-theme-color&#39;</h3>

<p>Emitted when a page&#39;s theme color changes. This is usually due to encountering a meta tag:</p>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&#39;theme-color&#39;</span> <span class="na">content=</span><span class="s">&#39;#ff0000&#39;</span><span class="nt">&gt;</span>
</code></pre></div>

<h2 id="instance-methods">Instance Methods</h2>

<p>The <code>webContents</code> object has the following instance methods:</p>

<h3 id="webcontents.loadurl(url[,-options])"><code>webContents.loadURL(url[, options])</code></h3>

<ul>
<li><code>url</code> URL</li>
<li><code>options</code> Object (optional), properties:

<ul>
<li><code>httpReferrer</code> String - A HTTP Referrer url.</li>
<li><code>userAgent</code> String - A user agent originating the request.</li>
<li><code>extraHeaders</code> String - Extra headers separated by &quot;\n&quot;</li>
</ul></li>
</ul>

<p>Loads the <code>url</code> in the window, the <code>url</code> must contain the protocol prefix,
e.g. the <code>http://</code> or <code>file://</code>. If the load should bypass http cache then
use the <code>pragma</code> header to achieve it.</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;extraHeaders&quot;</span> <span class="o">:</span> <span class="s2">&quot;pragma: no-cache\n&quot;</span><span class="p">}</span>
<span class="nx">webContents</span><span class="p">.</span><span class="nx">loadURL</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">options</span><span class="p">)</span>
</code></pre></div>

<h3 id="webcontents.downloadurl(url)"><code>webContents.downloadURL(url)</code></h3>

<ul>
<li><code>url</code> URL</li>
</ul>

<p>Initiates a download of the resource at <code>url</code> without navigating. The
<code>will-download</code> event of <code>session</code> will be triggered.</p>

<h3 id="webcontents.geturl()"><code>webContents.getURL()</code></h3>

<p>Returns URL of the current web page.</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">win</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BrowserWindow</span><span class="p">({</span><span class="nx">width</span><span class="o">:</span> <span class="mi">800</span><span class="p">,</span> <span class="nx">height</span><span class="o">:</span> <span class="mi">600</span><span class="p">});</span>
<span class="nx">win</span><span class="p">.</span><span class="nx">loadURL</span><span class="p">(</span><span class="s2">&quot;http://github.com&quot;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">currentURL</span> <span class="o">=</span> <span class="nx">win</span><span class="p">.</span><span class="nx">webContents</span><span class="p">.</span><span class="nx">getURL</span><span class="p">();</span>
</code></pre></div>

<h3 id="webcontents.gettitle()"><code>webContents.getTitle()</code></h3>

<p>Returns the title of the current web page.</p>

<h3 id="webcontents.isloading()"><code>webContents.isLoading()</code></h3>

<p>Returns whether web page is still loading resources.</p>

<h3 id="webcontents.iswaitingforresponse()"><code>webContents.isWaitingForResponse()</code></h3>

<p>Returns whether the web page is waiting for a first-response from the main
resource of the page.</p>

<h3 id="webcontents.stop()"><code>webContents.stop()</code></h3>

<p>Stops any pending navigation.</p>

<h3 id="webcontents.reload()"><code>webContents.reload()</code></h3>

<p>Reloads the current web page.</p>

<h3 id="webcontents.reloadignoringcache()"><code>webContents.reloadIgnoringCache()</code></h3>

<p>Reloads current page and ignores cache.</p>

<h3 id="webcontents.cangoback()"><code>webContents.canGoBack()</code></h3>

<p>Returns whether the browser can go back to previous web page.</p>

<h3 id="webcontents.cangoforward()"><code>webContents.canGoForward()</code></h3>

<p>Returns whether the browser can go forward to next web page.</p>

<h3 id="webcontents.cangotooffset(offset)"><code>webContents.canGoToOffset(offset)</code></h3>

<ul>
<li><code>offset</code> Integer</li>
</ul>

<p>Returns whether the web page can go to <code>offset</code>.</p>

<h3 id="webcontents.clearhistory()"><code>webContents.clearHistory()</code></h3>

<p>Clears the navigation history.</p>

<h3 id="webcontents.goback()"><code>webContents.goBack()</code></h3>

<p>Makes the browser go back a web page.</p>

<h3 id="webcontents.goforward()"><code>webContents.goForward()</code></h3>

<p>Makes the browser go forward a web page.</p>

<h3 id="webcontents.gotoindex(index)"><code>webContents.goToIndex(index)</code></h3>

<ul>
<li><code>index</code> Integer</li>
</ul>

<p>Navigates browser to the specified absolute web page index.</p>

<h3 id="webcontents.gotooffset(offset)"><code>webContents.goToOffset(offset)</code></h3>

<ul>
<li><code>offset</code> Integer</li>
</ul>

<p>Navigates to the specified offset from the &quot;current entry&quot;.</p>

<h3 id="webcontents.iscrashed()"><code>webContents.isCrashed()</code></h3>

<p>Whether the renderer process has crashed.</p>

<h3 id="webcontents.setuseragent(useragent)"><code>webContents.setUserAgent(userAgent)</code></h3>

<ul>
<li><code>userAgent</code> String</li>
</ul>

<p>Overrides the user agent for this web page.</p>

<h3 id="webcontents.getuseragent()"><code>webContents.getUserAgent()</code></h3>

<p>Returns a <code>String</code> representing the user agent for this web page.</p>

<h3 id="webcontents.insertcss(css)"><code>webContents.insertCSS(css)</code></h3>

<ul>
<li><code>css</code> String</li>
</ul>

<p>Injects CSS into the current web page.</p>

<h3 id="webcontents.executejavascript(code[,-usergesture])"><code>webContents.executeJavaScript(code[, userGesture])</code></h3>

<ul>
<li><code>code</code> String</li>
<li><code>userGesture</code> Boolean (optional)</li>
</ul>

<p>Evaluates <code>code</code> in page.</p>

<p>In the browser window some HTML APIs like <code>requestFullScreen</code> can only be
invoked by a gesture from the user. Setting <code>userGesture</code> to <code>true</code> will remove
this limitation.</p>

<h3 id="webcontents.setaudiomuted(muted)"><code>webContents.setAudioMuted(muted)</code></h3>

<ul>
<li><code>muted</code> Boolean</li>
</ul>

<p>Mute the audio on the current web page.</p>

<h3 id="webcontents.isaudiomuted()"><code>webContents.isAudioMuted()</code></h3>

<p>Returns whether this page has been muted.</p>

<h3 id="webcontents.undo()"><code>webContents.undo()</code></h3>

<p>Executes the editing command <code>undo</code> in web page.</p>

<h3 id="webcontents.redo()"><code>webContents.redo()</code></h3>

<p>Executes the editing command <code>redo</code> in web page.</p>

<h3 id="webcontents.cut()"><code>webContents.cut()</code></h3>

<p>Executes the editing command <code>cut</code> in web page.</p>

<h3 id="webcontents.copy()"><code>webContents.copy()</code></h3>

<p>Executes the editing command <code>copy</code> in web page.</p>

<h3 id="webcontents.paste()"><code>webContents.paste()</code></h3>

<p>Executes the editing command <code>paste</code> in web page.</p>

<h3 id="webcontents.pasteandmatchstyle()"><code>webContents.pasteAndMatchStyle()</code></h3>

<p>Executes the editing command <code>pasteAndMatchStyle</code> in web page.</p>

<h3 id="webcontents.delete()"><code>webContents.delete()</code></h3>

<p>Executes the editing command <code>delete</code> in web page.</p>

<h3 id="webcontents.selectall()"><code>webContents.selectAll()</code></h3>

<p>Executes the editing command <code>selectAll</code> in web page.</p>

<h3 id="webcontents.unselect()"><code>webContents.unselect()</code></h3>

<p>Executes the editing command <code>unselect</code> in web page.</p>

<h3 id="webcontents.replace(text)"><code>webContents.replace(text)</code></h3>

<ul>
<li><code>text</code> String</li>
</ul>

<p>Executes the editing command <code>replace</code> in web page.</p>

<h3 id="webcontents.replacemisspelling(text)"><code>webContents.replaceMisspelling(text)</code></h3>

<ul>
<li><code>text</code> String</li>
</ul>

<p>Executes the editing command <code>replaceMisspelling</code> in web page.</p>

<h3 id="webcontents.inserttext(text)"><code>webContents.insertText(text)</code></h3>

<ul>
<li><code>text</code> String</li>
</ul>

<p>Inserts <code>text</code> to the focused element.</p>

<h3 id="webcontents.findinpage(text[,-options])"><code>webContents.findInPage(text[, options])</code></h3>

<ul>
<li><code>text</code> String - Content to be searched, must not be empty.</li>
<li><code>options</code> Object (Optional)

<ul>
<li><code>forward</code> Boolean - Whether to search forward or backward, defaults to <code>true</code>.</li>
<li><code>findNext</code> Boolean - Whether the operation is first request or a follow up,
defaults to <code>false</code>.</li>
<li><code>matchCase</code> Boolean - Whether search should be case-sensitive,
defaults to <code>false</code>.</li>
<li><code>wordStart</code> Boolean - Whether to look only at the start of words.
defaults to <code>false</code>.</li>
<li><code>medialCapitalAsWordStart</code> Boolean - When combined with <code>wordStart</code>,
accepts a match in the middle of a word if the match begins with an
uppercase letter followed by a lowercase or non-letter.
Accepts several other intra-word matches, defaults to <code>false</code>.</li>
</ul></li>
</ul>

<p>Starts a request to find all matches for the <code>text</code> in the web page and returns an <code>Integer</code>
representing the request id used for the request. The result of the request can be
obtained by subscribing to <a href="http://electron.atom.io/docs/v0.36.5/api/web-contents#event-found-in-page"><code>found-in-page</code></a> event.</p>

<h3 id="webcontents.stopfindinpage(action)"><code>webContents.stopFindInPage(action)</code></h3>

<ul>
<li><code>action</code> String - Specifies the action to take place when ending
<a href="http://electron.atom.io/docs/v0.36.5/api/web-contents#webcontentfindinpage"><code>webContents.findInPage</code></a> request.

<ul>
<li><code>clearSelection</code> - Translate the selection into a normal selection.</li>
<li><code>keepSelection</code> - Clear the selection.</li>
<li><code>activateSelection</code> - Focus and click the selection node.</li>
</ul></li>
</ul>

<p>Stops any <code>findInPage</code> request for the <code>webContents</code> with the provided <code>action</code>.</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">webContents</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;found-in-page&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">finalUpdate</span><span class="p">)</span>
    <span class="nx">webContents</span><span class="p">.</span><span class="nx">stopFindInPage</span><span class="p">(</span><span class="s2">&quot;clearSelection&quot;</span><span class="p">);</span>
<span class="p">});</span>

<span class="kr">const</span> <span class="nx">requestId</span> <span class="o">=</span> <span class="nx">webContents</span><span class="p">.</span><span class="nx">findInPage</span><span class="p">(</span><span class="s2">&quot;api&quot;</span><span class="p">);</span>
</code></pre></div>

<h3 id="webcontents.hasserviceworker(callback)"><code>webContents.hasServiceWorker(callback)</code></h3>

<ul>
<li><code>callback</code> Function</li>
</ul>

<p>Checks if any ServiceWorker is registered and returns a boolean as
response to <code>callback</code>.</p>

<h3 id="webcontents.unregisterserviceworker(callback)"><code>webContents.unregisterServiceWorker(callback)</code></h3>

<ul>
<li><code>callback</code> Function</li>
</ul>

<p>Unregisters any ServiceWorker if present and returns a boolean as
response to <code>callback</code> when the JS promise is fulfilled or false
when the JS promise is rejected.</p>

<h3 id="webcontents.print([options])"><code>webContents.print([options])</code></h3>

<p><code>options</code> Object (optional), properties:</p>

<ul>
<li><code>silent</code> Boolean - Don&#39;t ask user for print settings, defaults to <code>false</code></li>
<li><code>printBackground</code> Boolean - Also prints the background color and image of
the web page, defaults to <code>false</code>.</li>
</ul>

<p>Prints window&#39;s web page. When <code>silent</code> is set to <code>false</code>, Electron will pick
up system&#39;s default printer and default settings for printing.</p>

<p>Calling <code>window.print()</code> in web page is equivalent to calling
<code>webContents.print({silent: false, printBackground: false})</code>.</p>

<p><strong>Note:</strong> On Windows, the print API relies on <code>pdf.dll</code>. If your application
doesn&#39;t need the print feature, you can safely remove <code>pdf.dll</code> to reduce binary
size.</p>

<h3 id="webcontents.printtopdf(options,-callback)"><code>webContents.printToPDF(options, callback)</code></h3>

<p><code>options</code> Object, properties:</p>

<ul>
<li><code>marginsType</code> Integer - Specify the type of margins to use

<ul>
<li>0 - default</li>
<li>1 - none</li>
<li>2 - minimum</li>
</ul></li>
<li><code>pageSize</code> String - Specify page size of the generated PDF.

<ul>
<li><code>A5</code></li>
<li><code>A4</code></li>
<li><code>A3</code></li>
<li><code>Legal</code></li>
<li><code>Letter</code></li>
<li><code>Tabloid</code></li>
</ul></li>
<li><code>printBackground</code> Boolean - Whether to print CSS backgrounds.</li>
<li><code>printSelectionOnly</code> Boolean - Whether to print selection only.</li>
<li><code>landscape</code> Boolean - <code>true</code> for landscape, <code>false</code> for portrait.</li>
</ul>

<p><code>callback</code> Function - <code>function(error, data) {}</code></p>

<ul>
<li><code>error</code> Error</li>
<li><code>data</code> Buffer - PDF file content.</li>
</ul>

<p>Prints window&#39;s web page as PDF with Chromium&#39;s preview printing custom
settings.</p>

<p>By default, an empty <code>options</code> will be regarded as:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="p">{</span>
  <span class="nx">marginsType</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="nx">printBackground</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="nx">printSelectionOnly</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="nx">landscape</span><span class="o">:</span> <span class="kc">false</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="nx">BrowserWindow</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;electron&#39;</span><span class="p">).</span><span class="nx">BrowserWindow</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;fs&#39;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">win</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BrowserWindow</span><span class="p">({</span><span class="nx">width</span><span class="o">:</span> <span class="mi">800</span><span class="p">,</span> <span class="nx">height</span><span class="o">:</span> <span class="mi">600</span><span class="p">});</span>
<span class="nx">win</span><span class="p">.</span><span class="nx">loadURL</span><span class="p">(</span><span class="s2">&quot;http://github.com&quot;</span><span class="p">);</span>

<span class="nx">win</span><span class="p">.</span><span class="nx">webContents</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&quot;did-finish-load&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// Use default printing options</span>
  <span class="nx">win</span><span class="p">.</span><span class="nx">webContents</span><span class="p">.</span><span class="nx">printToPDF</span><span class="p">({},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="k">throw</span> <span class="nx">error</span><span class="p">;</span>
    <span class="nx">fs</span><span class="p">.</span><span class="nx">writeFile</span><span class="p">(</span><span class="s2">&quot;/tmp/print.pdf&quot;</span><span class="p">,</span> <span class="nx">data</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span>
        <span class="k">throw</span> <span class="nx">error</span><span class="p">;</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Write PDF successfully.&quot;</span><span class="p">);</span>
    <span class="p">})</span>
  <span class="p">})</span>
<span class="p">});</span>
</code></pre></div>

<h3 id="webcontents.addworkspace(path)"><code>webContents.addWorkSpace(path)</code></h3>

<ul>
<li><code>path</code> String</li>
</ul>

<p>Adds the specified path to DevTools workspace. Must be used after DevTools
creation:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">mainWindow</span><span class="p">.</span><span class="nx">webContents</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;devtools-opened&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">mainWindow</span><span class="p">.</span><span class="nx">webContents</span><span class="p">.</span><span class="nx">addWorkSpace</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>

<h3 id="webcontents.removeworkspace(path)"><code>webContents.removeWorkSpace(path)</code></h3>

<ul>
<li><code>path</code> String</li>
</ul>

<p>Removes the specified path from DevTools workspace.</p>

<h3 id="webcontents.opendevtools([options])"><code>webContents.openDevTools([options])</code></h3>

<ul>
<li><code>options</code> Object (optional). Properties:

<ul>
<li><code>detach</code> Boolean - opens DevTools in a new window</li>
</ul></li>
</ul>

<p>Opens the devtools.</p>

<h3 id="webcontents.closedevtools()"><code>webContents.closeDevTools()</code></h3>

<p>Closes the devtools.</p>

<h3 id="webcontents.isdevtoolsopened()"><code>webContents.isDevToolsOpened()</code></h3>

<p>Returns whether the devtools is opened.</p>

<h3 id="webcontents.isdevtoolsfocused()"><code>webContents.isDevToolsFocused()</code></h3>

<p>Returns whether the devtools view is focused .</p>

<h3 id="webcontents.toggledevtools()"><code>webContents.toggleDevTools()</code></h3>

<p>Toggles the developer tools.</p>

<h3 id="webcontents.isdevtoolsfocused()"><code>webContents.isDevToolsFocused()</code></h3>

<p>Returns whether the developer tools is focused.</p>

<h3 id="webcontents.inspectelement(x,-y)"><code>webContents.inspectElement(x, y)</code></h3>

<ul>
<li><code>x</code> Integer</li>
<li><code>y</code> Integer</li>
</ul>

<p>Starts inspecting element at position (<code>x</code>, <code>y</code>).</p>

<h3 id="webcontents.inspectserviceworker()"><code>webContents.inspectServiceWorker()</code></h3>

<p>Opens the developer tools for the service worker context.</p>

<h3 id="webcontents.send(channel[,-arg1][,-arg2][,-...])"><code>webContents.send(channel[, arg1][, arg2][, ...])</code></h3>

<ul>
<li><code>channel</code> String</li>
<li><code>arg</code> (optional)</li>
</ul>

<p>Send an asynchronous message to renderer process via <code>channel</code>, you can also
send arbitrary arguments. The renderer process can handle the message by
listening to the <code>channel</code> event with the <code>ipcRenderer</code> module.</p>

<p>An example of sending messages from the main process to the renderer process:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// In the main process.</span>
<span class="kd">var</span> <span class="nb">window</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;ready&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nb">window</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BrowserWindow</span><span class="p">({</span><span class="nx">width</span><span class="o">:</span> <span class="mi">800</span><span class="p">,</span> <span class="nx">height</span><span class="o">:</span> <span class="mi">600</span><span class="p">});</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">loadURL</span><span class="p">(</span><span class="s1">&#39;file://&#39;</span> <span class="o">+</span> <span class="nx">__dirname</span> <span class="o">+</span> <span class="s1">&#39;/index.html&#39;</span><span class="p">);</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">webContents</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;did-finish-load&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nb">window</span><span class="p">.</span><span class="nx">webContents</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">&#39;ping&#39;</span><span class="p">,</span> <span class="s1">&#39;whoooooooh!&#39;</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre><code class="language-html" data-lang="html"><span class="c">&lt;!-- index.html --&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;body&gt;</span>
  <span class="nt">&lt;script&gt;</span>
    <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;electron&#39;</span><span class="p">).</span><span class="nx">ipcRenderer</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;ping&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">message</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">message</span><span class="p">);</span>  <span class="c1">// Prints &quot;whoooooooh!&quot;</span>
    <span class="p">});</span>
  <span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div>

<h3 id="webcontents.enabledeviceemulation(parameters)"><code>webContents.enableDeviceEmulation(parameters)</code></h3>

<p><code>parameters</code> Object, properties:</p>

<ul>
<li><code>screenPosition</code> String - Specify the screen type to emulate
(default: <code>desktop</code>)

<ul>
<li><code>desktop</code></li>
<li><code>mobile</code></li>
</ul></li>
<li><code>screenSize</code> Object - Set the emulated screen size (screenPosition == mobile)

<ul>
<li><code>width</code> Integer - Set the emulated screen width</li>
<li><code>height</code> Integer - Set the emulated screen height</li>
</ul></li>
<li><code>viewPosition</code> Object - Position the view on the screen
(screenPosition == mobile) (default: <code>{x: 0, y: 0}</code>)

<ul>
<li><code>x</code> Integer - Set the x axis offset from top left corner</li>
<li><code>y</code> Integer - Set the y axis offset from top left corner</li>
</ul></li>
<li><code>deviceScaleFactor</code> Integer - Set the device scale factor (if zero defaults to
original device scale factor) (default: <code>0</code>)</li>
<li><code>viewSize</code> Object - Set the emulated view size (empty means no override)

<ul>
<li><code>width</code> Integer - Set the emulated view width</li>
<li><code>height</code> Integer - Set the emulated view height</li>
</ul></li>
<li><code>fitToView</code> Boolean - Whether emulated view should be scaled down if
necessary to fit into available space (default: <code>false</code>)</li>
<li><code>offset</code> Object - Offset of the emulated view inside available space (not in
fit to view mode) (default: <code>{x: 0, y: 0}</code>)

<ul>
<li><code>x</code> Float - Set the x axis offset from top left corner</li>
<li><code>y</code> Float - Set the y axis offset from top left corner</li>
</ul></li>
<li><code>scale</code> Float - Scale of emulated view inside available space (not in fit to
view mode) (default: <code>1</code>)</li>
</ul>

<p>Enable device emulation with the given parameters.</p>

<h3 id="webcontents.disabledeviceemulation()"><code>webContents.disableDeviceEmulation()</code></h3>

<p>Disable device emulation enabled by <code>webContents.enableDeviceEmulation</code>.</p>

<h3 id="webcontents.sendinputevent(event)"><code>webContents.sendInputEvent(event)</code></h3>

<ul>
<li><code>event</code> Object

<ul>
<li><code>type</code> String (<strong>required</strong>) - The type of the event, can be <code>mouseDown</code>,
<code>mouseUp</code>, <code>mouseEnter</code>, <code>mouseLeave</code>, <code>contextMenu</code>, <code>mouseWheel</code>,
<code>mouseMove</code>, <code>keyDown</code>, <code>keyUp</code>, <code>char</code>.</li>
<li><code>modifiers</code> Array - An array of modifiers of the event, can
include <code>shift</code>, <code>control</code>, <code>alt</code>, <code>meta</code>, <code>isKeypad</code>, <code>isAutoRepeat</code>,
<code>leftButtonDown</code>, <code>middleButtonDown</code>, <code>rightButtonDown</code>, <code>capsLock</code>,
<code>numLock</code>, <code>left</code>, <code>right</code>.</li>
</ul></li>
</ul>

<p>Sends an input <code>event</code> to the page.</p>

<p>For keyboard events, the <code>event</code> object also have following properties:</p>

<ul>
<li><code>keyCode</code> Char or String (<strong>required</strong>) - The character that will be sent
as the keyboard event. Can be a single UTF-8 character, or the name of the
key that generates the event. Accepted key names are <code>enter</code>, <code>backspace</code>,
<code>delete</code>, <code>tab</code>, <code>escape</code>, <code>control</code>, <code>alt</code>, <code>shift</code>, <code>end</code>, <code>home</code>, <code>insert</code>,
<code>left</code>, <code>up</code>, <code>right</code>, <code>down</code>, <code>pageUp</code>, <code>pageDown</code>, <code>printScreen</code></li>
</ul>

<p>For mouse events, the <code>event</code> object also have following properties:</p>

<ul>
<li><code>x</code> Integer (<strong>required</strong>)</li>
<li><code>y</code> Integer (<strong>required</strong>)</li>
<li><code>button</code> String - The button pressed, can be <code>left</code>, <code>middle</code>, <code>right</code></li>
<li><code>globalX</code> Integer</li>
<li><code>globalY</code> Integer</li>
<li><code>movementX</code> Integer</li>
<li><code>movementY</code> Integer</li>
<li><code>clickCount</code> Integer</li>
</ul>

<p>For the <code>mouseWheel</code> event, the <code>event</code> object also have following properties:</p>

<ul>
<li><code>deltaX</code> Integer</li>
<li><code>deltaY</code> Integer</li>
<li><code>wheelTicksX</code> Integer</li>
<li><code>wheelTicksY</code> Integer</li>
<li><code>accelerationRatioX</code> Integer</li>
<li><code>accelerationRatioY</code> Integer</li>
<li><code>hasPreciseScrollingDeltas</code> Boolean</li>
<li><code>canScroll</code> Boolean</li>
</ul>

<h3 id="webcontents.beginframesubscription(callback)"><code>webContents.beginFrameSubscription(callback)</code></h3>

<ul>
<li><code>callback</code> Function</li>
</ul>

<p>Begin subscribing for presentation events and captured frames, the <code>callback</code>
will be called with <code>callback(frameBuffer)</code> when there is a presentation event.</p>

<p>The <code>frameBuffer</code> is a <code>Buffer</code> that contains raw pixel data. On most machines,
the pixel data is effectively stored in 32bit BGRA format, but the actual
representation depends on the endianness of the processor (most modern
processors are little-endian, on machines with big-endian processors the data
is in 32bit ARGB format).</p>

<h3 id="webcontents.endframesubscription()"><code>webContents.endFrameSubscription()</code></h3>

<p>End subscribing for frame presentation events.</p>

<h3 id="webcontents.savepage(fullpath,-savetype,-callback)"><code>webContents.savePage(fullPath, saveType, callback)</code></h3>

<ul>
<li><code>fullPath</code> String - The full file path.</li>
<li><code>saveType</code> String - Specify the save type.

<ul>
<li><code>HTMLOnly</code> - Save only the HTML of the page.</li>
<li><code>HTMLComplete</code> - Save complete-html page.</li>
<li><code>MHTML</code> - Save complete-html page as MHTML.</li>
</ul></li>
<li><code>callback</code> Function - <code>function(error) {}</code>.

<ul>
<li><code>error</code> Error</li>
</ul></li>
</ul>

<p>Returns true if the process of saving page has been initiated successfully.</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">win</span><span class="p">.</span><span class="nx">loadURL</span><span class="p">(</span><span class="s1">&#39;https://github.com&#39;</span><span class="p">);</span>

<span class="nx">win</span><span class="p">.</span><span class="nx">webContents</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;did-finish-load&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">win</span><span class="p">.</span><span class="nx">webContents</span><span class="p">.</span><span class="nx">savePage</span><span class="p">(</span><span class="s1">&#39;/tmp/test.html&#39;</span><span class="p">,</span> <span class="s1">&#39;HTMLComplete&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">error</span><span class="p">)</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Save page successfully&quot;</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">});</span>
</code></pre></div>

<h2 id="instance-properties">Instance Properties</h2>

<p><code>WebContents</code> objects also have the following properties:</p>

<h3 id="webcontents.session"><code>webContents.session</code></h3>

<p>Returns the <a href="http://electron.atom.io/docs/v0.36.5/api/session">session</a> object used by this webContents.</p>

<h3 id="webcontents.devtoolswebcontents"><code>webContents.devToolsWebContents</code></h3>

<p>Get the <code>WebContents</code> of DevTools for this <code>WebContents</code>.</p>

<p><strong>Note:</strong> Users should never store this object because it may become <code>null</code>
when the DevTools has been closed.</p>

<h1 id="webframe">webFrame</h1>

<p>The <code>web-frame</code> module allows you to customize the rendering of the current
web page.</p>

<p>An example of zooming current page to 200%.</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">webFrame</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;electron&#39;</span><span class="p">).</span><span class="nx">webFrame</span><span class="p">;</span>

<span class="nx">webFrame</span><span class="p">.</span><span class="nx">setZoomFactor</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
</code></pre></div>

<h2 id="methods">Methods</h2>

<p>The <code>web-frame</code> module has the following methods:</p>

<h3 id="webframe.setzoomfactor(factor)"><code>webFrame.setZoomFactor(factor)</code></h3>

<ul>
<li><code>factor</code> Number - Zoom factor.</li>
</ul>

<p>Changes the zoom factor to the specified factor. Zoom factor is
zoom percent divided by 100, so 300% = 3.0.</p>

<h3 id="webframe.getzoomfactor()"><code>webFrame.getZoomFactor()</code></h3>

<p>Returns the current zoom factor.</p>

<h3 id="webframe.setzoomlevel(level)"><code>webFrame.setZoomLevel(level)</code></h3>

<ul>
<li><code>level</code> Number - Zoom level</li>
</ul>

<p>Changes the zoom level to the specified level. The original size is 0 and each
increment above or below represents zooming 20% larger or smaller to default
limits of 300% and 50% of original size, respectively.</p>

<h3 id="webframe.getzoomlevel()"><code>webFrame.getZoomLevel()</code></h3>

<p>Returns the current zoom level.</p>

<h3 id="webframe.setzoomlevellimits(minimumlevel,-maximumlevel)"><code>webFrame.setZoomLevelLimits(minimumLevel, maximumLevel)</code></h3>

<ul>
<li><code>minimumLevel</code> Number</li>
<li><code>maximumLevel</code> Number</li>
</ul>

<p>Sets the maximum and minimum zoom level.</p>

<h3 id="webframe.setspellcheckprovider(language,-autocorrectword,-provider)"><code>webFrame.setSpellCheckProvider(language, autoCorrectWord, provider)</code></h3>

<ul>
<li><code>language</code> String</li>
<li><code>autoCorrectWord</code> Boolean</li>
<li><code>provider</code> Object</li>
</ul>

<p>Sets a provider for spell checking in input fields and text areas.</p>

<p>The <code>provider</code> must be an object that has a <code>spellCheck</code> method that returns
whether the word passed is correctly spelled.</p>

<p>An example of using <a href="https://github.com/atom/node-spellchecker">node-spellchecker</a> as provider:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">webFrame</span><span class="p">.</span><span class="nx">setSpellCheckProvider</span><span class="p">(</span><span class="s2">&quot;en-US&quot;</span><span class="p">,</span> <span class="kc">true</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">spellCheck</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">text</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="o">!</span><span class="p">(</span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;spellchecker&#39;</span><span class="p">).</span><span class="nx">isMisspelled</span><span class="p">(</span><span class="nx">text</span><span class="p">));</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div>

<h3 id="webframe.registerurlschemeassecure(scheme)"><code>webFrame.registerURLSchemeAsSecure(scheme)</code></h3>

<ul>
<li><code>scheme</code> String</li>
</ul>

<p>Registers the <code>scheme</code> as secure scheme.</p>

<p>Secure schemes do not trigger mixed content warnings. For example, <code>https</code> and
<code>data</code> are secure schemes because they cannot be corrupted by active network
attackers.</p>

<h3 id="webframe.registerurlschemeasbypassingcsp(scheme)"><code>webFrame.registerURLSchemeAsBypassingCSP(scheme)</code></h3>

<ul>
<li><code>scheme</code> String</li>
</ul>

<p>Resources will be loaded from this <code>scheme</code> regardless of the current page&#39;s
Content Security Policy.</p>

<h3 id="webframe.registerurlschemeasprivileged(scheme)"><code>webFrame.registerURLSchemeAsPrivileged(scheme)</code></h3>

<ul>
<li><code>scheme</code> String</li>
</ul>

<p>Registers the <code>scheme</code> as secure, bypasses content security policy for resources,
allows registering ServiceWorker and supports fetch API.</p>

<h3 id="webframe.inserttext(text)"><code>webFrame.insertText(text)</code></h3>

<ul>
<li><code>text</code> String</li>
</ul>

<p>Inserts <code>text</code> to the focused element.</p>

<h3 id="webframe.executejavascript(code[,-usergesture])"><code>webFrame.executeJavaScript(code[, userGesture])</code></h3>

<ul>
<li><code>code</code> String</li>
<li><code>userGesture</code> Boolean (optional) - Default is <code>false</code>.</li>
</ul>

<p>Evaluates <code>code</code> in page.</p>

<p>In the browser window some HTML APIs like <code>requestFullScreen</code> can only be
invoked by a gesture from the user. Setting <code>userGesture</code> to <code>true</code> will remove
this limitation.</p>

<h1 id="the-&lt;webview&gt;-tag">The <code>&lt;webview&gt;</code> tag</h1>

<p>Use the <code>webview</code> tag to embed &#39;guest&#39; content (such as web pages) in your
Electron app. The guest content is contained within the <code>webview</code> container.
An embedded page within your app controls how the guest content is laid out and
rendered.</p>

<p>Unlike an <code>iframe</code>, the <code>webview</code> runs in a separate process than your
app. It doesn&#39;t have the same permissions as your web page and all interactions
between your app and embedded content will be asynchronous. This keeps your app
safe from the embedded content.</p>

<h2 id="example">Example</h2>

<p>To embed a web page in your app, add the <code>webview</code> tag to your app&#39;s embedder
page (this is the app page that will display the guest content). In its simplest
form, the <code>webview</code> tag includes the <code>src</code> of the web page and css styles that
control the appearance of the <code>webview</code> container:</p>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;webview</span> <span class="na">id=</span><span class="s">&quot;foo&quot;</span> <span class="na">src=</span><span class="s">&quot;https://www.github.com/&quot;</span> <span class="na">style=</span><span class="s">&quot;display:inline-block; width:640px; height:480px&quot;</span><span class="nt">&gt;&lt;/webview&gt;</span>
</code></pre></div>

<p>If you want to control the guest content in any way, you can write JavaScript
that listens for <code>webview</code> events and responds to those events using the
<code>webview</code> methods. Here&#39;s sample code with two event listeners: one that listens
for the web page to start loading, the other for the web page to stop loading,
and displays a &quot;loading...&quot; message during the load time:</p>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;script&gt;</span>
  <span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">webview</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">indicator</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s2">&quot;.indicator&quot;</span><span class="p">);</span>

    <span class="kd">var</span> <span class="nx">loadstart</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">indicator</span><span class="p">.</span><span class="nx">innerText</span> <span class="o">=</span> <span class="s2">&quot;loading...&quot;</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="kd">var</span> <span class="nx">loadstop</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">indicator</span><span class="p">.</span><span class="nx">innerText</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="nx">webview</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&quot;did-start-loading&quot;</span><span class="p">,</span> <span class="nx">loadstart</span><span class="p">);</span>
    <span class="nx">webview</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&quot;did-stop-loading&quot;</span><span class="p">,</span> <span class="nx">loadstop</span><span class="p">);</span>
  <span class="p">}</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre></div>

<h2 id="tag-attributes">Tag Attributes</h2>

<p>The <code>webview</code> tag has the following attributes:</p>

<h3 id="src"><code>src</code></h3>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;webview</span> <span class="na">src=</span><span class="s">&quot;https://www.github.com/&quot;</span><span class="nt">&gt;&lt;/webview&gt;</span>
</code></pre></div>

<p>Returns the visible URL. Writing to this attribute initiates top-level
navigation.</p>

<p>Assigning <code>src</code> its own value will reload the current page.</p>

<p>The <code>src</code> attribute can also accept data URLs, such as
<code>data:text/plain,Hello, world!</code>.</p>

<h3 id="autosize"><code>autosize</code></h3>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;webview</span> <span class="na">src=</span><span class="s">&quot;https://www.github.com/&quot;</span> <span class="na">autosize=</span><span class="s">&quot;on&quot;</span> <span class="na">minwidth=</span><span class="s">&quot;576&quot;</span> <span class="na">minheight=</span><span class="s">&quot;432&quot;</span><span class="nt">&gt;&lt;/webview&gt;</span>
</code></pre></div>

<p>If &quot;on&quot;, the <code>webview</code> container will automatically resize within the
bounds specified by the attributes <code>minwidth</code>, <code>minheight</code>, <code>maxwidth</code>, and
<code>maxheight</code>. These constraints do not impact the <code>webview</code> unless <code>autosize</code> is
enabled. When <code>autosize</code> is enabled, the <code>webview</code> container size cannot be less
than the minimum values or greater than the maximum.</p>

<h3 id="nodeintegration"><code>nodeintegration</code></h3>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;webview</span> <span class="na">src=</span><span class="s">&quot;http://www.google.com/&quot;</span> <span class="na">nodeintegration</span><span class="nt">&gt;&lt;/webview&gt;</span>
</code></pre></div>

<p>If &quot;on&quot;, the guest page in <code>webview</code> will have node integration and can use node
APIs like <code>require</code> and <code>process</code> to access low level system resources.</p>

<h3 id="plugins"><code>plugins</code></h3>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;webview</span> <span class="na">src=</span><span class="s">&quot;https://www.github.com/&quot;</span> <span class="na">plugins</span><span class="nt">&gt;&lt;/webview&gt;</span>
</code></pre></div>

<p>If &quot;on&quot;, the guest page in <code>webview</code> will be able to use browser plugins.</p>

<h3 id="preload"><code>preload</code></h3>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;webview</span> <span class="na">src=</span><span class="s">&quot;https://www.github.com/&quot;</span> <span class="na">preload=</span><span class="s">&quot;./test.js&quot;</span><span class="nt">&gt;&lt;/webview&gt;</span>
</code></pre></div>

<p>Specifies a script that will be loaded before other scripts run in the guest
page. The protocol of script&#39;s URL must be either <code>file:</code> or <code>asar:</code>, because it
will be loaded by <code>require</code> in guest page under the hood.</p>

<p>When the guest page doesn&#39;t have node integration this script will still have
access to all Node APIs, but global objects injected by Node will be deleted
after this script has finished executing.</p>

<h3 id="httpreferrer"><code>httpreferrer</code></h3>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;webview</span> <span class="na">src=</span><span class="s">&quot;https://www.github.com/&quot;</span> <span class="na">httpreferrer=</span><span class="s">&quot;http://cheng.guru&quot;</span><span class="nt">&gt;&lt;/webview&gt;</span>
</code></pre></div>

<p>Sets the referrer URL for the guest page.</p>

<h3 id="useragent"><code>useragent</code></h3>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;webview</span> <span class="na">src=</span><span class="s">&quot;https://www.github.com/&quot;</span> <span class="na">useragent=</span><span class="s">&quot;Mozilla/5.0 (Windows NT 6.1; WOW64; Trident/7.0; AS; rv:11.0) like Gecko&quot;</span><span class="nt">&gt;&lt;/webview&gt;</span>
</code></pre></div>

<p>Sets the user agent for the guest page before the page is navigated to. Once the
page is loaded, use the <code>setUserAgent</code> method to change the user agent.</p>

<h3 id="disablewebsecurity"><code>disablewebsecurity</code></h3>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;webview</span> <span class="na">src=</span><span class="s">&quot;https://www.github.com/&quot;</span> <span class="na">disablewebsecurity</span><span class="nt">&gt;&lt;/webview&gt;</span>
</code></pre></div>

<p>If &quot;on&quot;, the guest page will have web security disabled.</p>

<h3 id="partition">partition</h3>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;webview</span> <span class="na">src=</span><span class="s">&quot;https://github.com&quot;</span> <span class="na">partition=</span><span class="s">&quot;persist:github&quot;</span><span class="nt">&gt;&lt;/webview&gt;</span>
<span class="nt">&lt;webview</span> <span class="na">src=</span><span class="s">&quot;http://electron.atom.io&quot;</span> <span class="na">partition=</span><span class="s">&quot;electron&quot;</span><span class="nt">&gt;&lt;/webview&gt;</span>
</code></pre></div>

<p>Sets the session used by the page. If <code>partition</code> starts with <code>persist:</code>, the
page will use a persistent session available to all pages in the app with the
same <code>partition</code>. if there is no <code>persist:</code> prefix, the page will use an
in-memory session. By assigning the same <code>partition</code>, multiple pages can share
the same session. If the <code>partition</code> is unset then default session of the app
will be used.</p>

<p>This value can only be modified before the first navigation, since the session
of an active renderer process cannot change. Subsequent attempts to modify the
value will fail with a DOM exception.</p>

<h3 id="allowpopups"><code>allowpopups</code></h3>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;webview</span> <span class="na">src=</span><span class="s">&quot;https://www.github.com/&quot;</span> <span class="na">allowpopups</span><span class="nt">&gt;&lt;/webview&gt;</span>
</code></pre></div>

<p>If &quot;on&quot;, the guest page will be allowed to open new windows.</p>

<h3 id="blinkfeatures"><code>blinkfeatures</code></h3>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;webview</span> <span class="na">src=</span><span class="s">&quot;https://www.github.com/&quot;</span> <span class="na">blinkfeatures=</span><span class="s">&quot;PreciseMemoryInfo, CSSVariables&quot;</span><span class="nt">&gt;&lt;/webview&gt;</span>
</code></pre></div>

<p>A list of strings which specifies the blink features to be enabled separated by <code>,</code>.
The full list of supported feature strings can be found in the
<a href="https://code.google.com/p/chromium/codesearch#chromium/src/out/Debug/gen/blink/platform/RuntimeEnabledFeatures.cpp&amp;sq=package:chromium&amp;type=cs&amp;l=527">setFeatureEnabledFromString</a> function.</p>

<h2 id="methods">Methods</h2>

<p>The <code>webview</code> tag has the following methods:</p>

<p><strong>Note:</strong> The webview element must be loaded before using the methods.</p>

<p><strong>Example</strong></p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">webview</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&quot;dom-ready&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">webview</span><span class="p">.</span><span class="nx">openDevTools</span><span class="p">();</span>
<span class="p">});</span>
</code></pre></div>

<h3 id="&lt;webview&gt;.loadurl(url[,-options])"><code>&lt;webview&gt;.loadURL(url[, options])</code></h3>

<ul>
<li><code>url</code> URL</li>
<li><code>options</code> Object (optional), properties:

<ul>
<li><code>httpReferrer</code> String - A HTTP Referrer url.</li>
<li><code>userAgent</code> String - A user agent originating the request.</li>
<li><code>extraHeaders</code> String - Extra headers separated by &quot;\n&quot;</li>
</ul></li>
</ul>

<p>Loads the <code>url</code> in the webview, the <code>url</code> must contain the protocol prefix,
e.g. the <code>http://</code> or <code>file://</code>.</p>

<h3 id="&lt;webview&gt;.geturl()"><code>&lt;webview&gt;.getURL()</code></h3>

<p>Returns URL of guest page.</p>

<h3 id="&lt;webview&gt;.gettitle()"><code>&lt;webview&gt;.getTitle()</code></h3>

<p>Returns the title of guest page.</p>

<h3 id="&lt;webview&gt;.isloading()"><code>&lt;webview&gt;.isLoading()</code></h3>

<p>Returns a boolean whether guest page is still loading resources.</p>

<h3 id="&lt;webview&gt;.iswaitingforresponse()"><code>&lt;webview&gt;.isWaitingForResponse()</code></h3>

<p>Returns a boolean whether the guest page is waiting for a first-response for the
main resource of the page.</p>

<h3 id="&lt;webview&gt;.stop()"><code>&lt;webview&gt;.stop()</code></h3>

<p>Stops any pending navigation.</p>

<h3 id="&lt;webview&gt;.reload()"><code>&lt;webview&gt;.reload()</code></h3>

<p>Reloads the guest page.</p>

<h3 id="&lt;webview&gt;.reloadignoringcache()"><code>&lt;webview&gt;.reloadIgnoringCache()</code></h3>

<p>Reloads the guest page and ignores cache.</p>

<h3 id="&lt;webview&gt;.cangoback()"><code>&lt;webview&gt;.canGoBack()</code></h3>

<p>Returns a boolean whether the guest page can go back.</p>

<h3 id="&lt;webview&gt;.cangoforward()"><code>&lt;webview&gt;.canGoForward()</code></h3>

<p>Returns a boolean whether the guest page can go forward.</p>

<h3 id="&lt;webview&gt;.cangotooffset(offset)"><code>&lt;webview&gt;.canGoToOffset(offset)</code></h3>

<ul>
<li><code>offset</code> Integer</li>
</ul>

<p>Returns a boolean whether the guest page can go to <code>offset</code>.</p>

<h3 id="&lt;webview&gt;.clearhistory()"><code>&lt;webview&gt;.clearHistory()</code></h3>

<p>Clears the navigation history.</p>

<h3 id="&lt;webview&gt;.goback()"><code>&lt;webview&gt;.goBack()</code></h3>

<p>Makes the guest page go back.</p>

<h3 id="&lt;webview&gt;.goforward()"><code>&lt;webview&gt;.goForward()</code></h3>

<p>Makes the guest page go forward.</p>

<h3 id="&lt;webview&gt;.gotoindex(index)"><code>&lt;webview&gt;.goToIndex(index)</code></h3>

<ul>
<li><code>index</code> Integer</li>
</ul>

<p>Navigates to the specified absolute index.</p>

<h3 id="&lt;webview&gt;.gotooffset(offset)"><code>&lt;webview&gt;.goToOffset(offset)</code></h3>

<ul>
<li><code>offset</code> Integer</li>
</ul>

<p>Navigates to the specified offset from the &quot;current entry&quot;.</p>

<h3 id="&lt;webview&gt;.iscrashed()"><code>&lt;webview&gt;.isCrashed()</code></h3>

<p>Whether the renderer process has crashed.</p>

<h3 id="&lt;webview&gt;.setuseragent(useragent)"><code>&lt;webview&gt;.setUserAgent(userAgent)</code></h3>

<ul>
<li><code>userAgent</code> String</li>
</ul>

<p>Overrides the user agent for the guest page.</p>

<h3 id="&lt;webview&gt;.getuseragent()"><code>&lt;webview&gt;.getUserAgent()</code></h3>

<p>Returns a <code>String</code> representing the user agent for guest page.</p>

<h3 id="&lt;webview&gt;.insertcss(css)"><code>&lt;webview&gt;.insertCSS(css)</code></h3>

<ul>
<li><code>css</code> String</li>
</ul>

<p>Injects CSS into the guest page.</p>

<h3 id="&lt;webview&gt;.executejavascript(code,-usergesture)"><code>&lt;webview&gt;.executeJavaScript(code, userGesture)</code></h3>

<ul>
<li><code>code</code> String</li>
<li><code>userGesture</code> Boolean - Default <code>false</code>.</li>
</ul>

<p>Evaluates <code>code</code> in page. If <code>userGesture</code> is set, it will create the user
gesture context in the page. HTML APIs like <code>requestFullScreen</code>, which require
user action, can take advantage of this option for automation.</p>

<h3 id="&lt;webview&gt;.opendevtools()"><code>&lt;webview&gt;.openDevTools()</code></h3>

<p>Opens a DevTools window for guest page.</p>

<h3 id="&lt;webview&gt;.closedevtools()"><code>&lt;webview&gt;.closeDevTools()</code></h3>

<p>Closes the DevTools window of guest page.</p>

<h3 id="&lt;webview&gt;.isdevtoolsopened()"><code>&lt;webview&gt;.isDevToolsOpened()</code></h3>

<p>Returns a boolean whether guest page has a DevTools window attached.</p>

<h3 id="&lt;webview&gt;.isdevtoolsfocused()"><code>&lt;webview&gt;.isDevToolsFocused()</code></h3>

<p>Returns a boolean whether DevTools window of guest page is focused.</p>

<h3 id="&lt;webview&gt;.inspectelement(x,-y)"><code>&lt;webview&gt;.inspectElement(x, y)</code></h3>

<ul>
<li><code>x</code> Integer</li>
<li><code>y</code> Integer</li>
</ul>

<p>Starts inspecting element at position (<code>x</code>, <code>y</code>) of guest page.</p>

<h3 id="&lt;webview&gt;.inspectserviceworker()"><code>&lt;webview&gt;.inspectServiceWorker()</code></h3>

<p>Opens the DevTools for the service worker context present in the guest page.</p>

<h3 id="&lt;webview&gt;.setaudiomuted(muted)"><code>&lt;webview&gt;.setAudioMuted(muted)</code></h3>

<ul>
<li><code>muted</code> Boolean</li>
</ul>

<p>Set guest page muted.</p>

<h3 id="&lt;webview&gt;.isaudiomuted()"><code>&lt;webview&gt;.isAudioMuted()</code></h3>

<p>Returns whether guest page has been muted.</p>

<h3 id="&lt;webview&gt;.undo()"><code>&lt;webview&gt;.undo()</code></h3>

<p>Executes editing command <code>undo</code> in page.</p>

<h3 id="&lt;webview&gt;.redo()"><code>&lt;webview&gt;.redo()</code></h3>

<p>Executes editing command <code>redo</code> in page.</p>

<h3 id="&lt;webview&gt;.cut()"><code>&lt;webview&gt;.cut()</code></h3>

<p>Executes editing command <code>cut</code> in page.</p>

<h3 id="&lt;webview&gt;.copy()"><code>&lt;webview&gt;.copy()</code></h3>

<p>Executes editing command <code>copy</code> in page.</p>

<h3 id="&lt;webview&gt;.paste()"><code>&lt;webview&gt;.paste()</code></h3>

<p>Executes editing command <code>paste</code> in page.</p>

<h3 id="&lt;webview&gt;.pasteandmatchstyle()"><code>&lt;webview&gt;.pasteAndMatchStyle()</code></h3>

<p>Executes editing command <code>pasteAndMatchStyle</code> in page.</p>

<h3 id="&lt;webview&gt;.delete()"><code>&lt;webview&gt;.delete()</code></h3>

<p>Executes editing command <code>delete</code> in page.</p>

<h3 id="&lt;webview&gt;.selectall()"><code>&lt;webview&gt;.selectAll()</code></h3>

<p>Executes editing command <code>selectAll</code> in page.</p>

<h3 id="&lt;webview&gt;.unselect()"><code>&lt;webview&gt;.unselect()</code></h3>

<p>Executes editing command <code>unselect</code> in page.</p>

<h3 id="&lt;webview.replace(text)"><code>&lt;webview.replace(text)</code></h3>

<ul>
<li><code>text</code> String</li>
</ul>

<p>Executes editing command <code>replace</code> in page.</p>

<h3 id="&lt;webview&gt;.replacemisspelling(text)"><code>&lt;webview&gt;.replaceMisspelling(text)</code></h3>

<ul>
<li><code>text</code> String</li>
</ul>

<p>Executes editing command <code>replaceMisspelling</code> in page.</p>

<h3 id="&lt;webview&gt;.inserttext(text)"><code>&lt;webview&gt;.insertText(text)</code></h3>

<ul>
<li><code>text</code> String</li>
</ul>

<p>Inserts <code>text</code> to the focused element.</p>

<h3 id="&lt;webview&gt;.findinpage(text[,-options])"><code>&lt;webview&gt;.findInPage(text[, options])</code></h3>

<ul>
<li><code>text</code> String - Content to be searched, must not be empty.</li>
<li><code>options</code> Object (Optional)

<ul>
<li><code>forward</code> Boolean - Whether to search forward or backward, defaults to <code>true</code>.</li>
<li><code>findNext</code> Boolean - Whether the operation is first request or a follow up,
defaults to <code>false</code>.</li>
<li><code>matchCase</code> Boolean - Whether search should be case-sensitive,
defaults to <code>false</code>.</li>
<li><code>wordStart</code> Boolean - Whether to look only at the start of words.
defaults to <code>false</code>.</li>
<li><code>medialCapitalAsWordStart</code> Boolean - When combined with <code>wordStart</code>,
accepts a match in the middle of a word if the match begins with an
uppercase letter followed by a lowercase or non-letter.
Accepts several other intra-word matches, defaults to <code>false</code>.</li>
</ul></li>
</ul>

<p>Starts a request to find all matches for the <code>text</code> in the web page and returns an <code>Integer</code>
representing the request id used for the request. The result of the request can be
obtained by subscribing to <a href="http://electron.atom.io/docs/v0.36.5/api/web-view-tag#event-found-in-page"><code>found-in-page</code></a> event.</p>

<h3 id="&lt;webview&gt;.stopfindinpage(action)"><code>&lt;webview&gt;.stopFindInPage(action)</code></h3>

<ul>
<li><code>action</code> String - Specifies the action to take place when ending
<a href="http://electron.atom.io/docs/v0.36.5/api/web-view-tag#webviewtagfindinpage"><code>&lt;webview&gt;.findInPage</code></a> request.

<ul>
<li><code>clearSelection</code> - Translate the selection into a normal selection.</li>
<li><code>keepSelection</code> - Clear the selection.</li>
<li><code>activateSelection</code> - Focus and click the selection node.</li>
</ul></li>
</ul>

<p>Stops any <code>findInPage</code> request for the <code>webview</code> with the provided <code>action</code>.</p>

<h3 id="&lt;webview&gt;.print([options])"><code>&lt;webview&gt;.print([options])</code></h3>

<p>Prints <code>webview</code>&#39;s web page. Same with <code>webContents.print([options])</code>.</p>

<h3 id="&lt;webview&gt;.printtopdf(options,-callback)"><code>&lt;webview&gt;.printToPDF(options, callback)</code></h3>

<p>Prints webview&#39;s web page as PDF, Same with <code>webContents.printToPDF(options, callback)</code></p>

<h3 id="&lt;webview&gt;.send(channel[,-arg1][,-arg2][,-...])"><code>&lt;webview&gt;.send(channel[, arg1][, arg2][, ...])</code></h3>

<ul>
<li><code>channel</code> String</li>
<li><code>arg</code> (optional)</li>
</ul>

<p>Send an asynchronous message to renderer process via <code>channel</code>, you can also
send arbitrary arguments. The renderer process can handle the message by
listening to the <code>channel</code> event with the <code>ipcRenderer</code> module.</p>

<p>See <a href="http://electron.atom.io/docs/v0.36.5/api/web-contents#webcontentssendchannel-args">webContents.send</a> for
examples.</p>

<h3 id="&lt;webview&gt;.sendinputevent(event)"><code>&lt;webview&gt;.sendInputEvent(event)</code></h3>

<ul>
<li><code>event</code> Object</li>
</ul>

<p>Sends an input <code>event</code> to the page.</p>

<p>See <a href="http://electron.atom.io/docs/v0.36.5/api/web-contents##webcontentssendinputeventevent">webContents.sendInputEvent</a>
for detailed description of <code>event</code> object.</p>

<h2 id="dom-events">DOM events</h2>

<p>The following DOM events are available to the <code>webview</code> tag:</p>

<h3 id="event:-&#39;load-commit&#39;">Event: &#39;load-commit&#39;</h3>

<p>Returns:</p>

<ul>
<li><code>url</code> String</li>
<li><code>isMainFrame</code> Boolean</li>
</ul>

<p>Fired when a load has committed. This includes navigation within the current
document as well as subframe document-level loads, but does not include
asynchronous resource loads.</p>

<h3 id="event:-&#39;did-finish-load&#39;">Event: &#39;did-finish-load&#39;</h3>

<p>Fired when the navigation is done, i.e. the spinner of the tab will stop
spinning, and the <code>onload</code> event is dispatched.</p>

<h3 id="event:-&#39;did-fail-load&#39;">Event: &#39;did-fail-load&#39;</h3>

<p>Returns:</p>

<ul>
<li><code>errorCode</code> Integer</li>
<li><code>errorDescription</code> String</li>
<li><code>validatedURL</code> String</li>
</ul>

<p>This event is like <code>did-finish-load</code>, but fired when the load failed or was
cancelled, e.g. <code>window.stop()</code> is invoked.</p>

<h3 id="event:-&#39;did-frame-finish-load&#39;">Event: &#39;did-frame-finish-load&#39;</h3>

<p>Returns:</p>

<ul>
<li><code>isMainFrame</code> Boolean</li>
</ul>

<p>Fired when a frame has done navigation.</p>

<h3 id="event:-&#39;did-start-loading&#39;">Event: &#39;did-start-loading&#39;</h3>

<p>Corresponds to the points in time when the spinner of the tab starts spinning.</p>

<h3 id="event:-&#39;did-stop-loading&#39;">Event: &#39;did-stop-loading&#39;</h3>

<p>Corresponds to the points in time when the spinner of the tab stops spinning.</p>

<h3 id="event:-&#39;did-get-response-details&#39;">Event: &#39;did-get-response-details&#39;</h3>

<p>Returns:</p>

<ul>
<li><code>status</code> Boolean</li>
<li><code>newURL</code> String</li>
<li><code>originalURL</code> String</li>
<li><code>httpResponseCode</code> Integer</li>
<li><code>requestMethod</code> String</li>
<li><code>referrer</code> String</li>
<li><code>headers</code> Object</li>
</ul>

<p>Fired when details regarding a requested resource is available.
<code>status</code> indicates socket connection to download the resource.</p>

<h3 id="event:-&#39;did-get-redirect-request&#39;">Event: &#39;did-get-redirect-request&#39;</h3>

<p>Returns:</p>

<ul>
<li><code>oldURL</code> String</li>
<li><code>newURL</code> String</li>
<li><code>isMainFrame</code> Boolean</li>
</ul>

<p>Fired when a redirect was received while requesting a resource.</p>

<h3 id="event:-&#39;dom-ready&#39;">Event: &#39;dom-ready&#39;</h3>

<p>Fired when document in the given frame is loaded.</p>

<h3 id="event:-&#39;page-title-updated&#39;">Event: &#39;page-title-updated&#39;</h3>

<p>Returns:</p>

<ul>
<li><code>title</code> String</li>
<li><code>explicitSet</code> Boolean</li>
</ul>

<p>Fired when page title is set during navigation. <code>explicitSet</code> is false when
title is synthesised from file url.</p>

<h3 id="event:-&#39;page-favicon-updated&#39;">Event: &#39;page-favicon-updated&#39;</h3>

<p>Returns:</p>

<ul>
<li><code>favicons</code> Array - Array of URLs.</li>
</ul>

<p>Fired when page receives favicon urls.</p>

<h3 id="event:-&#39;enter-html-full-screen&#39;">Event: &#39;enter-html-full-screen&#39;</h3>

<p>Fired when page enters fullscreen triggered by HTML API.</p>

<h3 id="event:-&#39;leave-html-full-screen&#39;">Event: &#39;leave-html-full-screen&#39;</h3>

<p>Fired when page leaves fullscreen triggered by HTML API.</p>

<h3 id="event:-&#39;console-message&#39;">Event: &#39;console-message&#39;</h3>

<p>Returns:</p>

<ul>
<li><code>level</code> Integer</li>
<li><code>message</code> String</li>
<li><code>line</code> Integer</li>
<li><code>sourceId</code> String</li>
</ul>

<p>Fired when the guest window logs a console message.</p>

<p>The following example code forwards all log messages to the embedder&#39;s console
without regard for log level or other properties.</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">webview</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;console-message&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Guest page logged a message:&#39;</span><span class="p">,</span> <span class="nx">e</span><span class="p">.</span><span class="nx">message</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>

<h3 id="event:-&#39;found-in-page&#39;">Event: &#39;found-in-page&#39;</h3>

<p>Returns:</p>

<ul>
<li><code>result</code> Object

<ul>
<li><code>requestId</code> Integer</li>
<li><code>finalUpdate</code> Boolean - Indicates if more responses are to follow.</li>
<li><code>matches</code> Integer (Optional) - Number of Matches.</li>
<li><code>selectionArea</code> Object (Optional) - Coordinates of first match region.</li>
</ul></li>
</ul>

<p>Fired when a result is available for
<a href="http://electron.atom.io/docs/v0.36.5/api/web-view-tag#webviewtagfindinpage"><code>webview.findInPage</code></a> request.</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">webview</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;found-in-page&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">result</span><span class="p">.</span><span class="nx">finalUpdate</span><span class="p">)</span>
    <span class="nx">webview</span><span class="p">.</span><span class="nx">stopFindInPage</span><span class="p">(</span><span class="s2">&quot;keepSelection&quot;</span><span class="p">);</span>
<span class="p">});</span>

<span class="kr">const</span> <span class="nx">rquestId</span> <span class="o">=</span> <span class="nx">webview</span><span class="p">.</span><span class="nx">findInPage</span><span class="p">(</span><span class="s2">&quot;test&quot;</span><span class="p">);</span>
</code></pre></div>

<h3 id="event:-&#39;new-window&#39;">Event: &#39;new-window&#39;</h3>

<p>Returns:</p>

<ul>
<li><code>url</code> String</li>
<li><code>frameName</code> String</li>
<li><code>disposition</code> String - Can be <code>default</code>, <code>foreground-tab</code>, <code>background-tab</code>,
<code>new-window</code> and <code>other</code>.</li>
<li><code>options</code> Object - The options which should be used for creating the new
<code>BrowserWindow</code>.</li>
</ul>

<p>Fired when the guest page attempts to open a new browser window.</p>

<p>The following example code opens the new url in system&#39;s default browser.</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">webview</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;new-window&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;electron&#39;</span><span class="p">).</span><span class="nx">shell</span><span class="p">.</span><span class="nx">openExternal</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">url</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>

<h3 id="event:-&#39;will-navigate&#39;">Event: &#39;will-navigate&#39;</h3>

<p>Returns:</p>

<ul>
<li><code>url</code> String</li>
</ul>

<p>Emitted when a user or the page wants to start navigation. It can happen when
the <code>window.location</code> object is changed or a user clicks a link in the page.</p>

<p>This event will not emit when the navigation is started programmatically with
APIs like <code>&lt;webview&gt;.loadURL</code> and <code>&lt;webview&gt;.back</code>.</p>

<p>It is also not emitted during in-page navigation, such as clicking anchor links
or updating the <code>window.location.hash</code>. Use <code>did-navigate-in-page</code> event for
this purpose.</p>

<p>Calling <code>event.preventDefault()</code> does <strong>NOT</strong> have any effect.</p>

<h3 id="event:-&#39;did-navigate&#39;">Event: &#39;did-navigate&#39;</h3>

<p>Returns:</p>

<ul>
<li><code>url</code> String</li>
</ul>

<p>Emitted when a navigation is done.</p>

<p>This event is not emitted for in-page navigations, such as clicking anchor links
or updating the <code>window.location.hash</code>. Use <code>did-navigate-in-page</code> event for
this purpose.</p>

<h3 id="event:-&#39;did-navigate-in-page&#39;">Event: &#39;did-navigate-in-page&#39;</h3>

<p>Returns:</p>

<ul>
<li><code>url</code> String</li>
</ul>

<p>Emitted when an in-page navigation happened.</p>

<p>When in-page navigation happens, the page URL changes but does not cause
navigation outside of the page. Examples of this occurring are when anchor links
are clicked or when the DOM <code>hashchange</code> event is triggered.</p>

<h3 id="event:-&#39;close&#39;">Event: &#39;close&#39;</h3>

<p>Fired when the guest page attempts to close itself.</p>

<p>The following example code navigates the <code>webview</code> to <code>about:blank</code> when the
guest attempts to close itself.</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">webview</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;close&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">webview</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="s1">&#39;about:blank&#39;</span><span class="p">;</span>
<span class="p">});</span>
</code></pre></div>

<h3 id="event:-&#39;ipc-message&#39;">Event: &#39;ipc-message&#39;</h3>

<p>Returns:</p>

<ul>
<li><code>channel</code> String</li>
<li><code>args</code> Array</li>
</ul>

<p>Fired when the guest page has sent an asynchronous message to embedder page.</p>

<p>With <code>sendToHost</code> method and <code>ipc-message</code> event you can easily communicate
between guest page and embedder page:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// In embedder page.</span>
<span class="nx">webview</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;ipc-message&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">channel</span><span class="p">);</span>
  <span class="c1">// Prints &quot;pong&quot;</span>
<span class="p">});</span>
<span class="nx">webview</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">&#39;ping&#39;</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// In guest page.</span>
<span class="kd">var</span> <span class="nx">ipcRenderer</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;electron&#39;</span><span class="p">).</span><span class="nx">ipcRenderer</span><span class="p">;</span>
<span class="nx">ipcRenderer</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;ping&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">ipcRenderer</span><span class="p">.</span><span class="nx">sendToHost</span><span class="p">(</span><span class="s1">&#39;pong&#39;</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>

<h3 id="event:-&#39;crashed&#39;">Event: &#39;crashed&#39;</h3>

<p>Fired when the renderer process is crashed.</p>

<h3 id="event:-&#39;gpu-crashed&#39;">Event: &#39;gpu-crashed&#39;</h3>

<p>Fired when the gpu process is crashed.</p>

<h3 id="event:-&#39;plugin-crashed&#39;">Event: &#39;plugin-crashed&#39;</h3>

<p>Returns:</p>

<ul>
<li><code>name</code> String</li>
<li><code>version</code> String</li>
</ul>

<p>Fired when a plugin process is crashed.</p>

<h3 id="event:-&#39;destroyed&#39;">Event: &#39;destroyed&#39;</h3>

<p>Fired when the WebContents is destroyed.</p>

<h3 id="event:-&#39;media-started-playing&#39;">Event: &#39;media-started-playing&#39;</h3>

<p>Emitted when media starts playing.</p>

<h3 id="event:-&#39;media-paused&#39;">Event: &#39;media-paused&#39;</h3>

<p>Emitted when media is paused or done playing.</p>

<h3 id="event:-&#39;did-change-theme-color&#39;">Event: &#39;did-change-theme-color&#39;</h3>

<p>Emitted when a page&#39;s theme color changes. This is usually due to encountering a meta tag:</p>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&#39;theme-color&#39;</span> <span class="na">content=</span><span class="s">&#39;#ff0000&#39;</span><span class="nt">&gt;</span>
</code></pre></div>

<h3 id="event:-&#39;devtools-opened&#39;">Event: &#39;devtools-opened&#39;</h3>

<p>Emitted when DevTools is opened.</p>

<h3 id="event:-&#39;devtools-closed&#39;">Event: &#39;devtools-closed&#39;</h3>

<p>Emitted when DevTools is closed.</p>

<h3 id="event:-&#39;devtools-focused&#39;">Event: &#39;devtools-focused&#39;</h3>

<p>Emitted when DevTools is focused / opened.</p>

<h1 id="the-window.open-function">The <code>window.open</code> function</h1>

<p>When <code>window.open</code> is called to create a new window in a web page, a new instance
of <code>BrowserWindow</code> will be created for the <code>url</code> and a proxy will be returned
to <code>window.open</code> to let the page have limited control over it.</p>

<p>The proxy has limited standard functionality implemented to be
compatible with traditional web pages. For full control of the new window
you should create a <code>BrowserWindow</code> directly.</p>

<p>The newly created <code>BrowserWindow</code> will inherit parent window&#39;s options by
default, to override inherited options you can set them in the <code>features</code>
string.</p>

<h3 id="window.open(url[,-framename][,-features])"><code>window.open(url[, frameName][, features])</code></h3>

<ul>
<li><code>url</code> String</li>
<li><code>frameName</code> String (optional)</li>
<li><code>features</code> String (optional)</li>
</ul>

<p>Creates a new window and returns an instance of <code>BrowserWindowProxy</code> class.</p>

<p>The <code>features</code> string follows the format of standard browser, but each feature
has to be a field of <code>BrowserWindow</code>&#39;s options.</p>

<h3 id="window.opener.postmessage(message,-targetorigin)"><code>window.opener.postMessage(message, targetOrigin)</code></h3>

<ul>
<li><code>message</code> String</li>
<li><code>targetOrigin</code> String</li>
</ul>

<p>Sends a message to the parent window with the specified origin or <code>*</code> for no
origin preference.</p>

<h2 id="class:-browserwindowproxy">Class: BrowserWindowProxy</h2>

<p>The <code>BrowserWindowProxy</code> object is returned from <code>window.open</code> and provides
limited functionality with the child window.</p>

<h3 id="browserwindowproxy.blur()"><code>BrowserWindowProxy.blur()</code></h3>

<p>Removes focus from the child window.</p>

<h3 id="browserwindowproxy.close()"><code>BrowserWindowProxy.close()</code></h3>

<p>Forcefully closes the child window without calling its unload event.</p>

<h3 id="browserwindowproxy.closed"><code>BrowserWindowProxy.closed</code></h3>

<p>Set to true after the child window gets closed.</p>

<h3 id="browserwindowproxy.eval(code)"><code>BrowserWindowProxy.eval(code)</code></h3>

<ul>
<li><code>code</code> String</li>
</ul>

<p>Evaluates the code in the child window.</p>

<h3 id="browserwindowproxy.focus()"><code>BrowserWindowProxy.focus()</code></h3>

<p>Focuses the child window (brings the window to front).</p>

<h3 id="browserwindowproxy.postmessage(message,-targetorigin)"><code>BrowserWindowProxy.postMessage(message, targetOrigin)</code></h3>

<ul>
<li><code>message</code> String</li>
<li><code>targetOrigin</code> String</li>
</ul>

<p>Sends a message to the child window with the specified origin or <code>*</code> for no
origin preference.</p>

<p>In addition to these methods, the child window implements <code>window.opener</code> object
with no properties and a single method.</p>

<h1 id="technical-differences-between-electron-and-nw.js-(formerly-node-webkit)">Technical Differences Between Electron and NW.js (formerly node-webkit)</h1>

<p><strong>Note: Electron was previously named Atom Shell.</strong></p>

<p>Like NW.js, Electron provides a platform to write desktop applications
with JavaScript and HTML and has Node integration to grant access to the low
level system from web pages.</p>

<p>But there are also fundamental differences between the two projects that make
Electron a completely separate product from NW.js:</p>

<p><strong>1. Entry of Application</strong></p>

<p>In NW.js the main entry point of an application is a web page. You specify a
main page URL in the <code>package.json</code> and it is opened in a browser window as
the application&#39;s main window.</p>

<p>In Electron, the entry point is a JavaScript script. Instead of
providing a URL directly, you manually create a browser window and load
an HTML file using the API. You also need to listen to window events
to decide when to quit the application.</p>

<p>Electron works more like the Node.js runtime. Electron&#39;s APIs are lower level
so you can use it for browser testing in place of <a href="http://phantomjs.org/">PhantomJS</a>.</p>

<p><strong>2. Build System</strong></p>

<p>In order to avoid the complexity of building all of Chromium, Electron uses <a href="https://github.com/brightray/libchromiumcontent"><code>libchromiumcontent</code></a> to access
Chromium&#39;s Content API. <code>libchromiumcontent</code> is a single shared library that
includes the Chromium Content module and all of its dependencies. Users don&#39;t
need a powerful machine to build Electron.</p>

<p><strong>3. Node Integration</strong></p>

<p>In NW.js, the Node integration in web pages requires patching Chromium to
work, while in Electron we chose a different way to integrate the libuv loop
with each platform&#39;s message loop to avoid hacking Chromium. See the
<a href="https://github.com/atom/electron/tree/master/atom/common"><code>node_bindings</code></a> code for how that was done.</p>

<p><strong>4. Multi-context</strong></p>

<p>If you are an experienced NW.js user, you should be familiar with the
concept of Node context and web context. These concepts were invented because
of how NW.js was implemented.</p>

<p>By using the <a href="http://strongloop.com/strongblog/whats-new-node-js-v0-12-multiple-context-execution/">multi-context</a>
feature of Node, Electron doesn&#39;t introduce a new JavaScript context in web
pages.</p>

<h1 id="build-instructions-(linux)">Build Instructions (Linux)</h1>

<p>Follow the guidelines below for building Electron on Linux.</p>

<h2 id="prerequisites">Prerequisites</h2>

<ul>
<li>Python 2.7.x. Some distributions like CentOS still use Python 2.6.x
so you may need to check your Python version with <code>python -V</code>.</li>
<li>Node.js v0.12.x. There are various ways to install Node. You can download
source code from <a href="http://nodejs.org">Node.js</a> and compile from source.
Doing so permits installing Node on your own home directory as a standard user.
Or try repositories such as <a href="https://nodesource.com/blog/nodejs-v012-iojs-and-the-nodesource-linux-repositories">NodeSource</a>.</li>
<li>Clang 3.4 or later.</li>
<li>Development headers of GTK+ and libnotify.</li>
</ul>

<p>On Ubuntu, install the following libraries:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>sudo apt-get install build-essential clang libdbus-1-dev libgtk2.0-dev <span class="se">\</span>
                       libnotify-dev libgnome-keyring-dev libgconf2-dev <span class="se">\</span>
                       libasound2-dev libcap-dev libcups2-dev libxtst-dev <span class="se">\</span>
                       libxss1 libnss3-dev gcc-multilib g++-multilib
</code></pre></div>

<p>On Fedora, install the following libraries:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>sudo yum install clang dbus-devel gtk2-devel libnotify-devel libgnome-keyring-devel <span class="se">\</span>
                   xorg-x11-server-utils libcap-devel cups-devel libXtst-devel <span class="se">\</span>
                   alsa-lib-devel libXrandr-devel GConf2-devel nss-devel
</code></pre></div>

<p>Other distributions may offer similar packages for installation via package
managers such as pacman. Or one can compile from source code.</p>

<h2 id="if-you-use-virtual-machines-for-building">If You Use Virtual Machines For Building</h2>

<p>If you plan to build Electron on a virtual machine you will need a fixed-size
device container of at least 25 gigabytes in size.</p>

<h2 id="getting-the-code">Getting the Code</h2>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>git clone https://github.com/atom/electron.git
</code></pre></div>

<h2 id="bootstrapping">Bootstrapping</h2>

<p>The bootstrap script will download all necessary build dependencies and create
the build project files. You must have Python 2.7.x for the script to succeed.
Downloading certain files can take a long time. Notice that we are using
<code>ninja</code> to build Electron so there is no <code>Makefile</code> generated.</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span><span class="nb">cd </span>electron
<span class="nv">$ </span>./script/bootstrap.py -v
</code></pre></div>

<h3 id="cross-compilation">Cross compilation</h3>

<p>If you want to build for an <code>arm</code> target you should also install the following
dependencies:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>sudo apt-get install libc6-dev-armhf-cross linux-libc-dev-armhf-cross <span class="se">\</span>
                       g++-arm-linux-gnueabihf
</code></pre></div>

<p>And to cross compile for <code>arm</code> or <code>ia32</code> targets, you should pass the
<code>--target_arch</code> parameter to the <code>bootstrap.py</code> script:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>./script/bootstrap.py -v --target_arch<span class="o">=</span>arm
</code></pre></div>

<h2 id="building">Building</h2>

<p>If you would like to build both <code>Release</code> and <code>Debug</code> targets:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>./script/build.py
</code></pre></div>

<p>This script will cause a very large Electron executable to be placed in
the directory <code>out/R</code>. The file size is in excess of 1.3 gigabytes. This
happens because the Release target binary contains debugging symbols.
To reduce the file size, run the <code>create-dist.py</code> script:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>./script/create-dist.py
</code></pre></div>

<p>This will put a working distribution with much smaller file sizes in
the <code>dist</code> directory. After running the create-dist.py script, you
may want to remove the 1.3+ gigabyte binary which is still in <code>out/R</code>.</p>

<p>You can also build the <code>Debug</code> target only:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>./script/build.py -c D
</code></pre></div>

<p>After building is done, you can find the <code>electron</code> debug binary under <code>out/D</code>.</p>

<h2 id="cleaning">Cleaning</h2>

<p>To clean the build files:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>./script/clean.py
</code></pre></div>

<h2 id="troubleshooting">Troubleshooting</h2>

<p>Make sure you have installed all of the build dependencies.</p>

<h3 id="error-while-loading-shared-libraries:-libtinfo.so.5">Error While Loading Shared Libraries: libtinfo.so.5</h3>

<p>Prebulit <code>clang</code> will try to link to <code>libtinfo.so.5</code>. Depending on the host
architecture, symlink to appropriate <code>libncurses</code>:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>sudo ln -s /usr/lib/libncurses.so.5 /usr/lib/libtinfo.so.5
</code></pre></div>

<h2 id="tests">Tests</h2>

<p>Test your changes conform to the project coding style using:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>./script/cpplint.py
</code></pre></div>

<p>Test functionality using:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>./script/test.py
</code></pre></div>

<h1 id="build-instructions-(os-x)">Build Instructions (OS X)</h1>

<p>Follow the guidelines below for building Electron on OS X.</p>

<h2 id="prerequisites">Prerequisites</h2>

<ul>
<li>OS X &gt;= 10.8</li>
<li><a href="https://developer.apple.com/technologies/tools/">Xcode</a> &gt;= 5.1</li>
<li><a href="http://nodejs.org">node.js</a> (external)</li>
</ul>

<p>If you are using the Python downloaded by Homebrew, you also need to install
following python modules:</p>

<ul>
<li>pyobjc</li>
</ul>

<h2 id="getting-the-code">Getting the Code</h2>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>git clone https://github.com/atom/electron.git
</code></pre></div>

<h2 id="bootstrapping">Bootstrapping</h2>

<p>The bootstrap script will download all necessary build dependencies and create
the build project files. Notice that we&#39;re using <code>ninja</code> to build Electron so
there is no Xcode project generated.</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span><span class="nb">cd </span>electron
<span class="nv">$ </span>./script/bootstrap.py -v
</code></pre></div>

<h2 id="building">Building</h2>

<p>Build both <code>Release</code> and <code>Debug</code> targets:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>./script/build.py
</code></pre></div>

<p>You can also only build the <code>Debug</code> target:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>./script/build.py -c D
</code></pre></div>

<p>After building is done, you can find <code>Electron.app</code> under <code>out/D</code>.</p>

<h2 id="32bit-support">32bit Support</h2>

<p>Electron can only be built for a 64bit target on OS X and there is no plan to
support 32bit OS X in future.</p>

<h2 id="tests">Tests</h2>

<p>Test your changes conform to the project coding style using:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>./script/cpplint.py
</code></pre></div>

<p>Test functionality using:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>./script/test.py
</code></pre></div>

<h1 id="build-instructions-(windows)">Build Instructions (Windows)</h1>

<p>Follow the guidelines below for building Electron on Windows.</p>

<h2 id="prerequisites">Prerequisites</h2>

<ul>
<li>Windows 7 / Server 2008 R2 or higher</li>
<li>Visual Studio 2013 with Update 4 - <a href="https://www.visualstudio.com/news/vs2013-community-vs">download VS 2013 Community Edition for
free</a>.</li>
<li><a href="http://www.python.org/download/releases/2.7/">Python 2.7</a></li>
<li><a href="http://nodejs.org/download/">Node.js</a></li>
<li><a href="http://git-scm.com">Git</a></li>
</ul>

<p>If you don&#39;t currently have a Windows installation, <a href="https://www.modern.ie/en-us/virtualization-tools#downloads">modern.ie</a>
has timebombed versions of Windows that you can use to build Electron.</p>

<p>Building Electron is done entirely with command-line scripts and cannot be done
with Visual Studio. You can develop Electron with any editor but support for
building with Visual Studio will come in the future.</p>

<p><strong>Note:</strong> Even though Visual Studio is not used for building, it&#39;s still
<strong>required</strong> because we need the build toolchains it provides.</p>

<p><strong>Note:</strong> Visual Studio 2015 will not work. Please make sure to get MSVS
<strong>2013</strong>.</p>

<h2 id="getting-the-code">Getting the Code</h2>

<div class="highlight"><pre><code class="language-powershell" data-lang="powershell"><span class="p">$</span> <span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="err">:</span><span class="p">//</span><span class="n">github</span><span class="p">.</span><span class="n">com</span><span class="p">/</span><span class="n">atom</span><span class="p">/</span><span class="n">electron</span><span class="p">.</span><span class="n">git</span>
</code></pre></div>

<h2 id="bootstrapping">Bootstrapping</h2>

<p>The bootstrap script will download all necessary build dependencies and create
the build project files. Notice that we&#39;re using <code>ninja</code> to build Electron so
there is no Visual Studio project generated.</p>

<div class="highlight"><pre><code class="language-powershell" data-lang="powershell"><span class="p">$</span> <span class="n">cd</span> <span class="n">electron</span>
<span class="p">$</span> <span class="n">python</span> <span class="n">script</span><span class="p">\</span><span class="n">bootstrap</span><span class="p">.</span><span class="n">py</span> <span class="n">-v</span>
</code></pre></div>

<h2 id="building">Building</h2>

<p>Build both Release and Debug targets:</p>

<div class="highlight"><pre><code class="language-powershell" data-lang="powershell"><span class="p">$</span> <span class="n">python</span> <span class="n">script</span><span class="p">\</span><span class="n">build</span><span class="p">.</span><span class="n">py</span>
</code></pre></div>

<p>You can also only build the Debug target:</p>

<div class="highlight"><pre><code class="language-powershell" data-lang="powershell"><span class="p">$</span> <span class="n">python</span> <span class="n">script</span><span class="p">\</span><span class="n">build</span><span class="p">.</span><span class="n">py</span> <span class="n">-c</span> <span class="n">D</span>
</code></pre></div>

<p>After building is done, you can find <code>electron.exe</code> under <code>out\D</code> (debug
target) or under <code>out\R</code> (release target).</p>

<h2 id="64bit-build">64bit Build</h2>

<p>To build for the 64bit target, you need to pass <code>--target_arch=x64</code> when running
the bootstrap script:</p>

<div class="highlight"><pre><code class="language-powershell" data-lang="powershell"><span class="p">$</span> <span class="n">python</span> <span class="n">script</span><span class="p">\</span><span class="n">bootstrap</span><span class="p">.</span><span class="n">py</span> <span class="n">-v</span> <span class="p">-</span><span class="n">-target_arch</span><span class="p">=</span><span class="n">x64</span>
</code></pre></div>

<p>The other building steps are exactly the same.</p>

<h2 id="tests">Tests</h2>

<p>Test your changes conform to the project coding style using:</p>

<div class="highlight"><pre><code class="language-powershell" data-lang="powershell"><span class="p">$</span> <span class="n">python</span> <span class="n">script</span><span class="p">\</span><span class="n">cpplint</span><span class="p">.</span><span class="n">py</span>
</code></pre></div>

<p>Test functionality using:</p>

<div class="highlight"><pre><code class="language-powershell" data-lang="powershell"><span class="p">$</span> <span class="n">python</span> <span class="n">script</span><span class="p">\</span><span class="n">test</span><span class="p">.</span><span class="n">py</span>
</code></pre></div>

<p>Tests that include native modules (e.g. <code>runas</code>) can&#39;t be executed with the
debug build (see <a href="https://github.com/atom/electron/issues/2558">#2558</a> for
details), but they will work with the release build.</p>

<p>To run the tests with the release build use:</p>

<div class="highlight"><pre><code class="language-powershell" data-lang="powershell"><span class="p">$</span> <span class="n">python</span> <span class="n">script</span><span class="p">\</span><span class="n">test</span><span class="p">.</span><span class="n">py</span> <span class="n">-R</span>
</code></pre></div>

<h2 id="troubleshooting">Troubleshooting</h2>

<h3 id="command-xxxx-not-found">Command xxxx not found</h3>

<p>If you encountered an error like <code>Command xxxx not found</code>, you may try to use
the <code>VS2012 Command Prompt</code> console to execute the build scripts.</p>

<h3 id="fatal-internal-compiler-error:-c1001">Fatal internal compiler error: C1001</h3>

<p>Make sure you have the latest Visual Studio update installed.</p>

<h3 id="assertion-failed:-((handle))-&gt;activecnt-&gt;=-0">Assertion failed: ((handle))-&gt;activecnt &gt;= 0</h3>

<p>If building under Cygwin, you may see <code>bootstrap.py</code> failed with following
error:</p>

<div class="highlight"><pre><code class="language-text" data-lang="text">Assertion failed: ((handle))-&gt;activecnt &gt;= 0, file src\win\pipe.c, line 1430

Traceback (most recent call last):
  File &quot;script/bootstrap.py&quot;, line 87, in &lt;module&gt;
    sys.exit(main())
  File &quot;script/bootstrap.py&quot;, line 22, in main
    update_node_modules(&#39;.&#39;)
  File &quot;script/bootstrap.py&quot;, line 56, in update_node_modules
    execute([NPM, &#39;install&#39;])
  File &quot;/home/zcbenz/codes/raven/script/lib/util.py&quot;, line 118, in execute
    raise e
subprocess.CalledProcessError: Command &#39;[&#39;npm.cmd&#39;, &#39;install&#39;]&#39; returned non-zero exit status 3
</code></pre></div>

<p>This is caused by a bug when using Cygwin Python and Win32 Node together. The
solution is to use the Win32 Python to execute the bootstrap script (assuming
you have installed Python under <code>C:\Python27</code>):</p>

<div class="highlight"><pre><code class="language-powershell" data-lang="powershell"><span class="p">$</span> <span class="p">/</span><span class="n">cygdrive</span><span class="p">/</span><span class="n">c</span><span class="p">/</span><span class="n">Python27</span><span class="p">/</span><span class="n">python</span><span class="p">.</span><span class="n">exe</span> <span class="n">script</span><span class="p">/</span><span class="n">bootstrap</span><span class="p">.</span><span class="n">py</span>
</code></pre></div>

<h3 id="lnk1181:-cannot-open-input-file-&#39;kernel32.lib&#39;">LNK1181: cannot open input file &#39;kernel32.lib&#39;</h3>

<p>Try reinstalling 32bit Node.js.</p>

<h3 id="error:-enoent,-stat-&#39;c:\users\username\appdata\roaming\npm&#39;">Error: ENOENT, stat &#39;C:\Users\USERNAME\AppData\Roaming\npm&#39;</h3>

<p>Simply making that directory <a href="http://stackoverflow.com/a/25095327/102704">should fix the problem</a>:</p>

<div class="highlight"><pre><code class="language-powershell" data-lang="powershell"><span class="p">$</span> <span class="n">mkdir</span> <span class="p">~\</span><span class="n">AppData</span><span class="p">\</span><span class="n">Roaming</span><span class="p">\</span><span class="n">npm</span>
</code></pre></div>

<h3 id="node-gyp-is-not-recognized-as-an-internal-or-external-command">node-gyp is not recognized as an internal or external command</h3>

<p>You may get this error if you are using Git Bash for building, you should use
PowerShell or VS2012 Command Prompt instead.</p>

<h1 id="build-system-overview">Build System Overview</h1>

<p>Electron uses <code>gyp</code> for project generation and <code>ninja</code> for building. Project
configurations can be found in the <code>.gyp</code> and <code>.gypi</code> files.</p>

<h2 id="gyp-files">Gyp Files</h2>

<p>Following <code>gyp</code> files contain the main rules for building Electron:</p>

<ul>
<li><code>atom.gyp</code> defines how Electron itself is built.</li>
<li><code>common.gypi</code> adjusts the build configurations of Node to make it build
together with Chromium.</li>
<li><code>vendor/brightray/brightray.gyp</code> defines how <code>brightray</code> is built and
includes the default configurations for linking with Chromium.</li>
<li><code>vendor/brightray/brightray.gypi</code> includes general build configurations about
building.</li>
</ul>

<h2 id="component-build">Component Build</h2>

<p>Since Chromium is quite a large project, the final linking stage can take
quite a few minutes, which makes it hard for development. In order to solve
this, Chromium introduced the &quot;component build&quot;, which builds each component as
a separate shared library, making linking very quick but sacrificing file size
and performance.</p>

<p>In Electron we took a very similar approach: for <code>Debug</code> builds, the binary
will be linked to a shared library version of Chromium&#39;s components to achieve
fast linking time; for <code>Release</code> builds, the binary will be linked to the static
library versions, so we can have the best possible binary size and performance.</p>

<h2 id="minimal-bootstrapping">Minimal Bootstrapping</h2>

<p>All of Chromium&#39;s prebuilt binaries (<code>libchromiumcontent</code>) are downloaded when
running the bootstrap script. By default both static libraries and shared
libraries will be downloaded and the final size should be between 800MB and 2GB
depending on the platform.</p>

<p>By default, <code>libchromiumcontent</code> is downloaded from Amazon Web Services.
If the <code>LIBCHROMIUMCONTENT_MIRROR</code> environment variable is set, the bootstrap
script will download from it.
<a href="https://github.com/hokein/libchromiumcontent-qiniu-mirror"><code>libchromiumcontent-qiniu-mirror</code></a>
is a mirror for <code>libchromiumcontent</code>. If you have trouble in accessing AWS, you
can switch the download address to it via
<code>export LIBCHROMIUMCONTENT_MIRROR=http://7xk3d2.dl1.z0.glb.clouddn.com/</code></p>

<p>If you only want to build Electron quickly for testing or development, you
can download just the shared library versions by passing the <code>--dev</code> parameter:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>./script/bootstrap.py --dev
<span class="nv">$ </span>./script/build.py -c D
</code></pre></div>

<h2 id="two-phase-project-generation">Two-Phase Project Generation</h2>

<p>Electron links with different sets of libraries in <code>Release</code> and <code>Debug</code>
builds. <code>gyp</code>, however, doesn&#39;t support configuring different link settings for
different configurations.</p>

<p>To work around this Electron uses a <code>gyp</code> variable
<code>libchromiumcontent_component</code> to control which link settings to use and only
generates one target when running <code>gyp</code>.</p>

<h2 id="target-names">Target Names</h2>

<p>Unlike most projects that use <code>Release</code> and <code>Debug</code> as target names, Electron
uses <code>R</code> and <code>D</code> instead. This is because <code>gyp</code> randomly crashes if there is
only one <code>Release</code> or <code>Debug</code> build configuration defined, and Electron only has
to generate one target at a time as stated above.</p>

<p>This only affects developers, if you are just building Electron for rebranding
you are not affected.</p>

<h1 id="coding-style">Coding Style</h1>

<p>These are the style guidelines for coding in Electron.</p>

<h2 id="c++-and-python">C++ and Python</h2>

<p>For C++ and Python, we follow Chromium&#39;s <a href="http://www.chromium.org/developers/coding-style">Coding
Style</a>. There is also a
script <code>script/cpplint.py</code> to check whether all files conform.</p>

<p>The Python version we are using now is Python 2.7.</p>

<p>The C++ code uses a lot of Chromium&#39;s abstractions and types, so it&#39;s
recommended to get acquainted with them. A good place to start is
Chromium&#39;s <a href="https://www.chromium.org/developers/coding-style/important-abstractions-and-data-structures">Important Abstractions and Data Structures</a>
document. The document mentions some special types, scoped types (that
automatically release their memory when going out of scope), logging mechanisms
etc.</p>

<h2 id="coffeescript">CoffeeScript</h2>

<p>For CoffeeScript, we follow GitHub&#39;s <a href="https://github.com/styleguide/javascript">Style
Guide</a> and the following rules:</p>

<ul>
<li>Files should <strong>NOT</strong> end with new line, because we want to match Google&#39;s
styles.</li>
<li>File names should be concatenated with <code>-</code> instead of <code>_</code>, e.g.
<code>file-name.coffee</code> rather than <code>file_name.coffee</code>, because in
<a href="https://github.com/github/atom">github/atom</a> module names are usually in
the <code>module-name</code> form. This rule only applies to <code>.coffee</code> files.</li>
</ul>

<h2 id="api-names">API Names</h2>

<p>When creating a new API, we should prefer getters and setters instead of
jQuery&#39;s one-function style. For example, <code>.getText()</code> and <code>.setText(text)</code>
are preferred to <code>.text([text])</code>. There is a
<a href="https://github.com/atom/electron/issues/46">discussion</a> on this.</p>

<h1 id="setting-up-symbol-server-in-debugger">Setting Up Symbol Server in Debugger</h1>

<p>Debug symbols allow you to have better debugging sessions. They have information
about the functions contained in executables and dynamic libraries and provide
you with information to get clean call stacks. A Symbol Server allows the
debugger to load the correct symbols, binaries and sources automatically without
forcing users to download large debugging files. The server functions like
<a href="http://support.microsoft.com/kb/311503">Microsoft&#39;s symbol server</a> so the
documentation there can be useful.</p>

<p>Note that because released Electron builds are heavily optimized, debugging is
not always easy. The debugger will not be able to show you the content of all
variables and the execution path can seem strange because of inlining, tail
calls, and other compiler optimizations. The only workaround is to build an
unoptimized local build.</p>

<p>The official symbol server URL for Electron is
http://54.249.141.255:8086/atom-shell/symbols.
You cannot visit this URL directly, you must add it to the symbol path of your
debugging tool. In the examples below, a local cache directory is used to avoid
repeatedly fetching the PDB from the server. Replace <code>c:\code\symbols</code> with an
appropriate cache directory on your machine.</p>

<h2 id="using-the-symbol-server-in-windbg">Using the Symbol Server in Windbg</h2>

<p>The Windbg symbol path is configured with a string value delimited with asterisk
characters. To use only the Electron symbol server, add the following entry to
your symbol path (<strong>Note:</strong> you can replace <code>c:\code\symbols</code> with any writable
directory on your computer, if you&#39;d prefer a different location for downloaded
symbols):</p>

<div class="highlight"><pre><code class="language-text" data-lang="text">SRV*c:\code\symbols\*http://54.249.141.255:8086/atom-shell/symbols
</code></pre></div>

<p>Set this string as <code>_NT_SYMBOL_PATH</code> in the environment, using the Windbg menus,
or by typing the <code>.sympath</code> command. If you would like to get symbols from
Microsoft&#39;s symbol server as well, you should list that first:</p>

<div class="highlight"><pre><code class="language-text" data-lang="text">SRV*c:\code\symbols\*http://msdl.microsoft.com/download/symbols;SRV*c:\code\symbols\*http://54.249.141.255:8086/atom-shell/symbols
</code></pre></div>

<h2 id="using-the-symbol-server-in-visual-studio">Using the symbol server in Visual Studio</h2>

<p><img src='http://mdn.mozillademos.org/files/733/symbol-server-vc8express-menu.jpg'>
<img src='http://mdn.mozillademos.org/files/2497/2005_options.gif'></p>

<h2 id="troubleshooting:-symbols-will-not-load">Troubleshooting: Symbols will not load</h2>

<p>Type the following commands in Windbg to print why symbols are not loading:</p>

<div class="highlight"><pre><code class="language-text" data-lang="text">&gt; !sym noisy
&gt; .reload /f chromiumcontent.dll
</code></pre></div>

<h1 id="source-code-directory-structure">Source Code Directory Structure</h1>

<p>The source code of Electron is separated into a few parts, mostly
following Chromium on the separation conventions.</p>

<p>You may need to become familiar with <a href="http://dev.chromium.org/developers/design-documents/multi-process-architecture">Chromium&#39;s multi-process
architecture</a>
to understand the source code better.</p>

<h2 id="structure-of-source-code">Structure of Source Code</h2>

<div class="highlight"><pre><code class="language-text" data-lang="text">Electron
â”œâ”€â”€atom - Source code of Electron.
|  â”œâ”€â”€ app - System entry code.
|  â”œâ”€â”€ browser - The frontend including the main window, UI, and all of the
|  |   main process things. This talks to the renderer to manage web pages.
|  |Â Â  â”œâ”€â”€ lib - Javascript part of the main process initialization code.
|  |   â”œâ”€â”€ ui - Implementation of UI stuff for different platforms.
|  |   |   â”œâ”€â”€ cocoa - Cocoa specific source code.
|  |   |   â”œâ”€â”€ gtk - GTK+ specific source code.
|  |   |   â””â”€â”€ win - Windows GUI specific source code.
|  |   â”œâ”€â”€ default_app - The default page to show when Electron is started
|  |   |   without providing an app.
|  |   â”œâ”€â”€ api - The implementation of the main process APIs.
|  |   |   â””â”€â”€ lib - Javascript part of the API implementation.
|  |   â”œâ”€â”€ net - Network related code.
|  |   â”œâ”€â”€ mac - Mac specific Objective-C source code.
|  |   â””â”€â”€ resources - Icons, platform-dependent files, etc.
|  â”œâ”€â”€ renderer - Code that runs in renderer process.
|  |   â”œâ”€â”€ lib - Javascript part of renderer initialization code.
|  |   â””â”€â”€ api - The implementation of renderer process APIs.
|  |       â””â”€â”€ lib - Javascript part of the API implementation.
|  â””â”€â”€ common - Code that used by both the main and renderer processes,
|      including some utility functions and code to integrate node&#39;s message
|      loop into Chromium&#39;s message loop.
|      â”œâ”€â”€ lib - Common Javascript initialization code.
|      â””â”€â”€ api - The implementation of common APIs, and foundations of
|          Electron&#39;s built-in modules.
|          â””â”€â”€ lib - Javascript part of the API implementation.
â”œâ”€â”€ chromium_src - Source code that copied from Chromium.
â”œâ”€â”€ docs - Documentations.
â”œâ”€â”€ spec - Automatic tests.
â”œâ”€â”€ atom.gyp - Building rules of Electron.
â””â”€â”€ common.gypi - Compiler specific settings and building rules for other
    components like `node` and `breakpad`.
</code></pre></div>

<h2 id="structure-of-other-directories">Structure of Other Directories</h2>

<ul>
<li><strong>script</strong> - Scripts used for development purpose like building, packaging,
testing, etc.</li>
<li><strong>tools</strong> - Helper scripts used by gyp files, unlike <code>script</code>, scripts put
here should never be invoked by users directly.</li>
<li><strong>vendor</strong> - Source code of third party dependencies, we didn&#39;t use
<code>third_party</code> as name because it would confuse it with the same directory in
Chromium&#39;s source code tree.</li>
<li><strong>node_modules</strong> - Third party node modules used for building.</li>
<li><strong>out</strong> - Temporary output directory of <code>ninja</code>.</li>
<li><strong>dist</strong> - Temporary directory created by <code>script/create-dist.py</code> script
when creating an distribution.</li>
<li><strong>external_binaries</strong> - Downloaded binaries of third-party frameworks which
do not support building with <code>gyp</code>.</li>
</ul>

<h1 id="electron-faq">Electron FAQ</h1>

<h2 id="when-will-electron-upgrade-to-latest-chrome?">When will Electron upgrade to latest Chrome?</h2>

<p>The Chrome version of Electron is usually bumped within one or two weeks after
a new stable Chrome version gets released.</p>

<p>Also we only use stable channel of Chrome, if an important fix is in beta or dev
channel, we will back-port it.</p>

<h2 id="when-will-electron-upgrade-to-latest-node.js?">When will Electron upgrade to latest Node.js?</h2>

<p>When a new version of Node.js gets released, we usually wait for about a month
before upgrading the one in Electron. So we can avoid getting affected by bugs
introduced in new Node.js versions, which happens very often.</p>

<p>New features of Node.js are usually brought by V8 upgrades, since Electron is
using the V8 shipped by Chrome browser, the shiny new JavaScript feature of a
new Node.js version is usually already in Electron.</p>

<h2 id="my-app&#39;s-window/tray-disappeared-after-a-few-minutes.">My app&#39;s window/tray disappeared after a few minutes.</h2>

<p>This happens when the variable which is used to store the window/tray gets
garbage collected.</p>

<p>It is recommended to have a reading of following articles you encountered this
problem:</p>

<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Memory_Management">Memory Management</a></li>
<li><a href="https://msdn.microsoft.com/library/bzt2dkta(v=vs.94).aspx">Variable Scope</a></li>
</ul>

<p>If you want a quick fix, you can make the variables global by changing your
code from this:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">app</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;ready&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">tray</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Tray</span><span class="p">(</span><span class="s1">&#39;/path/to/icon.png&#39;</span><span class="p">);</span>
<span class="p">})</span>
</code></pre></div>

<p>to this:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">tray</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;ready&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">tray</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Tray</span><span class="p">(</span><span class="s1">&#39;/path/to/icon.png&#39;</span><span class="p">);</span>
<span class="p">})</span>
</code></pre></div>

<h2 id="i-can-not-use-jquery/requirejs/meteor/angularjs-in-electron.">I can not use jQuery/RequireJS/Meteor/AngularJS in Electron.</h2>

<p>Due to the Node.js integration of Electron, there are some extra symbols
inserted into DOM, like <code>module</code>, <code>exports</code>, <code>require</code>. This causes troubles for
some libraries since they want to insert the symbols with same names.</p>

<p>To solve this, you can turn off node integration in Electron:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// In the main process.</span>
<span class="kd">var</span> <span class="nx">mainWindow</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BrowserWindow</span><span class="p">({</span>
  <span class="nx">webPreferences</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">nodeIntegration</span><span class="o">:</span> <span class="kc">false</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div>

<p>But if you want to keep the abilities of using Node.js and Electron APIs, you
have to rename the symbols in the page before including other libraries:</p>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;head&gt;</span>
<span class="nt">&lt;script&gt;</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">nodeRequire</span> <span class="o">=</span> <span class="nx">require</span><span class="p">;</span>
<span class="k">delete</span> <span class="nb">window</span><span class="p">.</span><span class="nx">require</span><span class="p">;</span>
<span class="k">delete</span> <span class="nb">window</span><span class="p">.</span><span class="nx">exports</span><span class="p">;</span>
<span class="k">delete</span> <span class="nb">window</span><span class="p">.</span><span class="nx">module</span><span class="p">;</span>
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src=</span><span class="s">&quot;jquery.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;/head&gt;</span>
</code></pre></div>

<h1 id="electron-documentation-styleguide">Electron Documentation Styleguide</h1>

<p>Find the appropriate section for your task: <a href="#reading-electron-documentation">reading Electron documentation</a>
or <a href="#writing-electron-documentation">writing Electron documentation</a>.</p>

<h2 id="writing-electron-documentation">Writing Electron Documentation</h2>

<p>These are the ways that we construct the Electron documentation.</p>

<ul>
<li>Maximum one <code>h1</code> title per page.</li>
<li>Use <code>bash</code> instead of <code>cmd</code> in code blocks (because of syntax highlighter).</li>
<li>Doc <code>h1</code> titles should match object name (i.e. <code>browser-window</code> â†’
<code>BrowserWindow</code>).

<ul>
<li>Hyphen separated filenames, however, are fine.</li>
</ul></li>
<li>No headers following headers, add at least a one-sentence description.</li>
<li>Methods headers are wrapped in <code>code</code> ticks.</li>
<li>Event headers are wrapped in single &#39;quotation&#39; marks.</li>
<li>No nesting lists more than 2 levels (unfortunately because of markdown
renderer).</li>
<li>Add section titles: Events, Class Methods and Instance Methods.</li>
<li>Use &#39;will&#39; over &#39;would&#39; when describing outcomes.</li>
<li>Events and methods are <code>h3</code> headers.</li>
<li>Optional arguments written as <code>function (required[, optional])</code>.</li>
<li>Optional arguments are denoted when called out in list.</li>
<li>Line length is 80-column wrapped.</li>
<li>Platform specific methods are noted in italics following method header.

<ul>
<li><code>### `method(foo, bar)` _OS X_</code></li>
</ul></li>
<li>Prefer &#39;in the ___ process&#39; over &#39;on&#39;</li>
</ul>

<h3 id="documentation-translations">Documentation Translations</h3>

<p>Translations of the Electron docs are located within the <code>docs-translations</code>
directory.</p>

<p>To add another set (or partial set):</p>

<ul>
<li>Create a subdirectory named by language abbreviation.</li>
<li>Within that subdirectory, duplicate the <code>docs</code> directory, keeping the
names of directories and files same.</li>
<li>Translate the files.</li>
<li>Update the <code>README.md</code> within your language directory to link to the files
you have translated.</li>
<li>Add a link to your translation directory on the main Electron <a href="https://github.com/atom/electron#documentation-translations">README</a>.</li>
</ul>

<h2 id="reading-electron-documentation">Reading Electron Documentation</h2>

<p>Here are some tips for understanding Electron documentation syntax.</p>

<h3 id="methods">Methods</h3>

<p>An example of <a href="https://developer.mozilla.org/en-US/docs/Glossary/Method">method</a>
documentation:</p>

<hr>

<p><code>methodName(required[, optional]))</code></p>

<ul>
<li><code>require</code> String (<strong>required</strong>)</li>
<li><code>optional</code> Integer</li>
</ul>

<hr>

<p>The method name is followed by the arguments it takes. Optional arguments are
notated by brackets surrounding the optional argument as well as the comma
required if this optional argument follows another argument.</p>

<p>Below the method is more detailed information on each of the arguments. The type
of argument is notated by either the common types:
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><code>String</code></a>,
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><code>Number</code></a>,
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><code>Object</code></a>,
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array"><code>Array</code></a>
or a custom type like Electron&#39;s api/web-content.</p>

<h3 id="events">Events</h3>

<p>An example of <a href="https://developer.mozilla.org/en-US/docs/Web/API/Event">event</a>
documentation:</p>

<hr>

<p>Event: &#39;wake-up&#39;</p>

<p>Returns:</p>

<ul>
<li><code>time</code> String</li>
</ul>

<hr>

<p>The event is a string that is used after a <code>.on</code> listener method. If it returns
a value it and its type is noted below. If you were to listen and respond to
this event it might look something like this:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">Alarm</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;wake-up&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">time</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">time</span><span class="p">)</span>
<span class="p">})</span>
</code></pre></div>

<h1 id="application-distribution">Application Distribution</h1>

<p>To distribute your app with Electron, the folder containing your app should be
named <code>app</code> and placed under Electron&#39;s resources directory (on OS X it is
<code>Electron.app/Contents/Resources/</code> and on Linux and Windows it is <code>resources/</code>),
like this:</p>

<p>On OS X:</p>

<div class="highlight"><pre><code class="language-text" data-lang="text">electron/Electron.app/Contents/Resources/app/
â”œâ”€â”€ package.json
â”œâ”€â”€ main.js
â””â”€â”€ index.html
</code></pre></div>

<p>On Windows and Linux:</p>

<div class="highlight"><pre><code class="language-text" data-lang="text">electron/resources/app
â”œâ”€â”€ package.json
â”œâ”€â”€ main.js
â””â”€â”€ index.html
</code></pre></div>

<p>Then execute <code>Electron.app</code> (or <code>electron</code> on Linux, <code>electron.exe</code> on Windows),
and Electron will start as your app. The <code>electron</code> directory will then be
your distribution to deliver to final users.</p>

<h2 id="packaging-your-app-into-a-file">Packaging Your App into a File</h2>

<p>Apart from shipping your app by copying all of its source files, you can also
package your app into an <a href="https://github.com/atom/asar">asar</a> archive to avoid
exposing your app&#39;s source code to users.</p>

<p>To use an <code>asar</code> archive to replace the <code>app</code> folder, you need to rename the
archive to <code>app.asar</code>, and put it under Electron&#39;s resources directory like
below, and Electron will then try to read the archive and start from it.</p>

<p>On OS X:</p>

<div class="highlight"><pre><code class="language-text" data-lang="text">electron/Electron.app/Contents/Resources/
â””â”€â”€ app.asar
</code></pre></div>

<p>On Windows and Linux:</p>

<div class="highlight"><pre><code class="language-text" data-lang="text">electron/resources/
â””â”€â”€ app.asar
</code></pre></div>

<p>More details can be found in <a href="http://electron.atom.io/docs/v0.36.5/tutorial/application-packaging">Application packaging</a>.</p>

<h2 id="rebranding-with-downloaded-binaries">Rebranding with Downloaded Binaries</h2>

<p>After bundling your app into Electron, you will want to rebrand Electron
before distributing it to users.</p>

<h3 id="windows">Windows</h3>

<p>You can rename <code>electron.exe</code> to any name you like, and edit its icon and other
information with tools like <a href="https://github.com/atom/rcedit">rcedit</a> or
<a href="http://www.resedit.net">ResEdit</a>.</p>

<h3 id="os-x">OS X</h3>

<p>You can rename <code>Electron.app</code> to any name you want, and you also have to rename
the <code>CFBundleDisplayName</code>, <code>CFBundleIdentifier</code> and <code>CFBundleName</code> fields in
following files:</p>

<ul>
<li><code>Electron.app/Contents/Info.plist</code></li>
<li><code>Electron.app/Contents/Frameworks/Electron Helper.app/Contents/Info.plist</code></li>
</ul>

<p>You can also rename the helper app to avoid showing <code>Electron Helper</code> in the
Activity Monitor, but make sure you have renamed the helper app&#39;s executable
file&#39;s name.</p>

<p>The structure of a renamed app would be like:</p>

<div class="highlight"><pre><code class="language-text" data-lang="text">MyApp.app/Contents
â”œâ”€â”€ Info.plist
â”œâ”€â”€ MacOS/
â”‚Â Â  â””â”€â”€ MyApp
â””â”€â”€ Frameworks/
    â”œâ”€â”€ MyApp Helper EH.app
    |   â”œâ”€â”€ Info.plist
    |   â””â”€â”€ MacOS/
    |    Â Â  â””â”€â”€ MyApp Helper EH
    â”œâ”€â”€ MyApp Helper NP.app
    |   â”œâ”€â”€ Info.plist
    |   â””â”€â”€ MacOS/
    |    Â Â  â””â”€â”€ MyApp Helper NP
    â””â”€â”€ MyApp Helper.app
        â”œâ”€â”€ Info.plist
        â””â”€â”€ MacOS/
         Â Â  â””â”€â”€ MyApp Helper
</code></pre></div>

<h3 id="linux">Linux</h3>

<p>You can rename the <code>electron</code> executable to any name you like.</p>

<h2 id="rebranding-by-rebuilding-electron-from-source">Rebranding by Rebuilding Electron from Source</h2>

<p>It is also possible to rebrand Electron by changing the product name and
building it from source. To do this you need to modify the <code>atom.gyp</code> file and
have a clean rebuild.</p>

<h3 id="grunt-build-atom-shell">grunt-build-atom-shell</h3>

<p>Manually checking out Electron&#39;s code and rebuilding could be complicated, so
a Grunt task has been created that will handle this automatically:
<a href="https://github.com/paulcbetts/grunt-build-atom-shell">grunt-build-atom-shell</a>.</p>

<p>This task will automatically handle editing the <code>.gyp</code> file, building from
source, then rebuilding your app&#39;s native Node modules to match the new
executable name.</p>

<h2 id="packaging-tools">Packaging Tools</h2>

<p>Apart from packaging your app manually, you can also choose to use third party
packaging tools to do the work for you:</p>

<ul>
<li><a href="https://github.com/maxogden/electron-packager">electron-packager</a></li>
<li><a href="https://github.com/loopline-systems/electron-builder">electron-builder</a></li>
</ul>

<h1 id="application-packaging">Application Packaging</h1>

<p>To mitigate <a href="https://github.com/joyent/node/issues/6960">issues</a> around long
path names on Windows, slightly speed up <code>require</code> and conceal your source code
from cursory inspection, you can choose to package your app into an <a href="https://github.com/atom/asar">asar</a>
archive with little changes to your source code.</p>

<h2 id="generating-asar-archive">Generating <code>asar</code> Archive</h2>

<p>An <a href="https://github.com/atom/asar">asar</a> archive is a simple tar-like format that concatenates files
into a single file. Electron can read arbitrary files from it without unpacking
the whole file.</p>

<p>Steps to package your app into an <code>asar</code> archive:</p>

<h3 id="1.-install-the-asar-utility">1. Install the asar Utility</h3>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>npm install -g asar
</code></pre></div>

<h3 id="2.-package-with-asar-pack">2. Package with <code>asar pack</code></h3>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>asar pack your-app app.asar
</code></pre></div>

<h2 id="using-asar-archives">Using <code>asar</code> Archives</h2>

<p>In Electron there are two sets of APIs: Node APIs provided by Node.js and Web
APIs provided by Chromium. Both APIs support reading files from <code>asar</code> archives.</p>

<h3 id="node-api">Node API</h3>

<p>With special patches in Electron, Node APIs like <code>fs.readFile</code> and <code>require</code>
treat <code>asar</code> archives as virtual directories, and the files in it as normal
files in the filesystem.</p>

<p>For example, suppose we have an <code>example.asar</code> archive under <code>/path/to</code>:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>asar list /path/to/example.asar
/app.js
/file.txt
/dir/module.js
/static/index.html
/static/main.css
/static/jquery.min.js
</code></pre></div>

<p>Read a file in the <code>asar</code> archive:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;fs&#39;</span><span class="p">);</span>
<span class="nx">fs</span><span class="p">.</span><span class="nx">readFileSync</span><span class="p">(</span><span class="s1">&#39;/path/to/example.asar/file.txt&#39;</span><span class="p">);</span>
</code></pre></div>

<p>List all files under the root of the archive:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;fs&#39;</span><span class="p">);</span>
<span class="nx">fs</span><span class="p">.</span><span class="nx">readdirSync</span><span class="p">(</span><span class="s1">&#39;/path/to/example.asar&#39;</span><span class="p">);</span>
</code></pre></div>

<p>Use a module from the archive:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;/path/to/example.asar/dir/module.js&#39;</span><span class="p">);</span>
</code></pre></div>

<p>You can also display a web page in an <code>asar</code> archive with <code>BrowserWindow</code>:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="nx">BrowserWindow</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;electron&#39;</span><span class="p">).</span><span class="nx">BrowserWindow</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">win</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BrowserWindow</span><span class="p">({</span><span class="nx">width</span><span class="o">:</span> <span class="mi">800</span><span class="p">,</span> <span class="nx">height</span><span class="o">:</span> <span class="mi">600</span><span class="p">});</span>
<span class="nx">win</span><span class="p">.</span><span class="nx">loadURL</span><span class="p">(</span><span class="s1">&#39;file:///path/to/example.asar/static/index.html&#39;</span><span class="p">);</span>
</code></pre></div>

<h3 id="web-api">Web API</h3>

<p>In a web page, files in an archive can be requested with the <code>file:</code> protocol.
Like the Node API, <code>asar</code> archives are treated as directories.</p>

<p>For example, to get a file with <code>$.get</code>:</p>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;script&gt;</span>
<span class="kd">var</span> <span class="nx">$</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;./jquery.min.js&#39;</span><span class="p">);</span>
<span class="nx">$</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;file:///path/to/example.asar/file.txt&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre></div>

<h3 id="treating-an-asar-archive-as-a-normal-file">Treating an <code>asar</code> Archive as a Normal File</h3>

<p>For some cases like verifying the <code>asar</code> archive&#39;s checksum, we need to read the
content of <code>asar</code> archive as file. For this purpose you can use the built-in
<code>original-fs</code> module which provides original <code>fs</code> APIs without <code>asar</code> support:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">originalFs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;original-fs&#39;</span><span class="p">);</span>
<span class="nx">originalFs</span><span class="p">.</span><span class="nx">readFileSync</span><span class="p">(</span><span class="s1">&#39;/path/to/example.asar&#39;</span><span class="p">);</span>
</code></pre></div>

<p>You can also set <code>process.noAsar</code> to <code>true</code> to disable the support for <code>asar</code> in
the <code>fs</code> module:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">process</span><span class="p">.</span><span class="nx">noAsar</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
<span class="nx">fs</span><span class="p">.</span><span class="nx">readFileSync</span><span class="p">(</span><span class="s1">&#39;/path/to/example.asar&#39;</span><span class="p">);</span>
</code></pre></div>

<h2 id="limitations-on-node-api">Limitations on Node API</h2>

<p>Even though we tried hard to make <code>asar</code> archives in the Node API work like
directories as much as possible, there are still limitations due to the
low-level nature of the Node API.</p>

<h3 id="archives-are-read-only">Archives Are Read-only</h3>

<p>The archives can not be modified so all Node APIs that can modify files will not
work with <code>asar</code> archives.</p>

<h3 id="working-directory-can-not-be-set-to-directories-in-archive">Working Directory Can Not Be Set to Directories in Archive</h3>

<p>Though <code>asar</code> archives are treated as directories, there are no actual
directories in the filesystem, so you can never set the working directory to
directories in <code>asar</code> archives. Passing them as the <code>cwd</code> option of some APIs
will also cause errors.</p>

<h3 id="extra-unpacking-on-some-apis">Extra Unpacking on Some APIs</h3>

<p>Most <code>fs</code> APIs can read a file or get a file&#39;s information from <code>asar</code> archives
without unpacking, but for some APIs that rely on passing the real file path to
underlying system calls, Electron will extract the needed file into a
temporary file and pass the path of the temporary file to the APIs to make them
work. This adds a little overhead for those APIs.</p>

<p>APIs that requires extra unpacking are:</p>

<ul>
<li><code>child_process.execFile</code></li>
<li><code>child_process.execFileSync</code></li>
<li><code>fs.open</code></li>
<li><code>fs.openSync</code></li>
<li><code>process.dlopen</code> - Used by <code>require</code> on native modules</li>
</ul>

<h3 id="fake-stat-information-of-fs.stat">Fake Stat Information of <code>fs.stat</code></h3>

<p>The <code>Stats</code> object returned by <code>fs.stat</code> and its friends on files in <code>asar</code>
archives is generated by guessing, because those files do not exist on the
filesystem. So you should not trust the <code>Stats</code> object except for getting file
size and checking file type.</p>

<h3 id="executing-binaries-inside-asar-archive">Executing Binaries Inside <code>asar</code> Archive</h3>

<p>There are Node APIs that can execute binaries like <code>child_process.exec</code>,
<code>child_process.spawn</code> and <code>child_process.execFile</code>, but only <code>execFile</code> is
supported to execute binaries inside <code>asar</code> archive.</p>

<p>This is because <code>exec</code> and <code>spawn</code> accept <code>command</code> instead of <code>file</code> as input,
and <code>command</code>s are executed under shell. There is no reliable way to determine
whether a command uses a file in asar archive, and even if we do, we can not be
sure whether we can replace the path in command without side effects.</p>

<h2 id="adding-unpacked-files-in-asar-archive">Adding Unpacked Files in <code>asar</code> Archive</h2>

<p>As stated above, some Node APIs will unpack the file to filesystem when
calling, apart from the performance issues, it could also lead to false alerts
of virus scanners.</p>

<p>To work around this, you can unpack some files creating archives by using the
<code>--unpack</code> option, an example of excluding shared libraries of native modules
is:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>asar pack app app.asar --unpack *.node
</code></pre></div>

<p>After running the command, apart from the <code>app.asar</code>, there is also an
<code>app.asar.unpacked</code> folder generated which contains the unpacked files, you
should copy it together with <code>app.asar</code> when shipping it to users.</p>

<h1 id="debugging-the-main-process">Debugging the Main Process</h1>

<p>The browser window DevTools can only debug the renderer process scripts (i.e.
the web pages). In order to provide a way to debug the scripts from the main
process, Electron has provided the <code>--debug</code> and <code>--debug-brk</code> switches.</p>

<h2 id="command-line-switches">Command Line Switches</h2>

<p>Use the following command line switches to debug Electron&#39;s main process:</p>

<h3 id="--debug=[port]"><code>--debug=[port]</code></h3>

<p>When this switch is used Electron will listen for V8 debugger protocol
messages on <code>port</code>. The default <code>port</code> is <code>5858</code>.</p>

<h3 id="--debug-brk=[port]"><code>--debug-brk=[port]</code></h3>

<p>Like <code>--debug</code> but pauses the script on the first line.</p>

<h2 id="use-node-inspector-for-debugging">Use node-inspector for Debugging</h2>

<p><strong>Note:</strong> Electron doesn&#39;t currently work very well
with node-inspector, and the main process will crash if you inspect the
<code>process</code> object under node-inspector&#39;s console.</p>

<h3 id="1.-make-sure-you-have-node-gyp-required-tools-installed">1. Make sure you have <a href="https://github.com/nodejs/node-gyp#installation">node-gyp required tools</a> installed</h3>

<h3 id="2.-install-node-inspector">2. Install <a href="https://github.com/node-inspector/node-inspector">node-inspector</a></h3>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>npm install node-inspector
</code></pre></div>

<h3 id="3.-install-a-patched-version-of-node-pre-gyp">3. Install a patched version of <code>node-pre-gyp</code></h3>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>npm install git+https://git@github.com/enlight/node-pre-gyp.git#detect-electron-runtime-in-find
</code></pre></div>

<h3 id="4.-recompile-the-node-inspector-v8-modules-for-electron-(change-the-target-to-your-electron-version-number)">4. Recompile the <code>node-inspector</code> <code>v8</code> modules for electron (change the target to your electron version number)</h3>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>node_modules/.bin/node-pre-gyp --target<span class="o">=</span>0.36.2 --runtime<span class="o">=</span>electron --fallback-to-build --directory node_modules/v8-debug/ --dist-url<span class="o">=</span>https://atom.io/download/atom-shell reinstall
<span class="nv">$ </span>node_modules/.bin/node-pre-gyp --target<span class="o">=</span>0.36.2 --runtime<span class="o">=</span>electron --fallback-to-build --directory node_modules/v8-profiler/ --dist-url<span class="o">=</span>https://atom.io/download/atom-shell reinstall
</code></pre></div>

<p>See also <a href="how-to-install-native-modules">How to install native modules</a>.</p>

<h3 id="5.-enable-debug-mode-for-electron">5. Enable debug mode for Electron</h3>

<p>You can either start Electron with a debug flag like:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>electron --debug<span class="o">=</span><span class="m">5858</span> your/app
</code></pre></div>

<p>or, to pause your script on the first line:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>electron --debug-brk<span class="o">=</span><span class="m">5858</span> your/app
</code></pre></div>

<h3 id="6.-start-the-node-inspector-server-using-electron">6. Start the <a href="https://github.com/node-inspector/node-inspector">node-inspector</a> server using electron</h3>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ ELECTRON_RUN_AS_NODE</span><span class="o">=</span><span class="nb">true </span>path/to/electron.exe node_modules/node-inspector/bin/inspector.js
</code></pre></div>

<h3 id="7.-load-the-debugger-ui">7. Load the debugger UI</h3>

<p>Open http://127.0.0.1:8080/debug?ws=127.0.0.1:8080&amp;port=5858 in the Chrome browser. You may have to click pause if starting with debug-brk to see the entry line.</p>

<h1 id="desktop-environment-integration">Desktop Environment Integration</h1>

<p>Different operating systems provide different features for integrating desktop
applications into their desktop environments. For example, on Windows,
applications can put shortcuts in the JumpList of task bar, and on Mac,
applications can put a custom menu in the dock menu.</p>

<p>This guide explains how to integrate your application into those desktop
environments with Electron APIs.</p>

<h2 id="notifications-(windows,-linux,-os-x)">Notifications (Windows, Linux, OS X)</h2>

<p>All three operating systems provide means for applications to send notifications
to the user. Electron conveniently allows developers to send notifications with
the <a href="https://notifications.spec.whatwg.org/">HTML5 Notification API</a>, using
the currently running operating system&#39;s native notification APIs to display it.</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">myNotification</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Notification</span><span class="p">(</span><span class="s1">&#39;Title&#39;</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">body</span><span class="o">:</span> <span class="s1">&#39;Lorem Ipsum Dolor Sit Amet&#39;</span>
<span class="p">});</span>

<span class="nx">myNotification</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Notification clicked&#39;</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>

<p>While code and user experience across operating systems are similar, there
are fine differences.</p>

<h3 id="windows">Windows</h3>

<ul>
<li>On Windows 10, notifications &quot;just work&quot;.</li>
<li>On Windows 8.1 and Windows 8, a shortcut to your app, with a <a href="https://msdn.microsoft.com/en-us/library/windows/desktop/dd378459(v=vs.85).aspx">Application User
Model ID</a>, must be installed to the Start screen. Note,
however, that it does not need to be pinned to the Start screen.</li>
<li>On Windows 7 and below, notifications are not supported. You can however send
&quot;balloon notifications&quot; using the <a href="../api/tray.md#traydisplayballoonoptions-windows">Tray API</a>.</li>
</ul>

<p>Furthermore, the maximum length for the notification body is 250 characters,
with the Windows team recommending that notifications should be kept to 200
characters.</p>

<h3 id="linux">Linux</h3>

<p>Notifications are sent using <code>libnotify</code>, it can show notifications on any
desktop environment that follows <a href="https://developer.gnome.org/notification-spec/">Desktop Notifications
Specification</a>, including Cinnamon, Enlightenment, Unity,
GNOME, KDE.</p>

<h3 id="os-x">OS X</h3>

<p>Notifications are straight-forward on OS X, you should however be aware of
<a href="https://developer.apple.com/library/mac/documentation/UserExperience/Conceptual/OSXHIGuidelines/NotificationCenter.html">Apple&#39;s Human Interface guidelines regarding
notifications</a>.</p>

<p>Note that notifications are limited to 256 bytes in size - and will be truncated
if you exceed that limit.</p>

<h2 id="recent-documents-(windows-&amp;-os-x)">Recent documents (Windows &amp; OS X)</h2>

<p>Windows and OS X provide easy access to a list of recent documents opened by
the application via JumpList or dock menu, respectively.</p>

<p><strong>JumpList:</strong></p>

<p><img src="http://i.msdn.microsoft.com/dynimg/IC420538.png" alt="JumpList Recent Files"></p>

<p><strong>Application dock menu:</strong></p>

<p><img src="https://cloud.githubusercontent.com/assets/639601/5069610/2aa80758-6e97-11e4-8cfb-c1a414a10774.png" height="353" width="428" ></p>

<p>To add a file to recent documents, you can use the
<a href="../api/app.md#appaddrecentdocumentpath">app.addRecentDocument</a> API:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">app</span><span class="p">.</span><span class="nx">addRecentDocument</span><span class="p">(</span><span class="s1">&#39;/Users/USERNAME/Desktop/work.type&#39;</span><span class="p">);</span>
</code></pre></div>

<p>And you can use <a href="../api/app.md#appclearrecentdocuments">app.clearRecentDocuments</a> API to empty
the recent documents list:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">app</span><span class="p">.</span><span class="nx">clearRecentDocuments</span><span class="p">();</span>
</code></pre></div>

<h3 id="windows-notes">Windows Notes</h3>

<p>In order to be able to use this feature on Windows, your application has to be
registered as a handler of the file type of the document, otherwise the file
won&#39;t appear in JumpList even after you have added it. You can find everything
on registering your application in <a href="http://msdn.microsoft.com/en-us/library/windows/desktop/ee872121(v=vs.85).aspx">Application Registration</a>.</p>

<p>When a user clicks a file from the JumpList, a new instance of your application
will be started with the path of the file added as a command line argument.</p>

<h3 id="os-x-notes">OS X Notes</h3>

<p>When a file is requested from the recent documents menu, the <code>open-file</code> event
of <code>app</code> module will be emitted for it.</p>

<h2 id="custom-dock-menu-(os-x)">Custom Dock Menu (OS X)</h2>

<p>OS X enables developers to specify a custom menu for the dock, which usually
contains some shortcuts for commonly used features of your application:</p>

<p><strong>Dock menu of Terminal.app:</strong></p>

<p><img src="https://cloud.githubusercontent.com/assets/639601/5069962/6032658a-6e9c-11e4-9953-aa84006bdfff.png" height="354" width="341" ></p>

<p>To set your custom dock menu, you can use the <code>app.dock.setMenu</code> API, which is
only available on OS X:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="nx">electron</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;electron&#39;</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">app</span> <span class="o">=</span> <span class="nx">electron</span><span class="p">.</span><span class="nx">app</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">Menu</span> <span class="o">=</span> <span class="nx">electron</span><span class="p">.</span><span class="nx">Menu</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">dockMenu</span> <span class="o">=</span> <span class="nx">Menu</span><span class="p">.</span><span class="nx">buildFromTemplate</span><span class="p">([</span>
  <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;New Window&#39;</span><span class="p">,</span> <span class="nx">click</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;New Window&#39;</span><span class="p">);</span> <span class="p">}</span> <span class="p">},</span>
  <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;New Window with Settings&#39;</span><span class="p">,</span> <span class="nx">submenu</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;Basic&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;Pro&#39;</span><span class="p">}</span>
  <span class="p">]},</span>
  <span class="p">{</span> <span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;New Command...&#39;</span><span class="p">}</span>
<span class="p">]);</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">dock</span><span class="p">.</span><span class="nx">setMenu</span><span class="p">(</span><span class="nx">dockMenu</span><span class="p">);</span>
</code></pre></div>

<h2 id="user-tasks-(windows)">User Tasks (Windows)</h2>

<p>On Windows you can specify custom actions in the <code>Tasks</code> category of JumpList,
as quoted from MSDN:</p>

<blockquote>
<p>Applications define tasks based on both the program&#39;s features and the key
things a user is expected to do with them. Tasks should be context-free, in
that the application does not need to be running for them to work. They
should also be the statistically most common actions that a normal user would
perform in an application, such as compose an email message or open the
calendar in a mail program, create a new document in a word processor, launch
an application in a certain mode, or launch one of its subcommands. An
application should not clutter the menu with advanced features that standard
users won&#39;t need or one-time actions such as registration. Do not use tasks
for promotional items such as upgrades or special offers.</p>

<p>It is strongly recommended that the task list be static. It should remain the
same regardless of the state or status of the application. While it is
possible to vary the list dynamically, you should consider that this could
confuse the user who does not expect that portion of the destination list to
change.</p>
</blockquote>

<p><strong>Tasks of Internet Explorer:</strong></p>

<p><img src="http://i.msdn.microsoft.com/dynimg/IC420539.png" alt="IE"></p>

<p>Unlike the dock menu in OS X which is a real menu, user tasks in Windows work
like application shortcuts such that when user clicks a task, a program will be
executed with specified arguments.</p>

<p>To set user tasks for your application, you can use
<a href="../api/app.md#appsetusertaskstasks">app.setUserTasks</a> API:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">app</span><span class="p">.</span><span class="nx">setUserTasks</span><span class="p">([</span>
  <span class="p">{</span>
    <span class="nx">program</span><span class="o">:</span> <span class="nx">process</span><span class="p">.</span><span class="nx">execPath</span><span class="p">,</span>
    <span class="nx">arguments</span><span class="o">:</span> <span class="s1">&#39;--new-window&#39;</span><span class="p">,</span>
    <span class="nx">iconPath</span><span class="o">:</span> <span class="nx">process</span><span class="p">.</span><span class="nx">execPath</span><span class="p">,</span>
    <span class="nx">iconIndex</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;New Window&#39;</span><span class="p">,</span>
    <span class="nx">description</span><span class="o">:</span> <span class="s1">&#39;Create a new window&#39;</span>
  <span class="p">}</span>
<span class="p">]);</span>
</code></pre></div>

<p>To clean your tasks list, just call <code>app.setUserTasks</code> with an empty array:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">app</span><span class="p">.</span><span class="nx">setUserTasks</span><span class="p">([]);</span>
</code></pre></div>

<p>The user tasks will still show even after your application closes, so the icon
and program path specified for a task should exist until your application is
uninstalled.</p>

<h2 id="thumbnail-toolbars">Thumbnail Toolbars</h2>

<p>On Windows you can add a thumbnail toolbar with specified buttons in a taskbar
layout of an application window. It provides users a way to access to a
particular window&#39;s command without restoring or activating the window.</p>

<p>From MSDN, it&#39;s illustrated:</p>

<blockquote>
<p>This toolbar is simply the familiar standard toolbar common control. It has a
maximum of seven buttons. Each button&#39;s ID, image, tooltip, and state are defined
in a structure, which is then passed to the taskbar. The application can show,
enable, disable, or hide buttons from the thumbnail toolbar as required by its
current state.</p>

<p>For example, Windows Media Player might offer standard media transport controls
such as play, pause, mute, and stop.</p>
</blockquote>

<p><strong>Thumbnail toolbar of Windows Media Player:</strong></p>

<p><img src="https://i-msdn.sec.s-msft.com/dynimg/IC420540.png" alt="player"></p>

<p>You can use <a href="../api/browser-window.md#browserwindowsetthumbarbuttonsbuttons">BrowserWindow.setThumbarButtons</a> to set
thumbnail toolbar in your application:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="nx">BrowserWindow</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;electron&#39;</span><span class="p">).</span><span class="nx">BrowserWindow</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">path</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;path&#39;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">win</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BrowserWindow</span><span class="p">({</span>
  <span class="nx">width</span><span class="o">:</span> <span class="mi">800</span><span class="p">,</span>
  <span class="nx">height</span><span class="o">:</span> <span class="mi">600</span>
<span class="p">});</span>
<span class="nx">win</span><span class="p">.</span><span class="nx">setThumbarButtons</span><span class="p">([</span>
  <span class="p">{</span>
    <span class="nx">tooltip</span><span class="o">:</span> <span class="s2">&quot;button1&quot;</span><span class="p">,</span>
    <span class="nx">icon</span><span class="o">:</span> <span class="nx">path</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span> <span class="s1">&#39;button1.png&#39;</span><span class="p">),</span>
    <span class="nx">click</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;button2 clicked&quot;</span><span class="p">);</span> <span class="p">}</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">tooltip</span><span class="o">:</span> <span class="s2">&quot;button2&quot;</span><span class="p">,</span>
    <span class="nx">icon</span><span class="o">:</span> <span class="nx">path</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span> <span class="s1">&#39;button2.png&#39;</span><span class="p">),</span>
    <span class="nx">flags</span><span class="o">:</span><span class="p">[</span><span class="s1">&#39;enabled&#39;</span><span class="p">,</span> <span class="s1">&#39;dismissonclick&#39;</span><span class="p">],</span>
    <span class="nx">click</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;button2 clicked.&quot;</span><span class="p">);</span> <span class="p">}</span>
  <span class="p">}</span>
<span class="p">]);</span>
</code></pre></div>

<p>To clean thumbnail toolbar buttons, just call <code>BrowserWindow.setThumbarButtons</code>
with an empty array:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">win</span><span class="p">.</span><span class="nx">setThumbarButtons</span><span class="p">([]);</span>
</code></pre></div>

<h2 id="unity-launcher-shortcuts-(linux)">Unity Launcher Shortcuts (Linux)</h2>

<p>In Unity, you can add custom entries to its launcher via modifying the
<code>.desktop</code> file, see <a href="https://help.ubuntu.com/community/UnityLaunchersAndDesktopFiles#Adding_shortcuts_to_a_launcher">Adding Shortcuts to a Launcher</a>.</p>

<p><strong>Launcher shortcuts of Audacious:</strong></p>

<p><img src="https://help.ubuntu.com/community/UnityLaunchersAndDesktopFiles?action=AttachFile&amp;do=get&amp;target=shortcuts.png" alt="audacious"></p>

<h2 id="progress-bar-in-taskbar-(windows-&amp;-unity)">Progress Bar in Taskbar (Windows &amp; Unity)</h2>

<p>On Windows a taskbar button can be used to display a progress bar. This enables
a window to provide progress information to the user without the user having to
switch to the window itself.</p>

<p>The Unity DE also has a similar feature that allows you to specify the progress
bar in the launcher.</p>

<p><strong>Progress bar in taskbar button:</strong></p>

<p><img src="https://cloud.githubusercontent.com/assets/639601/5081682/16691fda-6f0e-11e4-9676-49b6418f1264.png" alt="Taskbar Progress Bar"></p>

<p><strong>Progress bar in Unity launcher:</strong></p>

<p><img src="https://cloud.githubusercontent.com/assets/639601/5081747/4a0a589e-6f0f-11e4-803f-91594716a546.png" alt="Unity Launcher"></p>

<p>To set the progress bar for a Window, you can use the
<a href="../api/browser-window.md#browserwindowsetprogressbarprogress">BrowserWindow.setProgressBar</a> API:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nb">window</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BrowserWindow</span><span class="p">({...});</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">setProgressBar</span><span class="p">(</span><span class="mf">0.5</span><span class="p">);</span>
</code></pre></div>

<h2 id="represented-file-of-window-(os-x)">Represented File of Window (OS X)</h2>

<p>On OS X a window can set its represented file, so the file&#39;s icon can show in
the title bar and when users Command-Click or Control-Click on the title a path
popup will show.</p>

<p>You can also set the edited state of a window so that the file icon can indicate
whether the document in this window has been modified.</p>

<p><strong>Represented file popup menu:</strong></p>

<p><img src="https://cloud.githubusercontent.com/assets/639601/5082061/670a949a-6f14-11e4-987a-9aaa04b23c1d.png" height="232" width="663" ></p>

<p>To set the represented file of window, you can use the
<a href="../api/browser-window.md#browserwindowsetrepresentedfilenamefilename">BrowserWindow.setRepresentedFilename</a> and
<a href="../api/browser-window.md#browserwindowsetdocumenteditededited">BrowserWindow.setDocumentEdited</a> APIs:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nb">window</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BrowserWindow</span><span class="p">({...});</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">setRepresentedFilename</span><span class="p">(</span><span class="s1">&#39;/etc/passwd&#39;</span><span class="p">);</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">setDocumentEdited</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
</code></pre></div>

<h1 id="devtools-extension">DevTools Extension</h1>

<p>To make debugging easier, Electron has basic support for the
<a href="https://developer.chrome.com/extensions/devtools">Chrome DevTools Extension</a>.</p>

<p>For most DevTools extensions you can simply download the source code and use
the <code>BrowserWindow.addDevToolsExtension</code> API to load them. The loaded extensions
will be remembered so you don&#39;t need to call the API every time when creating
a window.</p>

<p>** NOTE: React DevTools does not work, follow the issue here https://github.com/atom/electron/issues/915 **</p>

<p>For example, to use the <a href="https://github.com/facebook/react-devtools">React DevTools Extension</a>
, first you need to download its source code:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span><span class="nb">cd</span> /some-directory
<span class="nv">$ </span>git clone --recursive https://github.com/facebook/react-devtools.git
</code></pre></div>

<p>Follow the instructions in <a href="https://github.com/facebook/react-devtools/blob/master/shells/chrome/Readme.md"><code>react-devtools/shells/chrome/Readme.md</code></a> to build the extension.</p>

<p>Then you can load the extension in Electron by opening DevTools in any window,
and running the following code in the DevTools console:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="nx">BrowserWindow</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;electron&#39;</span><span class="p">).</span><span class="nx">remote</span><span class="p">.</span><span class="nx">BrowserWindow</span><span class="p">;</span>
<span class="nx">BrowserWindow</span><span class="p">.</span><span class="nx">addDevToolsExtension</span><span class="p">(</span><span class="s1">&#39;/some-directory/react-devtools/shells/chrome&#39;</span><span class="p">);</span>
</code></pre></div>

<p>To unload the extension, you can call the <code>BrowserWindow.removeDevToolsExtension</code>
API with its name and it will not load the next time you open the DevTools:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">BrowserWindow</span><span class="p">.</span><span class="nx">removeDevToolsExtension</span><span class="p">(</span><span class="s1">&#39;React Developer Tools&#39;</span><span class="p">);</span>
</code></pre></div>

<h2 id="format-of-devtools-extension">Format of DevTools Extension</h2>

<p>Ideally all DevTools extensions written for the Chrome browser can be loaded by
Electron, but they have to be in a plain directory. For those packaged with
<code>crx</code> extensions, there is no way for Electron to load them unless you find a
way to extract them into a directory.</p>

<h2 id="background-pages">Background Pages</h2>

<p>Currently Electron doesn&#39;t support the background pages feature in Chrome
extensions, so some DevTools extensions that rely on this feature may
not work in Electron.</p>

<h2 id="chrome.*-apis"><code>chrome.*</code> APIs</h2>

<p>Some Chrome extensions may use <code>chrome.*</code> APIs for features and while there has
been some effort to implement those APIs in Electron, not all have been
implemented.</p>

<p>Given that not all <code>chrome.*</code> APIs are implemented if the DevTools extension is
using APIs other than <code>chrome.devtools.*</code>, the extension is very likely not to
work. You can report failing extensions in the issue tracker so that we can add
support for those APIs.</p>

<h1 id="mac-app-store-submission-guide">Mac App Store Submission Guide</h1>

<p>Since v0.34.0, Electron allows submitting packaged apps to the Mac App Store
(MAS). This guide provides information on: how to submit your app and the
limitations of the MAS build.</p>

<p><strong>Note:</strong> Submitting an app to Mac App Store requires enrolling <a href="https://developer.apple.com/support/compare-memberships/">Apple Developer
Program</a>, which costs money.</p>

<h2 id="how-to-submit-your-app">How to Submit Your App</h2>

<p>The following steps introduce a simple way to submit your app to Mac App Store.
However, these steps do not ensure your app will be approved by Apple; you
still need to read Apple&#39;s <a href="https://developer.apple.com/library/mac/documentation/IDEs/Conceptual/AppDistributionGuide/SubmittingYourApp/SubmittingYourApp.html">Submitting Your App</a> guide on
how to meet the Mac App Store requirements.</p>

<h3 id="get-certificate">Get Certificate</h3>

<p>To submit your app to the Mac App Store, you first must get a certificate from
Apple. You can follow these <a href="https://github.com/nwjs/nw.js/wiki/Mac-App-Store-%28MAS%29-Submission-Guideline#first-steps">existing guides</a> on web.</p>

<h3 id="sign-your-app">Sign Your App</h3>

<p>After getting the certificate from Apple, you can package your app by following
<a href="http://electron.atom.io/docs/v0.36.5/tutorial/application-distribution">Application Distribution</a>, and then proceed to
signing your app. This step is basically the same with other programs, but the
key is to sign every dependency of Electron one by one.</p>

<p>First, you need to prepare two entitlements files.</p>

<p><code>child.plist</code>:</p>

<div class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="cp">&lt;!DOCTYPE plist PUBLIC &quot;-//Apple//DTD PLIST 1.0//EN&quot; &quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;&gt;</span>
<span class="nt">&lt;plist</span> <span class="na">version=</span><span class="s">&quot;1.0&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;dict&gt;</span>
    <span class="nt">&lt;key&gt;</span>com.apple.security.app-sandbox<span class="nt">&lt;/key&gt;</span>
    <span class="nt">&lt;true/&gt;</span>
    <span class="nt">&lt;key&gt;</span>com.apple.security.inherit<span class="nt">&lt;/key&gt;</span>
    <span class="nt">&lt;true/&gt;</span>
  <span class="nt">&lt;/dict&gt;</span>
<span class="nt">&lt;/plist&gt;</span>
</code></pre></div>

<p><code>parent.plist</code>:</p>

<div class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="cp">&lt;!DOCTYPE plist PUBLIC &quot;-//Apple//DTD PLIST 1.0//EN&quot; &quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;&gt;</span>
<span class="nt">&lt;plist</span> <span class="na">version=</span><span class="s">&quot;1.0&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;dict&gt;</span>
    <span class="nt">&lt;key&gt;</span>com.apple.security.app-sandbox<span class="nt">&lt;/key&gt;</span>
    <span class="nt">&lt;true/&gt;</span>
  <span class="nt">&lt;/dict&gt;</span>
<span class="nt">&lt;/plist&gt;</span>
</code></pre></div>

<p>And then sign your app with the following script:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c">#!/bin/bash</span>

<span class="c"># Name of your app.</span>
<span class="nv">APP</span><span class="o">=</span><span class="s2">&quot;YourApp&quot;</span>
<span class="c"># The path of you app to sign.</span>
<span class="nv">APP_PATH</span><span class="o">=</span><span class="s2">&quot;/path/to/YouApp.app&quot;</span>
<span class="c"># The path to the location you want to put the signed package.</span>
<span class="nv">RESULT_PATH</span><span class="o">=</span><span class="s2">&quot;~/Desktop/$APP.pkg&quot;</span>
<span class="c"># The name of certificates you requested.</span>
<span class="nv">APP_KEY</span><span class="o">=</span><span class="s2">&quot;3rd Party Mac Developer Application: Company Name (APPIDENTITY)&quot;</span>
<span class="nv">INSTALLER_KEY</span><span class="o">=</span><span class="s2">&quot;3rd Party Mac Developer Installer: Company Name (APPIDENTITY)&quot;</span>

<span class="nv">FRAMEWORKS_PATH</span><span class="o">=</span><span class="s2">&quot;$APP_PATH/Contents/Frameworks&quot;</span>

codesign --deep -fs <span class="s2">&quot;$APP_KEY&quot;</span> --entitlements child.plist <span class="s2">&quot;$FRAMEWORKS_PATH/Electron Framework.framework/Libraries/libnode.dylib&quot;</span>
codesign --deep -fs <span class="s2">&quot;$APP_KEY&quot;</span> --entitlements child.plist <span class="s2">&quot;$FRAMEWORKS_PATH/Electron Framework.framework/Electron Framework&quot;</span>
codesign --deep -fs <span class="s2">&quot;$APP_KEY&quot;</span> --entitlements child.plist <span class="s2">&quot;$FRAMEWORKS_PATH/Electron Framework.framework/&quot;</span>
codesign --deep -fs <span class="s2">&quot;$APP_KEY&quot;</span> --entitlements child.plist <span class="s2">&quot;$FRAMEWORKS_PATH/$APP Helper.app/&quot;</span>
codesign --deep -fs <span class="s2">&quot;$APP_KEY&quot;</span> --entitlements child.plist <span class="s2">&quot;$FRAMEWORKS_PATH/$APP Helper EH.app/&quot;</span>
codesign --deep -fs <span class="s2">&quot;$APP_KEY&quot;</span> --entitlements child.plist <span class="s2">&quot;$FRAMEWORKS_PATH/$APP Helper NP.app/&quot;</span>
codesign  -fs <span class="s2">&quot;$APP_KEY&quot;</span> --entitlements parent.plist <span class="s2">&quot;$APP_PATH&quot;</span>
productbuild --component <span class="s2">&quot;$APP_PATH&quot;</span> /Applications --sign <span class="s2">&quot;$INSTALLER_KEY&quot;</span> <span class="s2">&quot;$RESULT_PATH&quot;</span>
</code></pre></div>

<p>If you are new to app sandboxing under OS X, you should also read through
Apple&#39;s <a href="https://developer.apple.com/library/ios/documentation/Miscellaneous/Reference/EntitlementKeyReference/Chapters/EnablingAppSandbox.html">Enabling App Sandbox</a> to have a basic idea, then
add keys for the permissions needed by your app to the entitlements files.</p>

<h3 id="upload-your-app-and-submit-for-review">Upload Your App and Submit for Review</h3>

<p>After signing your app, you can use Application Loader to upload it to iTunes
Connect for processing, making sure you have <a href="https://developer.apple.com/library/ios/documentation/LanguagesUtilities/Conceptual/iTunesConnect_Guide/Chapters/CreatingiTunesConnectRecord.html">created a record</a>
before uploading. Then you can <a href="https://developer.apple.com/library/ios/documentation/LanguagesUtilities/Conceptual/iTunesConnect_Guide/Chapters/SubmittingTheApp.html">submit your app for review</a>.</p>

<h2 id="limitations-of-mas-build">Limitations of MAS Build</h2>

<p>In order to satisfy all requirements for app sandboxing, the following modules
have been disabled in the MAS build:</p>

<ul>
<li><code>crash-reporter</code></li>
<li><code>auto-updater</code></li>
</ul>

<p>and the following behaviors have been changed:</p>

<ul>
<li>Video capture may not work for some machines.</li>
<li>Certain accessibility features may not work.</li>
<li>Apps will not be aware of DNS changes.</li>
</ul>

<p>Also, due to the usage of app sandboxing, the resources which can be accessed by
 the app are strictly limited; you can read <a href="https://developer.apple.com/app-sandboxing/">App Sandboxing</a> for
 more information.</p>

<h1 id="online/offline-event-detection">Online/Offline Event Detection</h1>

<p>Online and offline event detection can be implemented in the renderer process
using standard HTML5 APIs, as shown in the following example.</p>

<p><em>main.js</em></p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="nx">electron</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;electron&#39;</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">app</span> <span class="o">=</span> <span class="nx">electron</span><span class="p">.</span><span class="nx">app</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">BrowserWindow</span> <span class="o">=</span> <span class="nx">electron</span><span class="p">.</span><span class="nx">BrowserWindow</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">onlineStatusWindow</span><span class="p">;</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;ready&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">onlineStatusWindow</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BrowserWindow</span><span class="p">({</span> <span class="nx">width</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">height</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">show</span><span class="o">:</span> <span class="kc">false</span> <span class="p">});</span>
  <span class="nx">onlineStatusWindow</span><span class="p">.</span><span class="nx">loadURL</span><span class="p">(</span><span class="s1">&#39;file://&#39;</span> <span class="o">+</span> <span class="nx">__dirname</span> <span class="o">+</span> <span class="s1">&#39;/online-status.html&#39;</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>

<p><em>online-status.html</em></p>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;body&gt;</span>
<span class="nt">&lt;script&gt;</span>
  <span class="kd">var</span> <span class="nx">alertOnlineStatus</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nb">window</span><span class="p">.</span><span class="nx">alert</span><span class="p">(</span><span class="nx">navigator</span><span class="p">.</span><span class="nx">onLine</span> <span class="o">?</span> <span class="s1">&#39;online&#39;</span> <span class="o">:</span> <span class="s1">&#39;offline&#39;</span><span class="p">);</span>
  <span class="p">};</span>

  <span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;online&#39;</span><span class="p">,</span>  <span class="nx">alertOnlineStatus</span><span class="p">);</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;offline&#39;</span><span class="p">,</span>  <span class="nx">alertOnlineStatus</span><span class="p">);</span>

  <span class="nx">alertOnlineStatus</span><span class="p">();</span>
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div>

<p>There may be instances where you want to respond to these events in the
main process as well. The main process however does not have a
<code>navigator</code> object and thus cannot detect these events directly. Using
Electron&#39;s inter-process communication utilities, the events can be forwarded
to the main process and handled as needed, as shown in the following example.</p>

<p><em>main.js</em></p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="nx">electron</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;electron&#39;</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">app</span> <span class="o">=</span> <span class="nx">electron</span><span class="p">.</span><span class="nx">app</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">ipcMain</span> <span class="o">=</span> <span class="nx">electron</span><span class="p">.</span><span class="nx">ipcMain</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">BrowserWindow</span> <span class="o">=</span> <span class="nx">electron</span><span class="p">.</span><span class="nx">BrowserWindow</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">onlineStatusWindow</span><span class="p">;</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;ready&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">onlineStatusWindow</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BrowserWindow</span><span class="p">({</span> <span class="nx">width</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">height</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">show</span><span class="o">:</span> <span class="kc">false</span> <span class="p">});</span>
  <span class="nx">onlineStatusWindow</span><span class="p">.</span><span class="nx">loadURL</span><span class="p">(</span><span class="s1">&#39;file://&#39;</span> <span class="o">+</span> <span class="nx">__dirname</span> <span class="o">+</span> <span class="s1">&#39;/online-status.html&#39;</span><span class="p">);</span>
<span class="p">});</span>

<span class="nx">ipcMain</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;online-status-changed&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">status</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">status</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>

<p><em>online-status.html</em></p>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;body&gt;</span>
<span class="nt">&lt;script&gt;</span>
  <span class="kr">const</span> <span class="nx">ipcRenderer</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;electron&#39;</span><span class="p">).</span><span class="nx">ipcRenderer</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">updateOnlineStatus</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">ipcRenderer</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">&#39;online-status-changed&#39;</span><span class="p">,</span> <span class="nx">navigator</span><span class="p">.</span><span class="nx">onLine</span> <span class="o">?</span> <span class="s1">&#39;online&#39;</span> <span class="o">:</span> <span class="s1">&#39;offline&#39;</span><span class="p">);</span>
  <span class="p">};</span>

  <span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;online&#39;</span><span class="p">,</span>  <span class="nx">updateOnlineStatus</span><span class="p">);</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;offline&#39;</span><span class="p">,</span>  <span class="nx">updateOnlineStatus</span><span class="p">);</span>

  <span class="nx">updateOnlineStatus</span><span class="p">();</span>
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div>

<h1 id="quick-start">Quick Start</h1>

<p>Electron enables you to create desktop applications with pure JavaScript by
providing a runtime with rich native (operating system) APIs. You could see it
as a variant of the Node.js runtime that is focused on desktop applications
instead of web servers.</p>

<p>This doesn&#39;t mean Electron is a JavaScript binding to graphical user interface
(GUI) libraries. Instead, Electron uses web pages as its GUI, so you could also
see it as a minimal Chromium browser, controlled by JavaScript.</p>

<h3 id="main-process">Main Process</h3>

<p>In Electron, the process that runs <code>package.json</code>&#39;s <code>main</code> script is called
<strong>the main process</strong>. The script that runs in the main process can display a GUI
by creating web pages.</p>

<h3 id="renderer-process">Renderer Process</h3>

<p>Since Electron uses Chromium for displaying web pages, Chromium&#39;s
multi-process architecture is also used. Each web page in Electron runs in
its own process, which is called <strong>the renderer process</strong>.</p>

<p>In normal browsers, web pages usually run in a sandboxed environment and are not
allowed access to native resources. Electron users, however, have the power to
use Node.js APIs in web pages allowing lower level operating system
interactions.</p>

<h3 id="differences-between-main-process-and-renderer-process">Differences Between Main Process and Renderer Process</h3>

<p>The main process creates web pages by creating <code>BrowserWindow</code> instances. Each
<code>BrowserWindow</code> instance runs the web page in its own renderer process. When a
<code>BrowserWindow</code> instance is destroyed, the corresponding renderer process
is also terminated.</p>

<p>The main process manages all web pages and their corresponding renderer
processes. Each renderer process is isolated and only cares
about the web page running in it.</p>

<p>In web pages, calling native GUI related APIs is not allowed because managing
native GUI resources in web pages is very dangerous and it is easy to leak
resources. If you want to perform GUI operations in a web page, the renderer
process of the web page must communicate with the main process to request that
the main process perform those operations.</p>

<p>In Electron, we have provided the <a href="http://electron.atom.io/docs/v0.36.5/api/ipc-renderer">ipc</a> module for
communication between the main process and renderer process. There is also a
<a href="http://electron.atom.io/docs/v0.36.5/api/remote">remote</a> module for RPC style communication.</p>

<h2 id="write-your-first-electron-app">Write your First Electron App</h2>

<p>Generally, an Electron app is structured like this:</p>

<div class="highlight"><pre><code class="language-text" data-lang="text">your-app/
â”œâ”€â”€ package.json
â”œâ”€â”€ main.js
â””â”€â”€ index.html
</code></pre></div>

<p>The format of <code>package.json</code> is exactly the same as that of Node&#39;s modules, and
the script specified by the <code>main</code> field is the startup script of your app,
which will run the main process. An example of your <code>package.json</code> might look
like this:</p>

<div class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span>
  <span class="nt">&quot;name&quot;</span>    <span class="p">:</span> <span class="s2">&quot;your-app&quot;</span><span class="p">,</span>
  <span class="nt">&quot;version&quot;</span> <span class="p">:</span> <span class="s2">&quot;0.1.0&quot;</span><span class="p">,</span>
  <span class="nt">&quot;main&quot;</span>    <span class="p">:</span> <span class="s2">&quot;main.js&quot;</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Note</strong>: If the <code>main</code> field is not present in <code>package.json</code>, Electron will
attempt to load an <code>index.js</code>.</p>

<p>The <code>main.js</code> should create windows and handle system events, a typical
example being:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="s1">&#39;use strict&#39;</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">electron</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;electron&#39;</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">app</span> <span class="o">=</span> <span class="nx">electron</span><span class="p">.</span><span class="nx">app</span><span class="p">;</span>  <span class="c1">// Module to control application life.</span>
<span class="kr">const</span> <span class="nx">BrowserWindow</span> <span class="o">=</span> <span class="nx">electron</span><span class="p">.</span><span class="nx">BrowserWindow</span><span class="p">;</span>  <span class="c1">// Module to create native browser window.</span>

<span class="c1">// Keep a global reference of the window object, if you don&#39;t, the window will</span>
<span class="c1">// be closed automatically when the JavaScript object is garbage collected.</span>
<span class="kd">var</span> <span class="nx">mainWindow</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>

<span class="c1">// Quit when all windows are closed.</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;window-all-closed&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// On OS X it is common for applications and their menu bar</span>
  <span class="c1">// to stay active until the user quits explicitly with Cmd + Q</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">process</span><span class="p">.</span><span class="nx">platform</span> <span class="o">!=</span> <span class="s1">&#39;darwin&#39;</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">app</span><span class="p">.</span><span class="nx">quit</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">});</span>

<span class="c1">// This method will be called when Electron has finished</span>
<span class="c1">// initialization and is ready to create browser windows.</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;ready&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// Create the browser window.</span>
  <span class="nx">mainWindow</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BrowserWindow</span><span class="p">({</span><span class="nx">width</span><span class="o">:</span> <span class="mi">800</span><span class="p">,</span> <span class="nx">height</span><span class="o">:</span> <span class="mi">600</span><span class="p">});</span>

  <span class="c1">// and load the index.html of the app.</span>
  <span class="nx">mainWindow</span><span class="p">.</span><span class="nx">loadURL</span><span class="p">(</span><span class="s1">&#39;file://&#39;</span> <span class="o">+</span> <span class="nx">__dirname</span> <span class="o">+</span> <span class="s1">&#39;/index.html&#39;</span><span class="p">);</span>

  <span class="c1">// Open the DevTools.</span>
  <span class="nx">mainWindow</span><span class="p">.</span><span class="nx">webContents</span><span class="p">.</span><span class="nx">openDevTools</span><span class="p">();</span>

  <span class="c1">// Emitted when the window is closed.</span>
  <span class="nx">mainWindow</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;closed&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Dereference the window object, usually you would store windows</span>
    <span class="c1">// in an array if your app supports multi windows, this is the time</span>
    <span class="c1">// when you should delete the corresponding element.</span>
    <span class="nx">mainWindow</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
  <span class="p">});</span>
<span class="p">});</span>
</code></pre></div>

<p>Finally the <code>index.html</code> is the web page you want to show:</p>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
  <span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">&quot;UTF-8&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;title&gt;</span>Hello World!<span class="nt">&lt;/title&gt;</span>
  <span class="nt">&lt;/head&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;h1&gt;</span>Hello World!<span class="nt">&lt;/h1&gt;</span>
    We are using node <span class="nt">&lt;script&gt;</span><span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="nx">process</span><span class="p">.</span><span class="nx">versions</span><span class="p">.</span><span class="nx">node</span><span class="p">)</span><span class="nt">&lt;/script&gt;</span>,
    Chrome <span class="nt">&lt;script&gt;</span><span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="nx">process</span><span class="p">.</span><span class="nx">versions</span><span class="p">.</span><span class="nx">chrome</span><span class="p">)</span><span class="nt">&lt;/script&gt;</span>,
    and Electron <span class="nt">&lt;script&gt;</span><span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="nx">process</span><span class="p">.</span><span class="nx">versions</span><span class="p">.</span><span class="nx">electron</span><span class="p">)</span><span class="nt">&lt;/script&gt;</span>.
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div>

<h2 id="run-your-app">Run your app</h2>

<p>Once you&#39;ve created your initial <code>main.js</code>, <code>index.html</code>, and <code>package.json</code> files,
you&#39;ll probably want to try running your app locally to test it and make sure it&#39;s
working as expected.</p>

<h3 id="electron-prebuilt">electron-prebuilt</h3>

<p>If you&#39;ve installed <code>electron-prebuilt</code> globally with <code>npm</code>, then you will only need
to run the following in your app&#39;s source directory:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">electron .
</code></pre></div>

<p>If you&#39;ve installed it locally, then run:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">./node_modules/.bin/electron .
</code></pre></div>

<h3 id="manually-downloaded-electron-binary">Manually Downloaded Electron Binary</h3>

<p>If you downloaded Electron manually, you can also use the included
binary to execute your app directly.</p>

<h4 id="windows">Windows</h4>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>.<span class="se">\e</span>lectron<span class="se">\e</span>lectron.exe your-app<span class="se">\</span>
</code></pre></div>

<h4 id="linux">Linux</h4>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>./electron/electron your-app/
</code></pre></div>

<h4 id="os-x">OS X</h4>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>./Electron.app/Contents/MacOS/Electron your-app/
</code></pre></div>

<p><code>Electron.app</code> here is part of the Electron&#39;s release package, you can download
it from <a href="https://github.com/atom/electron/releases">here</a>.</p>

<h3 id="run-as-a-distribution">Run as a distribution</h3>

<p>After you&#39;re done writing your app, you can create a distribution by
following the <a href="http://electron.atom.io/docs/v0.36.5/tutorial/application-distribution">Application Distribution</a> guide
and then executing the packaged app.</p>

<h3 id="try-this-example">Try this Example</h3>

<p>Clone and run the code in this tutorial by using the <a href="https://github.com/atom/electron-quick-start"><code>atom/electron-quick-start</code></a>
repository.</p>

<p><strong>Note</strong>: Running this requires <a href="https://git-scm.com">Git</a> and <a href="https://nodejs.org/en/download/">Node.js</a> (which includes <a href="https://npmjs.org">npm</a>) on your system.</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># Clone the repository</span>
<span class="nv">$ </span>git clone https://github.com/atom/electron-quick-start
<span class="c"># Go into the repository</span>
<span class="nv">$ </span><span class="nb">cd </span>electron-quick-start
<span class="c"># Install dependencies and run the app</span>
<span class="nv">$ </span>npm install <span class="o">&amp;&amp;</span> npm start
</code></pre></div>

<h1 id="supported-platforms">Supported Platforms</h1>

<p>Following platforms are supported by Electron:</p>

<h3 id="os-x">OS X</h3>

<p>Only 64bit binaries are provided for OS X, and the minimum OS X version
supported is OS X 10.8.</p>

<h3 id="windows">Windows</h3>

<p>Windows 7 and later are supported, older operating systems are not supported
(and do not work).</p>

<p>Both <code>x86</code> and <code>amd64</code> (x64) binaries are provided for Windows. Please note, the
<code>ARM</code> version of Windows is not supported for now.</p>

<h3 id="linux">Linux</h3>

<p>The prebuilt <code>ia32</code>(<code>i686</code>) and <code>x64</code>(<code>amd64</code>) binaries of Electron are built on
Ubuntu 12.04, the <code>arm</code> binary is built against ARM v7 with hard-float ABI and
NEON for Debian Wheezy.</p>

<p>Whether the prebuilt binary can run on a distribution depends on whether the
distribution includes the libraries that Electron is linked to on the building
platform, so only Ubuntu 12.04 is guaranteed to work, but following platforms
are also verified to be able to run the prebuilt binaries of Electron:</p>

<ul>
<li>Ubuntu 12.04 and later</li>
<li>Fedora 21</li>
<li>Debian 8</li>
</ul>

<h1 id="using-native-node-modules">Using Native Node Modules</h1>

<p>The native Node modules are supported by Electron, but since Electron is
using a different V8 version from official Node, you have to manually specify
the location of Electron&#39;s headers when building native modules.</p>

<h2 id="native-node-module-compatibility">Native Node Module Compatibility</h2>

<p>Native modules might break when Node starts using a new version of V8.
To make sure the module you&#39;re interested in will work with Electron, you should
check if it supports the internal Node version used by Electron.
You can check what version of Node is used in Electron by looking it up in
the <a href="https://github.com/atom/electron/releases">releases</a> page or by using
<code>process.version</code> (see <a href="https://github.com/atom/electron/blob/master/docs/tutorial/quick-start.md">Quick Start</a>
for example).</p>

<p>Consider using <a href="https://github.com/nodejs/nan/">NAN</a> for your own modules, since
it makes it easier to support multiple versions of Node. It&#39;s also helpful for
porting old modules to newer versions of Node so they can work with Electron.</p>

<h2 id="how-to-install-native-modules">How to Install Native Modules</h2>

<p>Three ways to install native modules:</p>

<h3 id="the-easy-way">The Easy Way</h3>

<p>The most straightforward way to rebuild native modules is via the
<a href="https://github.com/paulcbetts/electron-rebuild"><code>electron-rebuild</code></a> package,
which handles the manual steps of downloading headers and building native modules:</p>

<div class="highlight"><pre><code class="language-sh" data-lang="sh">npm install --save-dev electron-rebuild

<span class="c"># Every time you run &quot;npm install&quot;, run this</span>
./node_modules/.bin/electron-rebuild

<span class="c"># On Windows if you have trouble, try:</span>
.<span class="se">\n</span>ode_modules<span class="se">\.</span>bin<span class="se">\e</span>lectron-rebuild.cmd
</code></pre></div>

<h3 id="the-npm-way">The npm Way</h3>

<p>You can also use <code>npm</code> to install modules. The steps are exactly the same with
Node modules, except that you need to setup some environment variables:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">export </span><span class="nv">npm_config_disturl</span><span class="o">=</span>https://atom.io/download/atom-shell
<span class="nb">export </span><span class="nv">npm_config_target</span><span class="o">=</span>0.33.1
<span class="nb">export </span><span class="nv">npm_config_arch</span><span class="o">=</span>x64
<span class="nb">export </span><span class="nv">npm_config_runtime</span><span class="o">=</span>electron
<span class="nv">HOME</span><span class="o">=</span>~/.electron-gyp npm install module-name
</code></pre></div>

<h3 id="the-node-gyp-way">The node-gyp Way</h3>

<p>To build Node modules with headers of Electron, you need to tell <code>node-gyp</code>
where to download headers and which version to use:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span><span class="nb">cd</span> /path-to-module/
<span class="nv">$ HOME</span><span class="o">=</span>~/.electron-gyp node-gyp rebuild --target<span class="o">=</span>0.29.1 --arch<span class="o">=</span>x64 --dist-url<span class="o">=</span>https://atom.io/download/atom-shell
</code></pre></div>

<p>The <code>HOME=~/.electron-gyp</code> changes where to find development headers. The
<code>--target=0.29.1</code> is version of Electron. The <code>--dist-url=...</code> specifies
where to download the headers. The <code>--arch=x64</code> says the module is built for
64bit system.</p>

<h1 id="using-pepper-flash-plugin">Using Pepper Flash Plugin</h1>

<p>Electron now supports the Pepper Flash plugin. To use the Pepper Flash plugin in
Electron, you should manually specify the location of the Pepper Flash plugin
and then enable it in your application.</p>

<h2 id="prepare-a-copy-of-flash-plugin">Prepare a Copy of Flash Plugin</h2>

<p>On OS X and Linux, the details of the Pepper Flash plugin can be found by
navigating to <code>chrome://plugins</code> in the Chrome browser. Its location and version
are useful for Electron&#39;s Pepper Flash support. You can also copy it to another
location.</p>

<h2 id="add-electron-switch">Add Electron Switch</h2>

<p>You can directly add <code>--ppapi-flash-path</code> and <code>ppapi-flash-version</code> to the
Electron command line or by using the <code>app.commandLine.appendSwitch</code> method
before the app ready event. Also, add the <code>plugins</code> switch of <code>browser-window</code>.
For example:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// Specify flash path.</span>
<span class="c1">// On Windows, it might be /path/to/pepflashplayer.dll</span>
<span class="c1">// On OS X, /path/to/PepperFlashPlayer.plugin</span>
<span class="c1">// On Linux, /path/to/libpepflashplayer.so</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">commandLine</span><span class="p">.</span><span class="nx">appendSwitch</span><span class="p">(</span><span class="s1">&#39;ppapi-flash-path&#39;</span><span class="p">,</span> <span class="s1">&#39;/path/to/libpepflashplayer.so&#39;</span><span class="p">);</span>

<span class="c1">// Specify flash version, for example, v17.0.0.169</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">commandLine</span><span class="p">.</span><span class="nx">appendSwitch</span><span class="p">(</span><span class="s1">&#39;ppapi-flash-version&#39;</span><span class="p">,</span> <span class="s1">&#39;17.0.0.169&#39;</span><span class="p">);</span>

<span class="nx">app</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;ready&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">mainWindow</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BrowserWindow</span><span class="p">({</span>
    <span class="s1">&#39;width&#39;</span><span class="o">:</span> <span class="mi">800</span><span class="p">,</span>
    <span class="s1">&#39;height&#39;</span><span class="o">:</span> <span class="mi">600</span><span class="p">,</span>
    <span class="s1">&#39;web-preferences&#39;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s1">&#39;plugins&#39;</span><span class="o">:</span> <span class="kc">true</span>
    <span class="p">}</span>
  <span class="p">});</span>
  <span class="nx">mainWindow</span><span class="p">.</span><span class="nx">loadURL</span><span class="p">(</span><span class="s1">&#39;file://&#39;</span> <span class="o">+</span> <span class="nx">__dirname</span> <span class="o">+</span> <span class="s1">&#39;/index.html&#39;</span><span class="p">);</span>
  <span class="c1">// Something else</span>
<span class="p">});</span>
</code></pre></div>

<h2 id="enable-flash-plugin-in-a-&lt;webview&gt;-tag">Enable Flash Plugin in a <code>&lt;webview&gt;</code> Tag</h2>

<p>Add <code>plugins</code> attribute to <code>&lt;webview&gt;</code> tag.</p>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;webview</span> <span class="na">src=</span><span class="s">&quot;http://www.adobe.com/software/flash/about/&quot;</span> <span class="na">plugins</span><span class="nt">&gt;&lt;/webview&gt;</span>
</code></pre></div>

<h1 id="using-selenium-and-webdriver">Using Selenium and WebDriver</h1>

<p>From <a href="https://sites.google.com/a/chromium.org/chromedriver/">ChromeDriver - WebDriver for Chrome</a>:</p>

<blockquote>
<p>WebDriver is an open source tool for automated testing of web apps across many
browsers. It provides capabilities for navigating to web pages, user input,
JavaScript execution, and more. ChromeDriver is a standalone server which
implements WebDriver&#39;s wire protocol for Chromium. It is being developed by
members of the Chromium and WebDriver teams.</p>
</blockquote>

<p>In order to use <code>chromedriver</code> with Electron you have to tell it where to
find Electron and make it think Electron is the Chrome browser.</p>

<h2 id="setting-up-with-webdriverjs">Setting up with WebDriverJs</h2>

<p><a href="https://code.google.com/p/selenium/wiki/WebDriverJs">WebDriverJs</a> provides
a Node package for testing with web driver, we will use it as an example.</p>

<h3 id="1.-start-chromedriver">1. Start ChromeDriver</h3>

<p>First you need to download the <code>chromedriver</code> binary, and run it:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>./chromedriver
Starting ChromeDriver <span class="o">(</span>v2.10.291558<span class="o">)</span> on port 9515
Only <span class="nb">local </span>connections are allowed.
</code></pre></div>

<p>Remember the port number <code>9515</code>, which will be used later</p>

<h3 id="2.-install-webdriverjs">2. Install WebDriverJS</h3>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>npm install selenium-webdriver
</code></pre></div>

<h3 id="3.-connect-to-chromedriver">3. Connect to ChromeDriver</h3>

<p>The usage of <code>selenium-webdriver</code> with Electron is basically the same with
upstream, except that you have to manually specify how to connect chrome driver
and where to find Electron&#39;s binary:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="nx">webdriver</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;selenium-webdriver&#39;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">driver</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">webdriver</span><span class="p">.</span><span class="nx">Builder</span><span class="p">()</span>
  <span class="c1">// The &quot;9515&quot; is the port opened by chrome driver.</span>
  <span class="p">.</span><span class="nx">usingServer</span><span class="p">(</span><span class="s1">&#39;http://localhost:9515&#39;</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">withCapabilities</span><span class="p">({</span>
    <span class="nx">chromeOptions</span><span class="o">:</span> <span class="p">{</span>
      <span class="c1">// Here is the path to your Electron binary.</span>
      <span class="nx">binary</span><span class="o">:</span> <span class="s1">&#39;/Path-to-Your-App.app/Contents/MacOS/Atom&#39;</span><span class="p">,</span>
    <span class="p">}</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="nx">forBrowser</span><span class="p">(</span><span class="s1">&#39;electron&#39;</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">build</span><span class="p">();</span>

<span class="nx">driver</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;http://www.google.com&#39;</span><span class="p">);</span>
<span class="nx">driver</span><span class="p">.</span><span class="nx">findElement</span><span class="p">(</span><span class="nx">webdriver</span><span class="p">.</span><span class="nx">By</span><span class="p">.</span><span class="nx">name</span><span class="p">(</span><span class="s1">&#39;q&#39;</span><span class="p">)).</span><span class="nx">sendKeys</span><span class="p">(</span><span class="s1">&#39;webdriver&#39;</span><span class="p">);</span>
<span class="nx">driver</span><span class="p">.</span><span class="nx">findElement</span><span class="p">(</span><span class="nx">webdriver</span><span class="p">.</span><span class="nx">By</span><span class="p">.</span><span class="nx">name</span><span class="p">(</span><span class="s1">&#39;btnG&#39;</span><span class="p">)).</span><span class="nx">click</span><span class="p">();</span>
<span class="nx">driver</span><span class="p">.</span><span class="nx">wait</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
 <span class="k">return</span> <span class="nx">driver</span><span class="p">.</span><span class="nx">getTitle</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">title</span><span class="p">)</span> <span class="p">{</span>
   <span class="k">return</span> <span class="nx">title</span> <span class="o">===</span> <span class="s1">&#39;webdriver - Google Search&#39;</span><span class="p">;</span>
 <span class="p">});</span>
<span class="p">},</span> <span class="mi">1000</span><span class="p">);</span>

<span class="nx">driver</span><span class="p">.</span><span class="nx">quit</span><span class="p">();</span>
</code></pre></div>

<h2 id="setting-up-with-webdriverio">Setting up with WebdriverIO</h2>

<p><a href="http://webdriver.io/">WebdriverIO</a> provides a Node package for testing with web
driver.</p>

<h3 id="1.-start-chromedriver">1. Start ChromeDriver</h3>

<p>First you need to download the <code>chromedriver</code> binary, and run it:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>chromedriver --url-base<span class="o">=</span>wd/hub --port<span class="o">=</span>9515
Starting ChromeDriver <span class="o">(</span>v2.10.291558<span class="o">)</span> on port 9515
Only <span class="nb">local </span>connections are allowed.
</code></pre></div>

<p>Remember the port number <code>9515</code>, which will be used later</p>

<h3 id="2.-install-webdriverio">2. Install WebdriverIO</h3>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>npm install webdriverio
</code></pre></div>

<h3 id="3.-connect-to-chrome-driver">3. Connect to chrome driver</h3>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="nx">webdriverio</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;webdriverio&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">host</span><span class="o">:</span> <span class="s2">&quot;localhost&quot;</span><span class="p">,</span> <span class="c1">// Use localhost as chrome driver server</span>
    <span class="nx">port</span><span class="o">:</span> <span class="mi">9515</span><span class="p">,</span>        <span class="c1">// &quot;9515&quot; is the port opened by chrome driver.</span>
    <span class="nx">desiredCapabilities</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">browserName</span><span class="o">:</span> <span class="s1">&#39;chrome&#39;</span><span class="p">,</span>
        <span class="nx">chromeOptions</span><span class="o">:</span> <span class="p">{</span>
          <span class="nx">binary</span><span class="o">:</span> <span class="s1">&#39;/Path-to-Your-App/electron&#39;</span><span class="p">,</span> <span class="c1">// Path to your Electron binary.</span>
          <span class="nx">args</span><span class="o">:</span> <span class="p">[</span><span class="cm">/* cli arguments */</span><span class="p">]</span>           <span class="c1">// Optional, perhaps &#39;app=&#39; + /path/to/your/app/</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">webdriverio</span><span class="p">.</span><span class="nx">remote</span><span class="p">(</span><span class="nx">options</span><span class="p">);</span>

<span class="nx">client</span>
    <span class="p">.</span><span class="nx">init</span><span class="p">()</span>
    <span class="p">.</span><span class="nx">url</span><span class="p">(</span><span class="s1">&#39;http://google.com&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">setValue</span><span class="p">(</span><span class="s1">&#39;#q&#39;</span><span class="p">,</span> <span class="s1">&#39;webdriverio&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="s1">&#39;#btnG&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">getTitle</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">title</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Title was: &#39;</span> <span class="o">+</span> <span class="nx">title</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="nx">end</span><span class="p">();</span>
</code></pre></div>

<h2 id="workflow">Workflow</h2>

<p>To test your application without rebuilding Electron, simply
<a href="https://github.com/atom/electron/blob/master/docs/tutorial/application-distribution.md">place</a>
your app source into Electron&#39;s resource directory.</p>

<p>Alternatively, pass an argument to run with your electron binary that points to
your app&#39;s folder. This eliminates the need to copy-paste your app into
Electron&#39;s resource directory.</p>

<h1 id="using-widevine-cdm-plugin">Using Widevine CDM Plugin</h1>

<p>In Electron you can use the Widevine CDM plugin shipped with Chrome browser.</p>

<h2 id="getting-the-plugin">Getting the plugin</h2>

<p>Electron doesn&#39;t ship with the Widevine CDM plugin for license reasons, to get
it, you need to install the official Chrome browser first, which should match
the architecture and Chrome version of the Electron build you use.</p>

<h3 id="windows-&amp;-os-x">Windows &amp; OS X</h3>

<p>Open <code>chrome://components/</code> in Chrome browser, find <code>WidevineCdm</code> and make
sure it is up to date, then you can find all the plugin binaries from the
<code>APP_DATA/Google/Chrome/WidevineCDM/VERSION/_platform_specific/PLATFORM_ARCH/</code>
directory.</p>

<p><code>APP_DATA</code> is system&#39;s location for storing app data, on Windows it is
<code>%LOCALAPPDATA%</code>, on OS X it is <code>~/Library/Application Support</code>. <code>VERSION</code> is
Widevine CDM plugin&#39;s version string, like <code>1.4.8.866</code>. <code>PLATFORM</code> is <code>mac</code> or
<code>win</code>. <code>ARCH</code> is <code>x86</code> or <code>x64</code>.</p>

<p>On Windows the required binaries are <code>widevinecdm.dll</code> and
<code>widevinecdmadapter.dll</code>, on OS X they are <code>libwidevinecdm.dylib</code> and
<code>widevinecdmadapter.plugin</code>. You can copy them to anywhere you like, but they
have to be put together.</p>

<h3 id="linux">Linux</h3>

<p>On Linux the plugin binaries are shipped together with Chrome browser, you can
find them under <code>/opt/google/chrome</code>, the filenames are <code>libwidevinecdm.so</code> and
<code>libwidevinecdmadapter.so</code>.</p>

<h2 id="using-the-plugin">Using the plugin</h2>

<p>After getting the plugin files, you should pass the <code>widevinecdmadapter</code>&#39;s path
to Electron with <code>--widevine-cdm-path</code> command line switch, and the plugin&#39;s
version with <code>--widevine-cdm-version</code> switch.</p>

<p><strong>Note:</strong> Though only the <code>widevinecdmadapter</code> binary is passed to Electron, the
<code>widevinecdm</code> binary has to be put aside it.</p>

<p>The command line switches have to be passed before the <code>ready</code> event of <code>app</code>
module gets emitted, and the page that uses this plugin must have plugin
enabled.</p>

<p>Example code:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// You have to pass the filename of `widevinecdmadapter` here, it is</span>
<span class="c1">// * `widevinecdmadapter.plugin` on OS X,</span>
<span class="c1">// * `libwidevinecdmadapter.so` on Linux,</span>
<span class="c1">// * `widevinecdmadapter.dll` on Windows.</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">commandLine</span><span class="p">.</span><span class="nx">appendSwitch</span><span class="p">(</span><span class="s1">&#39;widevine-cdm-path&#39;</span><span class="p">,</span> <span class="s1">&#39;/path/to/widevinecdmadapter.plugin&#39;</span><span class="p">);</span>
<span class="c1">// The version of plugin can be got from `chrome://plugins` page in Chrome.</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">commandLine</span><span class="p">.</span><span class="nx">appendSwitch</span><span class="p">(</span><span class="s1">&#39;widevine-cdm-version&#39;</span><span class="p">,</span> <span class="s1">&#39;1.4.8.866&#39;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">mainWindow</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;ready&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">mainWindow</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BrowserWindow</span><span class="p">({</span>
    <span class="nx">webPreferences</span><span class="o">:</span> <span class="p">{</span>
      <span class="c1">// The `plugins` have to be enabled.</span>
      <span class="nx">plugins</span><span class="o">:</span> <span class="kc">true</span>
    <span class="p">}</span>
  <span class="p">})</span>
<span class="p">});</span>
</code></pre></div>

<h2 id="verifying-the-plugin">Verifying the plugin</h2>

<p>To verify whether the plugin works, you can use following ways:</p>

<ul>
<li>Open devtools and check whether <code>navigator.plugins</code> includes the Widevine
CDM plugin.</li>
<li>Open https://shaka-player-demo.appspot.com/ and load a manifest that uses
<code>Widevine</code>.</li>
<li>Open http://www.dash-player.com/demo/drm-test-area/, check whether the page
says <code>bitdash uses Widevine in your browser</code>, then play the video.</li>
</ul>


      </div>
    </div>
    
  </div>
</section>

</div>

      </div>
    </div>

    <footer>
  <div class='container'>
    <div class='row'>
      <div class='one-half column'>
        <ul class='inline-list'>
          <li><a href='https://github.com/atom/electron'>Repository</a></li>
          <li><a href='/docs/v0.36.5'>Documentation</a></li>
          <li><a href='/releases.html'>Releases</a></li>
          <li><a href='http://blog.atom.io'>Blog</a></li>
          <li><a href='https://discuss.atom.io/c/electron'>Discuss</a></li>
        </ul>
      </div>

      <div class='one-half column text-right'>
        <a href='https://github.com' class="no-hover-dec"><span class='octicon octicon-code'></span> with <span class='octicon octicon-heart'></span> by <span class='octicon octicon-logo-github'></span></a>
      </div>
  </div>
</footer>

    <script>
  var anchorForId = function (id) {
    var anchor = document.createElement("a");
    anchor.className = "header-link";
    anchor.href      = "#" + id;
    anchor.innerHTML = "<span class='octicon octicon-link'></span>";
    anchor.title = "Permalink";
    return anchor;
  };

  var linkifyAnchors = function (level, containingElement) {
    var headers = containingElement.getElementsByTagName("h" + level);
    for (var h = 0; h < headers.length; h++) {
      var header = headers[h];

      if (typeof header.id !== "undefined" && header.id !== "") {
        header.appendChild(anchorForId(header.id));
      }
    }
  };

  document.onreadystatechange = function () {
    if (this.readyState === "complete") {
      var contentBlock = document.getElementsByClassName("docs")[0] || document.getElementsByClassName("news")[0];
      if (!contentBlock) {
        return;
      }
      for (var level = 1; level <= 6; level++) {
        linkifyAnchors(level, contentBlock);
      }
    }
  };
</script>

  </body>

</html>
