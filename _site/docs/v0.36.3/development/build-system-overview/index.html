<!DOCTYPE html>
<html>

  <head>
  <meta charset='utf-8'>
  <meta http-equiv='X-UA-Compatible' content='IE=edge'>
  <meta name='viewport' content='width=device-width, initial-scale=1'>

  <title>Build System Overview</title>
  <meta name='description' content='Build cross platform desktop apps with web technologies'>

  <link rel='shortcut icon' href='/images/favicon.ico'/>
  <link rel='stylesheet' href='/css/normalize.css'>
  <link rel='stylesheet' href='/css/skeleton.css'>
  <link rel='stylesheet' href='/css/main.css'>
  <link rel='stylesheet' href='/css/octicons/octicons.css'>
  <link rel='stylesheet' href='/css/pygments.css'>
  <link href='http://fonts.googleapis.com/css?family=Source+Code+Pro:400,700' rel='stylesheet' type='text/css'>
  <link rel='canonical' href='/docs/v0.36.3/development/build-system-overview/'>
  <link rel='alternate' type='application/rss+xml' title='Electron' href='/feed.xml' />
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-3769691-57', 'auto');
    ga('send', 'pageview');
  </script>
</head>


  <body>

    <header>
  <div class='top-bar'>
    <div class='container'>
      <div class='row'>
        <div class='four columns'>
          <ul class='navigation inline-list'>
            <li><a href='/#built-on-electron'>Built on Electron</a></li>
            <li><a href='/#get-started'>Get Started</a></li>
          </ul>
        </div>
        <div class='eight columns text-right'>
          <ul class='navigation inline-list'>
            <li><a href='https://github.com/atom/electron'>Repository</a></li>
            <li><a href='/docs/v0.36.5'>Documentation</a></li>
            <li><a href='http://blog.atom.io'>Blog</a></li>
            <li><a href='https://discuss.atom.io/c/electron'>Discuss</a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>


    <div class='page-content'>
      <div class='wrapper'>
        <div class='page-template build-system-overview'>
  <section class='jump-to-release is-compact'>
  <div class='container'>
    <div class='row'>
      <div class='twelve columns'>
      <h1><img class="electron-icon" src='/images/electron-icon.svg'>Electron Documentation</h1>
      
      <a href='/docs/v0.36.3/'>v0.36.3  </a> |
      <a href='https://github.com/atom/electron/blob/master/docs/development/build-system-overview.md'>Document Source</a>
      
      </div>
    </div>
  </div>
</section>

<section class='docs'>
  <div class='container'>
    <div class='row'>
      <div class='ten columns release offset-by-one'>
        
        <h6 class='docs-breadcrumb'>v0.36.3 / Development
           / Build System Overview </h6>
        

        <h1 id="build-system-overview">Build System Overview</h1>

<p>Electron uses <code>gyp</code> for project generation and <code>ninja</code> for building. Project
configurations can be found in the <code>.gyp</code> and <code>.gypi</code> files.</p>

<h2 id="gyp-files">Gyp Files</h2>

<p>Following <code>gyp</code> files contain the main rules for building Electron:</p>

<ul>
<li><code>atom.gyp</code> defines how Electron itself is built.</li>
<li><code>common.gypi</code> adjusts the build configurations of Node to make it build
together with Chromium.</li>
<li><code>vendor/brightray/brightray.gyp</code> defines how <code>brightray</code> is built and
includes the default configurations for linking with Chromium.</li>
<li><code>vendor/brightray/brightray.gypi</code> includes general build configurations about
building.</li>
</ul>

<h2 id="component-build">Component Build</h2>

<p>Since Chromium is quite a large project, the final linking stage can take
quite a few minutes, which makes it hard for development. In order to solve
this, Chromium introduced the &quot;component build&quot;, which builds each component as
a separate shared library, making linking very quick but sacrificing file size
and performance.</p>

<p>In Electron we took a very similar approach: for <code>Debug</code> builds, the binary
will be linked to a shared library version of Chromium&#39;s components to achieve
fast linking time; for <code>Release</code> builds, the binary will be linked to the static
library versions, so we can have the best possible binary size and performance.</p>

<h2 id="minimal-bootstrapping">Minimal Bootstrapping</h2>

<p>All of Chromium&#39;s prebuilt binaries (<code>libchromiumcontent</code>) are downloaded when
running the bootstrap script. By default both static libraries and shared
libraries will be downloaded and the final size should be between 800MB and 2GB
depending on the platform.</p>

<p>By default, <code>libchromiumcontent</code> is downloaded from Amazon Web Services.
If the <code>LIBCHROMIUMCONTENT_MIRROR</code> environment variable is set, the bootstrap
script will download from it.
<a href="https://github.com/hokein/libchromiumcontent-qiniu-mirror"><code>libchromiumcontent-qiniu-mirror</code></a>
is a mirror for <code>libchromiumcontent</code>. If you have trouble in accessing AWS, you
can switch the download address to it via
<code>export LIBCHROMIUMCONTENT_MIRROR=http://7xk3d2.dl1.z0.glb.clouddn.com/</code></p>

<p>If you only want to build Electron quickly for testing or development, you
can download just the shared library versions by passing the <code>--dev</code> parameter:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>./script/bootstrap.py --dev
<span class="nv">$ </span>./script/build.py -c D
</code></pre></div>
<h2 id="two-phase-project-generation">Two-Phase Project Generation</h2>

<p>Electron links with different sets of libraries in <code>Release</code> and <code>Debug</code>
builds. <code>gyp</code>, however, doesn&#39;t support configuring different link settings for
different configurations.</p>

<p>To work around this Electron uses a <code>gyp</code> variable
<code>libchromiumcontent_component</code> to control which link settings to use and only
generates one target when running <code>gyp</code>.</p>

<h2 id="target-names">Target Names</h2>

<p>Unlike most projects that use <code>Release</code> and <code>Debug</code> as target names, Electron
uses <code>R</code> and <code>D</code> instead. This is because <code>gyp</code> randomly crashes if there is
only one <code>Release</code> or <code>Debug</code> build configuration defined, and Electron only has
to generate one target at a time as stated above.</p>

<p>This only affects developers, if you are just building Electron for rebranding
you are not affected.</p>


      </div>
    </div>
    
    <div class='row'>
      <div class='ten columns release offset-by-one docs-footer'>
        <span class="octicon octicon-pencil"></span>
        See something that needs fixing? Propose a change on the <a href='https://github.com/atom/electron/blob/master/docs/development/build-system-overview.md'>source</a>.
        <br>
        <span class="octicon octicon-zap"></span>
        Need a different version of the docs? See the <a href='/docs'>available versions</a>.
      </div>
    </div>
    
  </div>
</section>

</div>

      </div>
    </div>

    <footer>
  <div class='container'>
    <div class='row'>
      <div class='one-half column'>
        <ul class='inline-list'>
          <li><a href='https://github.com/atom/electron'>Repository</a></li>
          <li><a href='/docs/v0.36.5'>Documentation</a></li>
          <li><a href='/releases.html'>Releases</a></li>
          <li><a href='http://blog.atom.io'>Blog</a></li>
          <li><a href='https://discuss.atom.io/c/electron'>Discuss</a></li>
        </ul>
      </div>

      <div class='one-half column text-right'>
        <a href='https://github.com' class="no-hover-dec"><span class='octicon octicon-code'></span> with <span class='octicon octicon-heart'></span> by <span class='octicon octicon-logo-github'></span></a>
      </div>
  </div>
</footer>

    <script>
  var anchorForId = function (id) {
    var anchor = document.createElement("a");
    anchor.className = "header-link";
    anchor.href      = "#" + id;
    anchor.innerHTML = "<span class='octicon octicon-link'></span>";
    anchor.title = "Permalink";
    return anchor;
  };

  var linkifyAnchors = function (level, containingElement) {
    var headers = containingElement.getElementsByTagName("h" + level);
    for (var h = 0; h < headers.length; h++) {
      var header = headers[h];

      if (typeof header.id !== "undefined" && header.id !== "") {
        header.appendChild(anchorForId(header.id));
      }
    }
  };

  document.onreadystatechange = function () {
    if (this.readyState === "complete") {
      var contentBlock = document.getElementsByClassName("docs")[0] || document.getElementsByClassName("news")[0];
      if (!contentBlock) {
        return;
      }
      for (var level = 1; level <= 6; level++) {
        linkifyAnchors(level, contentBlock);
      }
    }
  };
</script>

  </body>

</html>
