<!DOCTYPE html>
<html>

  <head>
  <meta charset='utf-8'>
  <meta http-equiv='X-UA-Compatible' content='IE=edge'>
  <meta name='viewport' content='width=device-width, initial-scale=1'>

  <title>Remote</title>
  <meta name='description' content='Build cross platform desktop apps with web technologies'>

  <link rel='shortcut icon' href='/images/favicon.ico'/>
  <link rel='stylesheet' href='/css/normalize.css'>
  <link rel='stylesheet' href='/css/skeleton.css'>
  <link rel='stylesheet' href='/css/main.css'>
  <link rel='stylesheet' href='/css/octicons/octicons.css'>
  <link rel='stylesheet' href='/css/pygments.css'>
  <link href='http://fonts.googleapis.com/css?family=Source+Code+Pro:400,700' rel='stylesheet' type='text/css'>
  <link rel='canonical' href='/docs/v0.32.0/api/remote/'>
  <link rel='alternate' type='application/rss+xml' title='Ligra' href='/feed.xml' />
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-3769691-57', 'auto');
    ga('send', 'pageview');
  </script>
</head>


  <body>

    <header>
  <div class='top-bar'>
    <div class='container'>
      <div class='row'>
        <div class='four columns'>
          <ul class='navigation inline-list'>
            <li><a href='/#built-on-electron'>Built on Electron</a></li>
            <li><a href='/#get-started'>Get Started</a></li>
          </ul>
        </div>
        <div class='eight columns text-right'>
          <ul class='navigation inline-list'>
            <li><a href='https://github.com/atom/electron'>Repository</a></li>
            <li><a href='/docs/v0.36.5'>Documentation</a></li>
            <li><a href='http://blog.atom.io'>Blog</a></li>
            <li><a href='https://discuss.atom.io/c/electron'>Discuss</a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>


    <div class='page-content'>
      <div class='wrapper'>
        <div class='page-template remote'>
  <section class='jump-to-release is-compact'>
  <div class='container'>
    <div class='row'>
      <div class='twelve columns'>
      <h1><img class="electron-icon" src='/images/electron-icon.svg'>Electron Documentation</h1>
      
      <a href='/docs/v0.32.0/'>v0.32.0  </a> |
      <a href='https://github.com/atom/electron/blob/master/docs/api/remote.md'>Document Source</a>
      
      </div>
    </div>
  </div>
</section>

<section class='docs'>
  <div class='container'>
    <div class='row'>
      <div class='ten columns release offset-by-one'>
        
        <h6 class='docs-breadcrumb'>v0.32.0 / API
           / Remote </h6>
        

        <h1 id="remote">remote</h1>

<p>The <code>remote</code> module provides a simple way to do inter-process communication
(IPC) between the renderer process (web page) and the main process.</p>

<p>In Electron, only GUI-unrelated modules are available in the renderer process.
Without the <code>remote</code> module, users who want to call a main process API in
the renderer process will have to explicitly send inter-process messages
to the main process. With the <code>remote</code> module, you can invoke methods of the
main process object without explicitly sending inter-process messages, similar
to Java&#39;s <a href="http://en.wikipedia.org/wiki/Java_remote_method_invocation">RMI</a>.</p>

<p>An example of creating a browser window from a renderer process:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">remote</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;remote&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">BrowserWindow</span> <span class="o">=</span> <span class="nx">remote</span><span class="p">.</span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;browser-window&#39;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">win</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BrowserWindow</span><span class="p">({</span> <span class="nx">width</span><span class="o">:</span> <span class="mi">800</span><span class="p">,</span> <span class="nx">height</span><span class="o">:</span> <span class="mi">600</span> <span class="p">});</span>
<span class="nx">win</span><span class="p">.</span><span class="nx">loadUrl</span><span class="p">(</span><span class="s1">&#39;https://github.com&#39;</span><span class="p">);</span>
</code></pre></div>
<p><strong>Note</strong>: for the reverse (access the renderer process from the main process),
you can use <a href="http://electron.atom.io/docs/v0.32.0/api/browser-window#webcontents-executejavascript-code">webContents.executeJavascript</a>.</p>

<h2 id="remote-objects">Remote Objects</h2>

<p>Each object (including functions) returned by the <code>remote</code> module represents an
object in the main process (we call it a remote object or remote function).
When you invoke methods of a remote object, call a remote function, or create
a new object with the remote constructor (function), you are actually sending
synchronous inter-process messages.</p>

<p>In the example above, both <code>BrowserWindow</code> and <code>win</code> were remote objects and
<code>new BrowserWindow</code> didn&#39;t create a <code>BrowserWindow</code> object in the renderer
process. Instead, it created a <code>BrowserWindow</code> object in the main process and
returned the corresponding remote object in the renderer process, namely the
<code>win</code> object.</p>

<h2 id="lifetime-of-remote-objects">Lifetime of Remote Objects</h2>

<p>Electron makes sure that as long as the remote object in the renderer process
lives (in other words, has not been garbage collected), the corresponding object
in the main process will not be released. When the remote object has been
garbage collected, the corresponding object in the main process will be
dereferenced.</p>

<p>If the remote object is leaked in the renderer process (e.g. stored in a map but
never freed), the corresponding object in the main process will also be leaked,
so you should be very careful not to leak remote objects.</p>

<p>Primary value types like strings and numbers, however, are sent by copy.</p>

<h2 id="passing-callbacks-to-the-main-process">Passing callbacks to the main process</h2>

<p>Code in the main process can accept callbacks from the renderer - for instance
the <code>remote</code> module - but you should be extremely careful when using this
feature.</p>

<p>First, in order to avoid deadlocks, the callbacks passed to the main process
are called asynchronously. You should not expect the main process to
get the return value of the passed callbacks.</p>

<p>For instance you can&#39;t use a function from the renderer process in an
<code>Array.map</code> called in the main process:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// main process mapNumbers.js</span>
<span class="nx">exports</span><span class="p">.</span><span class="nx">withRendererCallback</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">mapper</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">].</span><span class="nx">map</span><span class="p">(</span><span class="nx">mapper</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">exports</span><span class="p">.</span><span class="nx">withLocalCallback</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">exports</span><span class="p">.</span><span class="nx">mapNumbers</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
  <span class="p">});</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// renderer process</span>
<span class="kd">var</span> <span class="nx">mapNumbers</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;remote&quot;</span><span class="p">).</span><span class="nx">require</span><span class="p">(</span><span class="s2">&quot;mapNumbers&quot;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">withRendererCb</span> <span class="o">=</span> <span class="nx">mapNumbers</span><span class="p">.</span><span class="nx">withRendererCallback</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">})</span>

<span class="kd">var</span> <span class="nx">withLocalCb</span> <span class="o">=</span> <span class="nx">mapNumbers</span><span class="p">.</span><span class="nx">withLocalCallback</span><span class="p">()</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">withRendererCb</span><span class="p">,</span> <span class="nx">withLocalCb</span><span class="p">)</span> <span class="c1">// [true, true, true], [2, 3, 4]</span>
</code></pre></div>
<p>As you can see, the renderer callback&#39;s synchronous return value was not as
expected, and didn&#39;t match the return value of an identical callback that lives
in the main process.</p>

<p>Second, the callbacks passed to the main process will persist until the
main process garbage-collects them.</p>

<p>For example, the following code seems innocent at first glance. It installs a
callback for the <code>close</code> event on a remote object:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">remote</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;remote&#39;</span><span class="p">);</span>

<span class="nx">remote</span><span class="p">.</span><span class="nx">getCurrentWindow</span><span class="p">().</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;close&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// blabla...</span>
<span class="p">});</span>
</code></pre></div>
<p>But remember the callback is referenced by the main process until you
explicitly uninstall it. If you do not, each time you reload your window the
callback will be installed again, leaking one callback for each restart.</p>

<p>To make things worse, since the context of previously installed callbacks has
been released, exceptions will be raised in the main process when the <code>close</code>
event is emitted.</p>

<p>To avoid this problem, ensure you clean up any references to renderer callbacks
passed to the main process. This involves cleaning up event handlers, or
ensuring the main process is explicitly told to deference callbacks that came
from a renderer process that is exiting.</p>

<h2 id="methods">Methods</h2>

<p>The <code>remote</code> module has the following methods:</p>

<h3 id="remote.require(module)"><code>remote.require(module)</code></h3>

<ul>
<li><code>module</code> String</li>
</ul>

<p>Returns the object returned by <code>require(module)</code> in the main process.</p>

<h3 id="remote.getcurrentwindow()"><code>remote.getCurrentWindow()</code></h3>

<p>Returns the <a href="http://electron.atom.io/docs/v0.32.0/api/browser-window"><code>BrowserWindow</code></a> object to which this web page
belongs.</p>

<h3 id="remote.getcurrentwebcontents()"><code>remote.getCurrentWebContents()</code></h3>

<p>Returns the <a href="http://electron.atom.io/docs/v0.32.0/api/web-contents"><code>WebContents</code></a> object of this web page.</p>

<h3 id="remote.getglobal(name)"><code>remote.getGlobal(name)</code></h3>

<ul>
<li><code>name</code> String</li>
</ul>

<p>Returns the global variable of <code>name</code> (e.g. <code>global[name]</code>) in the main
process.</p>

<h3 id="remote.process"><code>remote.process</code></h3>

<p>Returns the <code>process</code> object in the main process. This is the same as
<code>remote.getGlobal(&#39;process&#39;)</code> but is cached.</p>


      </div>
    </div>
    
    <div class='row'>
      <div class='ten columns release offset-by-one docs-footer'>
        <span class="octicon octicon-pencil"></span>
        See something that needs fixing? Propose a change on the <a href='https://github.com/atom/electron/blob/master/docs/api/remote.md'>source</a>.
        <br>
        <span class="octicon octicon-zap"></span>
        Need a different version of the docs? See the <a href='/docs'>available versions</a>.
      </div>
    </div>
    
  </div>
</section>

</div>

      </div>
    </div>

    <footer>
  <div class='container'>
    <div class='row'>
      <div class='one-half column'>
        <ul class='inline-list'>
          <li><a href='https://github.com/atom/electron'>Repository</a></li>
          <li><a href='/docs/v0.36.5'>Documentation</a></li>
          <li><a href='/releases.html'>Releases</a></li>
          <li><a href='http://blog.atom.io'>Blog</a></li>
          <li><a href='https://discuss.atom.io/c/electron'>Discuss</a></li>
        </ul>
      </div>

      <div class='one-half column text-right'>
        <a href='https://github.com' class="no-hover-dec"><span class='octicon octicon-code'></span> with <span class='octicon octicon-heart'></span> by <span class='octicon octicon-logo-github'></span></a>
      </div>
  </div>
</footer>

    <script>
  var anchorForId = function (id) {
    var anchor = document.createElement("a");
    anchor.className = "header-link";
    anchor.href      = "#" + id;
    anchor.innerHTML = "<span class='octicon octicon-link'></span>";
    anchor.title = "Permalink";
    return anchor;
  };

  var linkifyAnchors = function (level, containingElement) {
    var headers = containingElement.getElementsByTagName("h" + level);
    for (var h = 0; h < headers.length; h++) {
      var header = headers[h];

      if (typeof header.id !== "undefined" && header.id !== "") {
        header.appendChild(anchorForId(header.id));
      }
    }
  };

  document.onreadystatechange = function () {
    if (this.readyState === "complete") {
      var contentBlock = document.getElementsByClassName("docs")[0] || document.getElementsByClassName("news")[0];
      if (!contentBlock) {
        return;
      }
      for (var level = 1; level <= 6; level++) {
        linkifyAnchors(level, contentBlock);
      }
    }
  };
</script>

  </body>

</html>
